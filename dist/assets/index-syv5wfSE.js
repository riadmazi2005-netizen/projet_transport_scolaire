function Hk(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var o_={exports:{}},Om={},l_={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ou=Symbol.for("react.element"),qk=Symbol.for("react.portal"),Gk=Symbol.for("react.fragment"),Kk=Symbol.for("react.strict_mode"),Yk=Symbol.for("react.profiler"),Xk=Symbol.for("react.provider"),Jk=Symbol.for("react.context"),Zk=Symbol.for("react.forward_ref"),Qk=Symbol.for("react.suspense"),e5=Symbol.for("react.memo"),t5=Symbol.for("react.lazy"),$b=Symbol.iterator;function r5(e){return e===null||typeof e!="object"?null:(e=$b&&e[$b]||e["@@iterator"],typeof e=="function"?e:null)}var c_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u_=Object.assign,d_={};function ul(e,t,r){this.props=e,this.context=t,this.refs=d_,this.updater=r||c_}ul.prototype.isReactComponent={};ul.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ul.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function f_(){}f_.prototype=ul.prototype;function ty(e,t,r){this.props=e,this.context=t,this.refs=d_,this.updater=r||c_}var ry=ty.prototype=new f_;ry.constructor=ty;u_(ry,ul.prototype);ry.isPureReactComponent=!0;var Db=Array.isArray,m_=Object.prototype.hasOwnProperty,ny={current:null},h_={key:!0,ref:!0,__self:!0,__source:!0};function p_(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)m_.call(t,n)&&!h_.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Ou,type:e,key:s,ref:o,props:i,_owner:ny.current}}function n5(e,t){return{$$typeof:Ou,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ay(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ou}function a5(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ib=/\/+/g;function Jh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?a5(""+e.key):t.toString(36)}function Od(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ou:case qk:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Jh(o,0):n,Db(i)?(r="",e!=null&&(r=e.replace(Ib,"$&/")+"/"),Od(i,t,r,"",function(u){return u})):i!=null&&(ay(i)&&(i=n5(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ib,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",Db(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+Jh(s,l);o+=Od(s,t,r,c,i)}else if(c=r5(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+Jh(s,l++),o+=Od(s,t,r,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function qu(e,t,r){if(e==null)return e;var n=[],i=0;return Od(e,n,"","",function(s){return t.call(r,s,i++)}),n}function i5(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $r={current:null},Ed={transition:null},s5={ReactCurrentDispatcher:$r,ReactCurrentBatchConfig:Ed,ReactCurrentOwner:ny};function g_(){throw Error("act(...) is not supported in production builds of React.")}Ze.Children={map:qu,forEach:function(e,t,r){qu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return qu(e,function(){t++}),t},toArray:function(e){return qu(e,function(t){return t})||[]},only:function(e){if(!ay(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ze.Component=ul;Ze.Fragment=Gk;Ze.Profiler=Yk;Ze.PureComponent=ty;Ze.StrictMode=Kk;Ze.Suspense=Qk;Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s5;Ze.act=g_;Ze.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=u_({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=ny.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)m_.call(t,c)&&!h_.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ou,type:e.type,key:i,ref:s,props:n,_owner:o}};Ze.createContext=function(e){return e={$$typeof:Jk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Xk,_context:e},e.Consumer=e};Ze.createElement=p_;Ze.createFactory=function(e){var t=p_.bind(null,e);return t.type=e,t};Ze.createRef=function(){return{current:null}};Ze.forwardRef=function(e){return{$$typeof:Zk,render:e}};Ze.isValidElement=ay;Ze.lazy=function(e){return{$$typeof:t5,_payload:{_status:-1,_result:e},_init:i5}};Ze.memo=function(e,t){return{$$typeof:e5,type:e,compare:t===void 0?null:t}};Ze.startTransition=function(e){var t=Ed.transition;Ed.transition={};try{e()}finally{Ed.transition=t}};Ze.unstable_act=g_;Ze.useCallback=function(e,t){return $r.current.useCallback(e,t)};Ze.useContext=function(e){return $r.current.useContext(e)};Ze.useDebugValue=function(){};Ze.useDeferredValue=function(e){return $r.current.useDeferredValue(e)};Ze.useEffect=function(e,t){return $r.current.useEffect(e,t)};Ze.useId=function(){return $r.current.useId()};Ze.useImperativeHandle=function(e,t,r){return $r.current.useImperativeHandle(e,t,r)};Ze.useInsertionEffect=function(e,t){return $r.current.useInsertionEffect(e,t)};Ze.useLayoutEffect=function(e,t){return $r.current.useLayoutEffect(e,t)};Ze.useMemo=function(e,t){return $r.current.useMemo(e,t)};Ze.useReducer=function(e,t,r){return $r.current.useReducer(e,t,r)};Ze.useRef=function(e){return $r.current.useRef(e)};Ze.useState=function(e){return $r.current.useState(e)};Ze.useSyncExternalStore=function(e,t,r){return $r.current.useSyncExternalStore(e,t,r)};Ze.useTransition=function(){return $r.current.useTransition()};Ze.version="18.3.1";l_.exports=Ze;var _=l_.exports;const I=mt(_),o5=Hk({__proto__:null,default:I},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l5=_,c5=Symbol.for("react.element"),u5=Symbol.for("react.fragment"),d5=Object.prototype.hasOwnProperty,f5=l5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m5={key:!0,ref:!0,__self:!0,__source:!0};function x_(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)d5.call(t,n)&&!m5.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:c5,type:e,key:s,ref:o,props:i,_owner:f5.current}}Om.Fragment=u5;Om.jsx=x_;Om.jsxs=x_;o_.exports=Om;var a=o_.exports,gg={},y_={exports:{}},an={},v_={exports:{}},b_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,Y){var J=F.length;F.push(Y);e:for(;0<J;){var k=J-1>>>1,K=F[k];if(0<i(K,Y))F[k]=Y,F[J]=K,J=k;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var Y=F[0],J=F.pop();if(J!==Y){F[0]=J;e:for(var k=0,K=F.length,oe=K>>>1;k<oe;){var B=2*(k+1)-1,M=F[B],re=B+1,we=F[re];if(0>i(M,J))re<K&&0>i(we,M)?(F[k]=we,F[re]=J,k=re):(F[k]=M,F[B]=J,k=B);else if(re<K&&0>i(we,J))F[k]=we,F[re]=J,k=re;else break e}}return Y}function i(F,Y){var J=F.sortIndex-Y.sortIndex;return J!==0?J:F.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,d=null,m=3,p=!1,v=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(F){for(var Y=r(u);Y!==null;){if(Y.callback===null)n(u);else if(Y.startTime<=F)n(u),Y.sortIndex=Y.expirationTime,t(c,Y);else break;Y=r(u)}}function N(F){if(g=!1,h(F),!v)if(r(c)!==null)v=!0,G(j);else{var Y=r(u);Y!==null&&X(N,Y.startTime-F)}}function j(F,Y){v=!1,g&&(g=!1,x(P),P=-1),p=!0;var J=m;try{for(h(Y),d=r(c);d!==null&&(!(d.expirationTime>Y)||F&&!O());){var k=d.callback;if(typeof k=="function"){d.callback=null,m=d.priorityLevel;var K=k(d.expirationTime<=Y);Y=e.unstable_now(),typeof K=="function"?d.callback=K:d===r(c)&&n(c),h(Y)}else n(c);d=r(c)}if(d!==null)var oe=!0;else{var B=r(u);B!==null&&X(N,B.startTime-Y),oe=!1}return oe}finally{d=null,m=J,p=!1}}var b=!1,S=null,P=-1,A=5,E=-1;function O(){return!(e.unstable_now()-E<A)}function C(){if(S!==null){var F=e.unstable_now();E=F;var Y=!0;try{Y=S(!0,F)}finally{Y?T():(b=!1,S=null)}}else b=!1}var T;if(typeof y=="function")T=function(){y(C)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,z=R.port2;R.port1.onmessage=C,T=function(){z.postMessage(null)}}else T=function(){w(C,0)};function G(F){S=F,b||(b=!0,T())}function X(F,Y){P=w(function(){F(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,G(j))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(F){switch(m){case 1:case 2:case 3:var Y=3;break;default:Y=m}var J=m;m=Y;try{return F()}finally{m=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,Y){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var J=m;m=F;try{return Y()}finally{m=J}},e.unstable_scheduleCallback=function(F,Y,J){var k=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?k+J:k):J=k,F){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=J+K,F={id:f++,callback:Y,priorityLevel:F,startTime:J,expirationTime:K,sortIndex:-1},J>k?(F.sortIndex=J,t(u,F),r(c)===null&&F===r(u)&&(g?(x(P),P=-1):g=!0,X(N,J-k))):(F.sortIndex=K,t(c,F),v||p||(v=!0,G(j))),F},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(F){var Y=m;return function(){var J=m;m=Y;try{return F.apply(this,arguments)}finally{m=J}}}})(b_);v_.exports=b_;var h5=v_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p5=_,rn=h5;function he(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j_=new Set,jc={};function Os(e,t){Oo(e,t),Oo(e+"Capture",t)}function Oo(e,t){for(jc[e]=t,e=0;e<t.length;e++)j_.add(t[e])}var ka=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xg=Object.prototype.hasOwnProperty,g5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lb={},Rb={};function x5(e){return xg.call(Rb,e)?!0:xg.call(Lb,e)?!1:g5.test(e)?Rb[e]=!0:(Lb[e]=!0,!1)}function y5(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function v5(e,t,r,n){if(t===null||typeof t>"u"||y5(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dr(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var hr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){hr[e]=new Dr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];hr[t]=new Dr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){hr[e]=new Dr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){hr[e]=new Dr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){hr[e]=new Dr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){hr[e]=new Dr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){hr[e]=new Dr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){hr[e]=new Dr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){hr[e]=new Dr(e,5,!1,e.toLowerCase(),null,!1,!1)});var iy=/[\-:]([a-z])/g;function sy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(iy,sy);hr[t]=new Dr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(iy,sy);hr[t]=new Dr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(iy,sy);hr[t]=new Dr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){hr[e]=new Dr(e,1,!1,e.toLowerCase(),null,!1,!1)});hr.xlinkHref=new Dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){hr[e]=new Dr(e,1,!1,e.toLowerCase(),null,!0,!0)});function oy(e,t,r,n){var i=hr.hasOwnProperty(t)?hr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(v5(t,r,i,n)&&(r=null),n||i===null?x5(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ua=p5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gu=Symbol.for("react.element"),Vs=Symbol.for("react.portal"),Us=Symbol.for("react.fragment"),ly=Symbol.for("react.strict_mode"),yg=Symbol.for("react.profiler"),w_=Symbol.for("react.provider"),N_=Symbol.for("react.context"),cy=Symbol.for("react.forward_ref"),vg=Symbol.for("react.suspense"),bg=Symbol.for("react.suspense_list"),uy=Symbol.for("react.memo"),Ja=Symbol.for("react.lazy"),S_=Symbol.for("react.offscreen"),Bb=Symbol.iterator;function El(e){return e===null||typeof e!="object"?null:(e=Bb&&e[Bb]||e["@@iterator"],typeof e=="function"?e:null)}var Lt=Object.assign,Zh;function Xl(e){if(Zh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Zh=t&&t[1]||""}return`
`+Zh+e}var Qh=!1;function ep(e,t){if(!e||Qh)return"";Qh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Qh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Xl(e):""}function b5(e){switch(e.tag){case 5:return Xl(e.type);case 16:return Xl("Lazy");case 13:return Xl("Suspense");case 19:return Xl("SuspenseList");case 0:case 2:case 15:return e=ep(e.type,!1),e;case 11:return e=ep(e.type.render,!1),e;case 1:return e=ep(e.type,!0),e;default:return""}}function jg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Us:return"Fragment";case Vs:return"Portal";case yg:return"Profiler";case ly:return"StrictMode";case vg:return"Suspense";case bg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case N_:return(e.displayName||"Context")+".Consumer";case w_:return(e._context.displayName||"Context")+".Provider";case cy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case uy:return t=e.displayName||null,t!==null?t:jg(e.type)||"Memo";case Ja:t=e._payload,e=e._init;try{return jg(e(t))}catch{}}return null}function j5(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jg(t);case 8:return t===ly?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ni(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function __(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function w5(e){var t=__(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ku(e){e._valueTracker||(e._valueTracker=w5(e))}function A_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=__(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function qd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wg(e,t){var r=t.checked;return Lt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Fb(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ni(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function P_(e,t){t=t.checked,t!=null&&oy(e,"checked",t,!1)}function Ng(e,t){P_(e,t);var r=Ni(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sg(e,t.type,r):t.hasOwnProperty("defaultValue")&&Sg(e,t.type,Ni(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Sg(e,t,r){(t!=="number"||qd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Jl=Array.isArray;function mo(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ni(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function _g(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(he(91));return Lt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vb(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(he(92));if(Jl(r)){if(1<r.length)throw Error(he(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ni(r)}}function O_(e,t){var r=Ni(t.value),n=Ni(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ub(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function E_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ag(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?E_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yu,C_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yu=Yu||document.createElement("div"),Yu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var rc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},N5=["Webkit","ms","Moz","O"];Object.keys(rc).forEach(function(e){N5.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rc[t]=rc[e]})});function T_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||rc.hasOwnProperty(e)&&rc[e]?(""+t).trim():t+"px"}function k_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=T_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var S5=Lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pg(e,t){if(t){if(S5[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(he(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(he(61))}if(t.style!=null&&typeof t.style!="object")throw Error(he(62))}}function Og(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eg=null;function dy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cg=null,ho=null,po=null;function Wb(e){if(e=Tu(e)){if(typeof Cg!="function")throw Error(he(280));var t=e.stateNode;t&&(t=Mm(t),Cg(e.stateNode,e.type,t))}}function M_(e){ho?po?po.push(e):po=[e]:ho=e}function $_(){if(ho){var e=ho,t=po;if(po=ho=null,Wb(e),t)for(e=0;e<t.length;e++)Wb(t[e])}}function D_(e,t){return e(t)}function I_(){}var tp=!1;function L_(e,t,r){if(tp)return e(t,r);tp=!0;try{return D_(e,t,r)}finally{tp=!1,(ho!==null||po!==null)&&(I_(),$_())}}function Nc(e,t){var r=e.stateNode;if(r===null)return null;var n=Mm(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(he(231,t,typeof r));return r}var Tg=!1;if(ka)try{var Cl={};Object.defineProperty(Cl,"passive",{get:function(){Tg=!0}}),window.addEventListener("test",Cl,Cl),window.removeEventListener("test",Cl,Cl)}catch{Tg=!1}function _5(e,t,r,n,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var nc=!1,Gd=null,Kd=!1,kg=null,A5={onError:function(e){nc=!0,Gd=e}};function P5(e,t,r,n,i,s,o,l,c){nc=!1,Gd=null,_5.apply(A5,arguments)}function O5(e,t,r,n,i,s,o,l,c){if(P5.apply(this,arguments),nc){if(nc){var u=Gd;nc=!1,Gd=null}else throw Error(he(198));Kd||(Kd=!0,kg=u)}}function Es(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function R_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hb(e){if(Es(e)!==e)throw Error(he(188))}function E5(e){var t=e.alternate;if(!t){if(t=Es(e),t===null)throw Error(he(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Hb(i),e;if(s===n)return Hb(i),t;s=s.sibling}throw Error(he(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o)throw Error(he(189))}}if(r.alternate!==n)throw Error(he(190))}if(r.tag!==3)throw Error(he(188));return r.stateNode.current===r?e:t}function B_(e){return e=E5(e),e!==null?F_(e):null}function F_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=F_(e);if(t!==null)return t;e=e.sibling}return null}var z_=rn.unstable_scheduleCallback,qb=rn.unstable_cancelCallback,C5=rn.unstable_shouldYield,T5=rn.unstable_requestPaint,Ft=rn.unstable_now,k5=rn.unstable_getCurrentPriorityLevel,fy=rn.unstable_ImmediatePriority,V_=rn.unstable_UserBlockingPriority,Yd=rn.unstable_NormalPriority,M5=rn.unstable_LowPriority,U_=rn.unstable_IdlePriority,Em=null,Jn=null;function $5(e){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(Em,e,void 0,(e.current.flags&128)===128)}catch{}}var Dn=Math.clz32?Math.clz32:L5,D5=Math.log,I5=Math.LN2;function L5(e){return e>>>=0,e===0?32:31-(D5(e)/I5|0)|0}var Xu=64,Ju=4194304;function Zl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=Zl(l):(s&=o,s!==0&&(n=Zl(s)))}else o=r&~i,o!==0?n=Zl(o):s!==0&&(n=Zl(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Dn(t),i=1<<r,n|=e[r],t&=~i;return n}function R5(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B5(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Dn(s),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=R5(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function Mg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function W_(){var e=Xu;return Xu<<=1,!(Xu&4194240)&&(Xu=64),e}function rp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Eu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dn(t),e[t]=r}function F5(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Dn(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function my(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Dn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ft=0;function H_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var q_,hy,G_,K_,Y_,$g=!1,Zu=[],ui=null,di=null,fi=null,Sc=new Map,_c=new Map,ri=[],z5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gb(e,t){switch(e){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":di=null;break;case"mouseover":case"mouseout":fi=null;break;case"pointerover":case"pointerout":Sc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_c.delete(t.pointerId)}}function Tl(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Tu(t),t!==null&&hy(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function V5(e,t,r,n,i){switch(t){case"focusin":return ui=Tl(ui,e,t,r,n,i),!0;case"dragenter":return di=Tl(di,e,t,r,n,i),!0;case"mouseover":return fi=Tl(fi,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Sc.set(s,Tl(Sc.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,_c.set(s,Tl(_c.get(s)||null,e,t,r,n,i)),!0}return!1}function X_(e){var t=Zi(e.target);if(t!==null){var r=Es(t);if(r!==null){if(t=r.tag,t===13){if(t=R_(r),t!==null){e.blockedOn=t,Y_(e.priority,function(){G_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Dg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Eg=n,r.target.dispatchEvent(n),Eg=null}else return t=Tu(r),t!==null&&hy(t),e.blockedOn=r,!1;t.shift()}return!0}function Kb(e,t,r){Cd(e)&&r.delete(t)}function U5(){$g=!1,ui!==null&&Cd(ui)&&(ui=null),di!==null&&Cd(di)&&(di=null),fi!==null&&Cd(fi)&&(fi=null),Sc.forEach(Kb),_c.forEach(Kb)}function kl(e,t){e.blockedOn===t&&(e.blockedOn=null,$g||($g=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,U5)))}function Ac(e){function t(i){return kl(i,e)}if(0<Zu.length){kl(Zu[0],e);for(var r=1;r<Zu.length;r++){var n=Zu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ui!==null&&kl(ui,e),di!==null&&kl(di,e),fi!==null&&kl(fi,e),Sc.forEach(t),_c.forEach(t),r=0;r<ri.length;r++)n=ri[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ri.length&&(r=ri[0],r.blockedOn===null);)X_(r),r.blockedOn===null&&ri.shift()}var go=Ua.ReactCurrentBatchConfig,Jd=!0;function W5(e,t,r,n){var i=ft,s=go.transition;go.transition=null;try{ft=1,py(e,t,r,n)}finally{ft=i,go.transition=s}}function H5(e,t,r,n){var i=ft,s=go.transition;go.transition=null;try{ft=4,py(e,t,r,n)}finally{ft=i,go.transition=s}}function py(e,t,r,n){if(Jd){var i=Dg(e,t,r,n);if(i===null)fp(e,t,n,Zd,r),Gb(e,n);else if(V5(i,e,t,r,n))n.stopPropagation();else if(Gb(e,n),t&4&&-1<z5.indexOf(e)){for(;i!==null;){var s=Tu(i);if(s!==null&&q_(s),s=Dg(e,t,r,n),s===null&&fp(e,t,n,Zd,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else fp(e,t,n,null,r)}}var Zd=null;function Dg(e,t,r,n){if(Zd=null,e=dy(n),e=Zi(e),e!==null)if(t=Es(e),t===null)e=null;else if(r=t.tag,r===13){if(e=R_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zd=e,null}function J_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(k5()){case fy:return 1;case V_:return 4;case Yd:case M5:return 16;case U_:return 536870912;default:return 16}default:return 16}}var ii=null,gy=null,Td=null;function Z_(){if(Td)return Td;var e,t=gy,r=t.length,n,i="value"in ii?ii.value:ii.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return Td=i.slice(e,1<n?1-n:void 0)}function kd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qu(){return!0}function Yb(){return!1}function sn(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qu:Yb,this.isPropagationStopped=Yb,this}return Lt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qu)},persist:function(){},isPersistent:Qu}),t}var dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xy=sn(dl),Cu=Lt({},dl,{view:0,detail:0}),q5=sn(Cu),np,ap,Ml,Cm=Lt({},Cu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ml&&(Ml&&e.type==="mousemove"?(np=e.screenX-Ml.screenX,ap=e.screenY-Ml.screenY):ap=np=0,Ml=e),np)},movementY:function(e){return"movementY"in e?e.movementY:ap}}),Xb=sn(Cm),G5=Lt({},Cm,{dataTransfer:0}),K5=sn(G5),Y5=Lt({},Cu,{relatedTarget:0}),ip=sn(Y5),X5=Lt({},dl,{animationName:0,elapsedTime:0,pseudoElement:0}),J5=sn(X5),Z5=Lt({},dl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Q5=sn(Z5),eM=Lt({},dl,{data:0}),Jb=sn(eM),tM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nM[e])?!!t[e]:!1}function yy(){return aM}var iM=Lt({},Cu,{key:function(e){if(e.key){var t=tM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=kd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yy,charCode:function(e){return e.type==="keypress"?kd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sM=sn(iM),oM=Lt({},Cm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zb=sn(oM),lM=Lt({},Cu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yy}),cM=sn(lM),uM=Lt({},dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),dM=sn(uM),fM=Lt({},Cm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mM=sn(fM),hM=[9,13,27,32],vy=ka&&"CompositionEvent"in window,ac=null;ka&&"documentMode"in document&&(ac=document.documentMode);var pM=ka&&"TextEvent"in window&&!ac,Q_=ka&&(!vy||ac&&8<ac&&11>=ac),Qb=" ",ej=!1;function eA(e,t){switch(e){case"keyup":return hM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ws=!1;function gM(e,t){switch(e){case"compositionend":return tA(t);case"keypress":return t.which!==32?null:(ej=!0,Qb);case"textInput":return e=t.data,e===Qb&&ej?null:e;default:return null}}function xM(e,t){if(Ws)return e==="compositionend"||!vy&&eA(e,t)?(e=Z_(),Td=gy=ii=null,Ws=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Q_&&t.locale!=="ko"?null:t.data;default:return null}}var yM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yM[e.type]:t==="textarea"}function rA(e,t,r,n){M_(n),t=Qd(t,"onChange"),0<t.length&&(r=new xy("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ic=null,Pc=null;function vM(e){mA(e,0)}function Tm(e){var t=Gs(e);if(A_(t))return e}function bM(e,t){if(e==="change")return t}var nA=!1;if(ka){var sp;if(ka){var op="oninput"in document;if(!op){var rj=document.createElement("div");rj.setAttribute("oninput","return;"),op=typeof rj.oninput=="function"}sp=op}else sp=!1;nA=sp&&(!document.documentMode||9<document.documentMode)}function nj(){ic&&(ic.detachEvent("onpropertychange",aA),Pc=ic=null)}function aA(e){if(e.propertyName==="value"&&Tm(Pc)){var t=[];rA(t,Pc,e,dy(e)),L_(vM,t)}}function jM(e,t,r){e==="focusin"?(nj(),ic=t,Pc=r,ic.attachEvent("onpropertychange",aA)):e==="focusout"&&nj()}function wM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tm(Pc)}function NM(e,t){if(e==="click")return Tm(t)}function SM(e,t){if(e==="input"||e==="change")return Tm(t)}function _M(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rn=typeof Object.is=="function"?Object.is:_M;function Oc(e,t){if(Rn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!xg.call(t,i)||!Rn(e[i],t[i]))return!1}return!0}function aj(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ij(e,t){var r=aj(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=aj(r)}}function iA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?iA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sA(){for(var e=window,t=qd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=qd(e.document)}return t}function by(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function AM(e){var t=sA(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&iA(r.ownerDocument.documentElement,r)){if(n!==null&&by(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=ij(r,s);var o=ij(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var PM=ka&&"documentMode"in document&&11>=document.documentMode,Hs=null,Ig=null,sc=null,Lg=!1;function sj(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lg||Hs==null||Hs!==qd(n)||(n=Hs,"selectionStart"in n&&by(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),sc&&Oc(sc,n)||(sc=n,n=Qd(Ig,"onSelect"),0<n.length&&(t=new xy("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Hs)))}function ed(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var qs={animationend:ed("Animation","AnimationEnd"),animationiteration:ed("Animation","AnimationIteration"),animationstart:ed("Animation","AnimationStart"),transitionend:ed("Transition","TransitionEnd")},lp={},oA={};ka&&(oA=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function km(e){if(lp[e])return lp[e];if(!qs[e])return e;var t=qs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in oA)return lp[e]=t[r];return e}var lA=km("animationend"),cA=km("animationiteration"),uA=km("animationstart"),dA=km("transitionend"),fA=new Map,oj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(e,t){fA.set(e,t),Os(t,[e])}for(var cp=0;cp<oj.length;cp++){var up=oj[cp],OM=up.toLowerCase(),EM=up[0].toUpperCase()+up.slice(1);Pi(OM,"on"+EM)}Pi(lA,"onAnimationEnd");Pi(cA,"onAnimationIteration");Pi(uA,"onAnimationStart");Pi("dblclick","onDoubleClick");Pi("focusin","onFocus");Pi("focusout","onBlur");Pi(dA,"onTransitionEnd");Oo("onMouseEnter",["mouseout","mouseover"]);Oo("onMouseLeave",["mouseout","mouseover"]);Oo("onPointerEnter",["pointerout","pointerover"]);Oo("onPointerLeave",["pointerout","pointerover"]);Os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Os("onBeforeInput",["compositionend","keypress","textInput","paste"]);Os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ql));function lj(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,O5(n,t,void 0,e),e.currentTarget=null}function mA(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;lj(i,l,u),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;lj(i,l,u),s=c}}}if(Kd)throw e=kg,Kd=!1,kg=null,e}function St(e,t){var r=t[Vg];r===void 0&&(r=t[Vg]=new Set);var n=e+"__bubble";r.has(n)||(hA(t,e,2,!1),r.add(n))}function dp(e,t,r){var n=0;t&&(n|=4),hA(r,e,n,t)}var td="_reactListening"+Math.random().toString(36).slice(2);function Ec(e){if(!e[td]){e[td]=!0,j_.forEach(function(r){r!=="selectionchange"&&(CM.has(r)||dp(r,!1,e),dp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[td]||(t[td]=!0,dp("selectionchange",!1,t))}}function hA(e,t,r,n){switch(J_(t)){case 1:var i=W5;break;case 4:i=H5;break;default:i=py}r=i.bind(null,t,r,e),i=void 0,!Tg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function fp(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Zi(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}L_(function(){var u=s,f=dy(r),d=[];e:{var m=fA.get(e);if(m!==void 0){var p=xy,v=e;switch(e){case"keypress":if(kd(r)===0)break e;case"keydown":case"keyup":p=sM;break;case"focusin":v="focus",p=ip;break;case"focusout":v="blur",p=ip;break;case"beforeblur":case"afterblur":p=ip;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Xb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=K5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=cM;break;case lA:case cA:case uA:p=J5;break;case dA:p=dM;break;case"scroll":p=q5;break;case"wheel":p=mM;break;case"copy":case"cut":case"paste":p=Q5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Zb}var g=(t&4)!==0,w=!g&&e==="scroll",x=g?m!==null?m+"Capture":null:m;g=[];for(var y=u,h;y!==null;){h=y;var N=h.stateNode;if(h.tag===5&&N!==null&&(h=N,x!==null&&(N=Nc(y,x),N!=null&&g.push(Cc(y,N,h)))),w)break;y=y.return}0<g.length&&(m=new p(m,v,null,r,f),d.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==Eg&&(v=r.relatedTarget||r.fromElement)&&(Zi(v)||v[Ma]))break e;if((p||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?Zi(v):null,v!==null&&(w=Es(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(g=Xb,N="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=Zb,N="onPointerLeave",x="onPointerEnter",y="pointer"),w=p==null?m:Gs(p),h=v==null?m:Gs(v),m=new g(N,y+"leave",p,r,f),m.target=w,m.relatedTarget=h,N=null,Zi(f)===u&&(g=new g(x,y+"enter",v,r,f),g.target=h,g.relatedTarget=w,N=g),w=N,p&&v)t:{for(g=p,x=v,y=0,h=g;h;h=Ls(h))y++;for(h=0,N=x;N;N=Ls(N))h++;for(;0<y-h;)g=Ls(g),y--;for(;0<h-y;)x=Ls(x),h--;for(;y--;){if(g===x||x!==null&&g===x.alternate)break t;g=Ls(g),x=Ls(x)}g=null}else g=null;p!==null&&cj(d,m,p,g,!1),v!==null&&w!==null&&cj(d,w,v,g,!0)}}e:{if(m=u?Gs(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var j=bM;else if(tj(m))if(nA)j=SM;else{j=wM;var b=jM}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=NM);if(j&&(j=j(e,u))){rA(d,j,r,f);break e}b&&b(e,m,u),e==="focusout"&&(b=m._wrapperState)&&b.controlled&&m.type==="number"&&Sg(m,"number",m.value)}switch(b=u?Gs(u):window,e){case"focusin":(tj(b)||b.contentEditable==="true")&&(Hs=b,Ig=u,sc=null);break;case"focusout":sc=Ig=Hs=null;break;case"mousedown":Lg=!0;break;case"contextmenu":case"mouseup":case"dragend":Lg=!1,sj(d,r,f);break;case"selectionchange":if(PM)break;case"keydown":case"keyup":sj(d,r,f)}var S;if(vy)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ws?eA(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Q_&&r.locale!=="ko"&&(Ws||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ws&&(S=Z_()):(ii=f,gy="value"in ii?ii.value:ii.textContent,Ws=!0)),b=Qd(u,P),0<b.length&&(P=new Jb(P,e,null,r,f),d.push({event:P,listeners:b}),S?P.data=S:(S=tA(r),S!==null&&(P.data=S)))),(S=pM?gM(e,r):xM(e,r))&&(u=Qd(u,"onBeforeInput"),0<u.length&&(f=new Jb("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=S))}mA(d,t)})}function Cc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Qd(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Nc(e,r),s!=null&&n.unshift(Cc(e,s,i)),s=Nc(e,t),s!=null&&n.push(Cc(e,s,i))),e=e.return}return n}function Ls(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cj(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=Nc(r,s),c!=null&&o.unshift(Cc(r,c,l))):i||(c=Nc(r,s),c!=null&&o.push(Cc(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var TM=/\r\n?/g,kM=/\u0000|\uFFFD/g;function uj(e){return(typeof e=="string"?e:""+e).replace(TM,`
`).replace(kM,"")}function rd(e,t,r){if(t=uj(t),uj(e)!==t&&r)throw Error(he(425))}function ef(){}var Rg=null,Bg=null;function Fg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zg=typeof setTimeout=="function"?setTimeout:void 0,MM=typeof clearTimeout=="function"?clearTimeout:void 0,dj=typeof Promise=="function"?Promise:void 0,$M=typeof queueMicrotask=="function"?queueMicrotask:typeof dj<"u"?function(e){return dj.resolve(null).then(e).catch(DM)}:zg;function DM(e){setTimeout(function(){throw e})}function mp(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Ac(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ac(t)}function mi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fj(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var fl=Math.random().toString(36).slice(2),Un="__reactFiber$"+fl,Tc="__reactProps$"+fl,Ma="__reactContainer$"+fl,Vg="__reactEvents$"+fl,IM="__reactListeners$"+fl,LM="__reactHandles$"+fl;function Zi(e){var t=e[Un];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ma]||r[Un]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=fj(e);e!==null;){if(r=e[Un])return r;e=fj(e)}return t}e=r,r=e.parentNode}return null}function Tu(e){return e=e[Un]||e[Ma],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function Mm(e){return e[Tc]||null}var Ug=[],Ks=-1;function Oi(e){return{current:e}}function Pt(e){0>Ks||(e.current=Ug[Ks],Ug[Ks]=null,Ks--)}function jt(e,t){Ks++,Ug[Ks]=e.current,e.current=t}var Si={},_r=Oi(Si),zr=Oi(!1),hs=Si;function Eo(e,t){var r=e.type.contextTypes;if(!r)return Si;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Vr(e){return e=e.childContextTypes,e!=null}function tf(){Pt(zr),Pt(_r)}function mj(e,t,r){if(_r.current!==Si)throw Error(he(168));jt(_r,t),jt(zr,r)}function pA(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(he(108,j5(e)||"Unknown",i));return Lt({},r,n)}function rf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,hs=_r.current,jt(_r,e),jt(zr,zr.current),!0}function hj(e,t,r){var n=e.stateNode;if(!n)throw Error(he(169));r?(e=pA(e,t,hs),n.__reactInternalMemoizedMergedChildContext=e,Pt(zr),Pt(_r),jt(_r,e)):Pt(zr),jt(zr,r)}var pa=null,$m=!1,hp=!1;function gA(e){pa===null?pa=[e]:pa.push(e)}function RM(e){$m=!0,gA(e)}function Ei(){if(!hp&&pa!==null){hp=!0;var e=0,t=ft;try{var r=pa;for(ft=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}pa=null,$m=!1}catch(i){throw pa!==null&&(pa=pa.slice(e+1)),z_(fy,Ei),i}finally{ft=t,hp=!1}}return null}var Ys=[],Xs=0,nf=null,af=0,mn=[],hn=0,ps=null,ga=1,xa="";function Vi(e,t){Ys[Xs++]=af,Ys[Xs++]=nf,nf=e,af=t}function xA(e,t,r){mn[hn++]=ga,mn[hn++]=xa,mn[hn++]=ps,ps=e;var n=ga;e=xa;var i=32-Dn(n)-1;n&=~(1<<i),r+=1;var s=32-Dn(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ga=1<<32-Dn(t)+i|r<<i|n,xa=s+e}else ga=1<<s|r<<i|n,xa=e}function jy(e){e.return!==null&&(Vi(e,1),xA(e,1,0))}function wy(e){for(;e===nf;)nf=Ys[--Xs],Ys[Xs]=null,af=Ys[--Xs],Ys[Xs]=null;for(;e===ps;)ps=mn[--hn],mn[hn]=null,xa=mn[--hn],mn[hn]=null,ga=mn[--hn],mn[hn]=null}var Qr=null,Zr=null,Tt=!1,kn=null;function yA(e,t){var r=gn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function pj(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qr=e,Zr=mi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qr=e,Zr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ps!==null?{id:ga,overflow:xa}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=gn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Qr=e,Zr=null,!0):!1;default:return!1}}function Wg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hg(e){if(Tt){var t=Zr;if(t){var r=t;if(!pj(e,t)){if(Wg(e))throw Error(he(418));t=mi(r.nextSibling);var n=Qr;t&&pj(e,t)?yA(n,r):(e.flags=e.flags&-4097|2,Tt=!1,Qr=e)}}else{if(Wg(e))throw Error(he(418));e.flags=e.flags&-4097|2,Tt=!1,Qr=e}}}function gj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qr=e}function nd(e){if(e!==Qr)return!1;if(!Tt)return gj(e),Tt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fg(e.type,e.memoizedProps)),t&&(t=Zr)){if(Wg(e))throw vA(),Error(he(418));for(;t;)yA(e,t),t=mi(t.nextSibling)}if(gj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Zr=mi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Zr=null}}else Zr=Qr?mi(e.stateNode.nextSibling):null;return!0}function vA(){for(var e=Zr;e;)e=mi(e.nextSibling)}function Co(){Zr=Qr=null,Tt=!1}function Ny(e){kn===null?kn=[e]:kn.push(e)}var BM=Ua.ReactCurrentBatchConfig;function $l(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(he(309));var n=r.stateNode}if(!n)throw Error(he(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(he(284));if(!r._owner)throw Error(he(290,e))}return e}function ad(e,t){throw e=Object.prototype.toString.call(t),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xj(e){var t=e._init;return t(e._payload)}function bA(e){function t(x,y){if(e){var h=x.deletions;h===null?(x.deletions=[y],x.flags|=16):h.push(y)}}function r(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(x,y){return x=xi(x,y),x.index=0,x.sibling=null,x}function s(x,y,h){return x.index=h,e?(h=x.alternate,h!==null?(h=h.index,h<y?(x.flags|=2,y):h):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,y,h,N){return y===null||y.tag!==6?(y=jp(h,x.mode,N),y.return=x,y):(y=i(y,h),y.return=x,y)}function c(x,y,h,N){var j=h.type;return j===Us?f(x,y,h.props.children,N,h.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ja&&xj(j)===y.type)?(N=i(y,h.props),N.ref=$l(x,y,h),N.return=x,N):(N=Bd(h.type,h.key,h.props,null,x.mode,N),N.ref=$l(x,y,h),N.return=x,N)}function u(x,y,h,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==h.containerInfo||y.stateNode.implementation!==h.implementation?(y=wp(h,x.mode,N),y.return=x,y):(y=i(y,h.children||[]),y.return=x,y)}function f(x,y,h,N,j){return y===null||y.tag!==7?(y=ls(h,x.mode,N,j),y.return=x,y):(y=i(y,h),y.return=x,y)}function d(x,y,h){if(typeof y=="string"&&y!==""||typeof y=="number")return y=jp(""+y,x.mode,h),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Gu:return h=Bd(y.type,y.key,y.props,null,x.mode,h),h.ref=$l(x,null,y),h.return=x,h;case Vs:return y=wp(y,x.mode,h),y.return=x,y;case Ja:var N=y._init;return d(x,N(y._payload),h)}if(Jl(y)||El(y))return y=ls(y,x.mode,h,null),y.return=x,y;ad(x,y)}return null}function m(x,y,h,N){var j=y!==null?y.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return j!==null?null:l(x,y,""+h,N);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Gu:return h.key===j?c(x,y,h,N):null;case Vs:return h.key===j?u(x,y,h,N):null;case Ja:return j=h._init,m(x,y,j(h._payload),N)}if(Jl(h)||El(h))return j!==null?null:f(x,y,h,N,null);ad(x,h)}return null}function p(x,y,h,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(h)||null,l(y,x,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Gu:return x=x.get(N.key===null?h:N.key)||null,c(y,x,N,j);case Vs:return x=x.get(N.key===null?h:N.key)||null,u(y,x,N,j);case Ja:var b=N._init;return p(x,y,h,b(N._payload),j)}if(Jl(N)||El(N))return x=x.get(h)||null,f(y,x,N,j,null);ad(y,N)}return null}function v(x,y,h,N){for(var j=null,b=null,S=y,P=y=0,A=null;S!==null&&P<h.length;P++){S.index>P?(A=S,S=null):A=S.sibling;var E=m(x,S,h[P],N);if(E===null){S===null&&(S=A);break}e&&S&&E.alternate===null&&t(x,S),y=s(E,y,P),b===null?j=E:b.sibling=E,b=E,S=A}if(P===h.length)return r(x,S),Tt&&Vi(x,P),j;if(S===null){for(;P<h.length;P++)S=d(x,h[P],N),S!==null&&(y=s(S,y,P),b===null?j=S:b.sibling=S,b=S);return Tt&&Vi(x,P),j}for(S=n(x,S);P<h.length;P++)A=p(S,x,P,h[P],N),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?P:A.key),y=s(A,y,P),b===null?j=A:b.sibling=A,b=A);return e&&S.forEach(function(O){return t(x,O)}),Tt&&Vi(x,P),j}function g(x,y,h,N){var j=El(h);if(typeof j!="function")throw Error(he(150));if(h=j.call(h),h==null)throw Error(he(151));for(var b=j=null,S=y,P=y=0,A=null,E=h.next();S!==null&&!E.done;P++,E=h.next()){S.index>P?(A=S,S=null):A=S.sibling;var O=m(x,S,E.value,N);if(O===null){S===null&&(S=A);break}e&&S&&O.alternate===null&&t(x,S),y=s(O,y,P),b===null?j=O:b.sibling=O,b=O,S=A}if(E.done)return r(x,S),Tt&&Vi(x,P),j;if(S===null){for(;!E.done;P++,E=h.next())E=d(x,E.value,N),E!==null&&(y=s(E,y,P),b===null?j=E:b.sibling=E,b=E);return Tt&&Vi(x,P),j}for(S=n(x,S);!E.done;P++,E=h.next())E=p(S,x,P,E.value,N),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?P:E.key),y=s(E,y,P),b===null?j=E:b.sibling=E,b=E);return e&&S.forEach(function(C){return t(x,C)}),Tt&&Vi(x,P),j}function w(x,y,h,N){if(typeof h=="object"&&h!==null&&h.type===Us&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Gu:e:{for(var j=h.key,b=y;b!==null;){if(b.key===j){if(j=h.type,j===Us){if(b.tag===7){r(x,b.sibling),y=i(b,h.props.children),y.return=x,x=y;break e}}else if(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ja&&xj(j)===b.type){r(x,b.sibling),y=i(b,h.props),y.ref=$l(x,b,h),y.return=x,x=y;break e}r(x,b);break}else t(x,b);b=b.sibling}h.type===Us?(y=ls(h.props.children,x.mode,N,h.key),y.return=x,x=y):(N=Bd(h.type,h.key,h.props,null,x.mode,N),N.ref=$l(x,y,h),N.return=x,x=N)}return o(x);case Vs:e:{for(b=h.key;y!==null;){if(y.key===b)if(y.tag===4&&y.stateNode.containerInfo===h.containerInfo&&y.stateNode.implementation===h.implementation){r(x,y.sibling),y=i(y,h.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else t(x,y);y=y.sibling}y=wp(h,x.mode,N),y.return=x,x=y}return o(x);case Ja:return b=h._init,w(x,y,b(h._payload),N)}if(Jl(h))return v(x,y,h,N);if(El(h))return g(x,y,h,N);ad(x,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,y!==null&&y.tag===6?(r(x,y.sibling),y=i(y,h),y.return=x,x=y):(r(x,y),y=jp(h,x.mode,N),y.return=x,x=y),o(x)):r(x,y)}return w}var To=bA(!0),jA=bA(!1),sf=Oi(null),of=null,Js=null,Sy=null;function _y(){Sy=Js=of=null}function Ay(e){var t=sf.current;Pt(sf),e._currentValue=t}function qg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function xo(e,t){of=e,Sy=Js=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Br=!0),e.firstContext=null)}function wn(e){var t=e._currentValue;if(Sy!==e)if(e={context:e,memoizedValue:t,next:null},Js===null){if(of===null)throw Error(he(308));Js=e,of.dependencies={lanes:0,firstContext:e}}else Js=Js.next=e;return t}var Qi=null;function Py(e){Qi===null?Qi=[e]:Qi.push(e)}function wA(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Py(t)):(r.next=i.next,i.next=r),t.interleaved=r,$a(e,n)}function $a(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Za=!1;function Oy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NA(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Na(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,at&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,$a(e,r)}return i=n.interleaved,i===null?(t.next=t,Py(n)):(t.next=i.next,i.next=t),n.interleaved=t,$a(e,r)}function Md(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,my(e,r)}}function yj(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function lf(e,t,r,n){var i=e.updateQueue;Za=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(s!==null){var d=i.baseState;o=0,f=u=c=null,l=s;do{var m=l.lane,p=l.eventTime;if((n&m)===m){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,g=l;switch(m=t,p=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){d=v.call(p,d,m);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,m=typeof v=="function"?v.call(p,d,m):v,m==null)break e;d=Lt({},d,m);break e;case 2:Za=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=p,c=d):f=f.next=p,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(c=d),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);xs|=o,e.lanes=o,e.memoizedState=d}}function vj(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(he(191,i));i.call(n)}}}var ku={},Zn=Oi(ku),kc=Oi(ku),Mc=Oi(ku);function es(e){if(e===ku)throw Error(he(174));return e}function Ey(e,t){switch(jt(Mc,t),jt(kc,e),jt(Zn,ku),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ag(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ag(t,e)}Pt(Zn),jt(Zn,t)}function ko(){Pt(Zn),Pt(kc),Pt(Mc)}function SA(e){es(Mc.current);var t=es(Zn.current),r=Ag(t,e.type);t!==r&&(jt(kc,e),jt(Zn,r))}function Cy(e){kc.current===e&&(Pt(Zn),Pt(kc))}var $t=Oi(0);function cf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pp=[];function Ty(){for(var e=0;e<pp.length;e++)pp[e]._workInProgressVersionPrimary=null;pp.length=0}var $d=Ua.ReactCurrentDispatcher,gp=Ua.ReactCurrentBatchConfig,gs=0,It=null,Jt=null,ir=null,uf=!1,oc=!1,$c=0,FM=0;function gr(){throw Error(he(321))}function ky(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rn(e[r],t[r]))return!1;return!0}function My(e,t,r,n,i,s){if(gs=s,It=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$d.current=e===null||e.memoizedState===null?WM:HM,e=r(n,i),oc){s=0;do{if(oc=!1,$c=0,25<=s)throw Error(he(301));s+=1,ir=Jt=null,t.updateQueue=null,$d.current=qM,e=r(n,i)}while(oc)}if($d.current=df,t=Jt!==null&&Jt.next!==null,gs=0,ir=Jt=It=null,uf=!1,t)throw Error(he(300));return e}function $y(){var e=$c!==0;return $c=0,e}function Vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?It.memoizedState=ir=e:ir=ir.next=e,ir}function Nn(){if(Jt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var t=ir===null?It.memoizedState:ir.next;if(t!==null)ir=t,Jt=e;else{if(e===null)throw Error(he(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},ir===null?It.memoizedState=ir=e:ir=ir.next=e}return ir}function Dc(e,t){return typeof t=="function"?t(e):t}function xp(e){var t=Nn(),r=t.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=e;var n=Jt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=o=null,c=null,u=s;do{var f=u.lane;if((gs&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=n):c=c.next=d,It.lanes|=f,xs|=f}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=l,Rn(n,t.memoizedState)||(Br=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,It.lanes|=s,xs|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function yp(e){var t=Nn(),r=t.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Rn(s,t.memoizedState)||(Br=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function _A(){}function AA(e,t){var r=It,n=Nn(),i=t(),s=!Rn(n.memoizedState,i);if(s&&(n.memoizedState=i,Br=!0),n=n.queue,Dy(EA.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||ir!==null&&ir.memoizedState.tag&1){if(r.flags|=2048,Ic(9,OA.bind(null,r,n,i,t),void 0,null),or===null)throw Error(he(349));gs&30||PA(r,t,i)}return i}function PA(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=It.updateQueue,t===null?(t={lastEffect:null,stores:null},It.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function OA(e,t,r,n){t.value=r,t.getSnapshot=n,CA(t)&&TA(e)}function EA(e,t,r){return r(function(){CA(t)&&TA(e)})}function CA(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rn(e,r)}catch{return!0}}function TA(e){var t=$a(e,1);t!==null&&In(t,e,1,-1)}function bj(e){var t=Vn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dc,lastRenderedState:e},t.queue=e,e=e.dispatch=UM.bind(null,It,e),[t.memoizedState,e]}function Ic(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=It.updateQueue,t===null?(t={lastEffect:null,stores:null},It.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function kA(){return Nn().memoizedState}function Dd(e,t,r,n){var i=Vn();It.flags|=e,i.memoizedState=Ic(1|t,r,void 0,n===void 0?null:n)}function Dm(e,t,r,n){var i=Nn();n=n===void 0?null:n;var s=void 0;if(Jt!==null){var o=Jt.memoizedState;if(s=o.destroy,n!==null&&ky(n,o.deps)){i.memoizedState=Ic(t,r,s,n);return}}It.flags|=e,i.memoizedState=Ic(1|t,r,s,n)}function jj(e,t){return Dd(8390656,8,e,t)}function Dy(e,t){return Dm(2048,8,e,t)}function MA(e,t){return Dm(4,2,e,t)}function $A(e,t){return Dm(4,4,e,t)}function DA(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function IA(e,t,r){return r=r!=null?r.concat([e]):null,Dm(4,4,DA.bind(null,t,e),r)}function Iy(){}function LA(e,t){var r=Nn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ky(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function RA(e,t){var r=Nn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ky(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function BA(e,t,r){return gs&21?(Rn(r,t)||(r=W_(),It.lanes|=r,xs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Br=!0),e.memoizedState=r)}function zM(e,t){var r=ft;ft=r!==0&&4>r?r:4,e(!0);var n=gp.transition;gp.transition={};try{e(!1),t()}finally{ft=r,gp.transition=n}}function FA(){return Nn().memoizedState}function VM(e,t,r){var n=gi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},zA(e))VA(t,r);else if(r=wA(e,t,r,n),r!==null){var i=Tr();In(r,e,n,i),UA(r,t,n)}}function UM(e,t,r){var n=gi(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(zA(e))VA(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(i.hasEagerState=!0,i.eagerState=l,Rn(l,o)){var c=t.interleaved;c===null?(i.next=i,Py(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=wA(e,t,i,n),r!==null&&(i=Tr(),In(r,e,n,i),UA(r,t,n))}}function zA(e){var t=e.alternate;return e===It||t!==null&&t===It}function VA(e,t){oc=uf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function UA(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,my(e,r)}}var df={readContext:wn,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useInsertionEffect:gr,useLayoutEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useMutableSource:gr,useSyncExternalStore:gr,useId:gr,unstable_isNewReconciler:!1},WM={readContext:wn,useCallback:function(e,t){return Vn().memoizedState=[e,t===void 0?null:t],e},useContext:wn,useEffect:jj,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Dd(4194308,4,DA.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Dd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Dd(4,2,e,t)},useMemo:function(e,t){var r=Vn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Vn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=VM.bind(null,It,e),[n.memoizedState,e]},useRef:function(e){var t=Vn();return e={current:e},t.memoizedState=e},useState:bj,useDebugValue:Iy,useDeferredValue:function(e){return Vn().memoizedState=e},useTransition:function(){var e=bj(!1),t=e[0];return e=zM.bind(null,e[1]),Vn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=It,i=Vn();if(Tt){if(r===void 0)throw Error(he(407));r=r()}else{if(r=t(),or===null)throw Error(he(349));gs&30||PA(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,jj(EA.bind(null,n,s,e),[e]),n.flags|=2048,Ic(9,OA.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Vn(),t=or.identifierPrefix;if(Tt){var r=xa,n=ga;r=(n&~(1<<32-Dn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=$c++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=FM++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},HM={readContext:wn,useCallback:LA,useContext:wn,useEffect:Dy,useImperativeHandle:IA,useInsertionEffect:MA,useLayoutEffect:$A,useMemo:RA,useReducer:xp,useRef:kA,useState:function(){return xp(Dc)},useDebugValue:Iy,useDeferredValue:function(e){var t=Nn();return BA(t,Jt.memoizedState,e)},useTransition:function(){var e=xp(Dc)[0],t=Nn().memoizedState;return[e,t]},useMutableSource:_A,useSyncExternalStore:AA,useId:FA,unstable_isNewReconciler:!1},qM={readContext:wn,useCallback:LA,useContext:wn,useEffect:Dy,useImperativeHandle:IA,useInsertionEffect:MA,useLayoutEffect:$A,useMemo:RA,useReducer:yp,useRef:kA,useState:function(){return yp(Dc)},useDebugValue:Iy,useDeferredValue:function(e){var t=Nn();return Jt===null?t.memoizedState=e:BA(t,Jt.memoizedState,e)},useTransition:function(){var e=yp(Dc)[0],t=Nn().memoizedState;return[e,t]},useMutableSource:_A,useSyncExternalStore:AA,useId:FA,unstable_isNewReconciler:!1};function En(e,t){if(e&&e.defaultProps){t=Lt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Gg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Lt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Im={isMounted:function(e){return(e=e._reactInternals)?Es(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Tr(),i=gi(e),s=Na(n,i);s.payload=t,r!=null&&(s.callback=r),t=hi(e,s,i),t!==null&&(In(t,e,i,n),Md(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Tr(),i=gi(e),s=Na(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=hi(e,s,i),t!==null&&(In(t,e,i,n),Md(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Tr(),n=gi(e),i=Na(r,n);i.tag=2,t!=null&&(i.callback=t),t=hi(e,i,n),t!==null&&(In(t,e,n,r),Md(t,e,n))}};function wj(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Oc(r,n)||!Oc(i,s):!0}function WA(e,t,r){var n=!1,i=Si,s=t.contextType;return typeof s=="object"&&s!==null?s=wn(s):(i=Vr(t)?hs:_r.current,n=t.contextTypes,s=(n=n!=null)?Eo(e,i):Si),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Im,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Nj(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Im.enqueueReplaceState(t,t.state,null)}function Kg(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Oy(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=wn(s):(s=Vr(t)?hs:_r.current,i.context=Eo(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Gg(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Im.enqueueReplaceState(i,i.state,null),lf(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Mo(e,t){try{var r="",n=t;do r+=b5(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function vp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Yg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var GM=typeof WeakMap=="function"?WeakMap:Map;function HA(e,t,r){r=Na(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){mf||(mf=!0,i0=n),Yg(e,t)},r}function qA(e,t,r){r=Na(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Yg(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Yg(e,t),typeof n!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Sj(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new GM;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=o$.bind(null,e,t,r),t.then(e,e))}function _j(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Aj(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Na(-1,1),t.tag=2,hi(r,t,1))),r.lanes|=1),e)}var KM=Ua.ReactCurrentOwner,Br=!1;function Pr(e,t,r,n){t.child=e===null?jA(t,null,r,n):To(t,e.child,r,n)}function Pj(e,t,r,n,i){r=r.render;var s=t.ref;return xo(t,i),n=My(e,t,r,n,s,i),r=$y(),e!==null&&!Br?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Da(e,t,i)):(Tt&&r&&jy(t),t.flags|=1,Pr(e,t,n,i),t.child)}function Oj(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!Wy(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,GA(e,t,s,n,i)):(e=Bd(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Oc,r(o,n)&&e.ref===t.ref)return Da(e,t,i)}return t.flags|=1,e=xi(s,n),e.ref=t.ref,e.return=t,t.child=e}function GA(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(Oc(s,n)&&e.ref===t.ref)if(Br=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(Br=!0);else return t.lanes=e.lanes,Da(e,t,i)}return Xg(e,t,r,n,i)}function KA(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(Qs,Kr),Kr|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,jt(Qs,Kr),Kr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,jt(Qs,Kr),Kr|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,jt(Qs,Kr),Kr|=n;return Pr(e,t,i,r),t.child}function YA(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Xg(e,t,r,n,i){var s=Vr(r)?hs:_r.current;return s=Eo(t,s),xo(t,i),r=My(e,t,r,n,s,i),n=$y(),e!==null&&!Br?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Da(e,t,i)):(Tt&&n&&jy(t),t.flags|=1,Pr(e,t,r,i),t.child)}function Ej(e,t,r,n,i){if(Vr(r)){var s=!0;rf(t)}else s=!1;if(xo(t,i),t.stateNode===null)Id(e,t),WA(t,r,n),Kg(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=wn(u):(u=Vr(r)?hs:_r.current,u=Eo(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Nj(t,o,n,u),Za=!1;var m=t.memoizedState;o.state=m,lf(t,n,o,i),c=t.memoizedState,l!==n||m!==c||zr.current||Za?(typeof f=="function"&&(Gg(t,r,f,n),c=t.memoizedState),(l=Za||wj(t,r,l,n,m,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,NA(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:En(t.type,l),o.props=u,d=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=wn(c):(c=Vr(r)?hs:_r.current,c=Eo(t,c));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||m!==c)&&Nj(t,o,n,c),Za=!1,m=t.memoizedState,o.state=m,lf(t,n,o,i);var v=t.memoizedState;l!==d||m!==v||zr.current||Za?(typeof p=="function"&&(Gg(t,r,p,n),v=t.memoizedState),(u=Za||wj(t,r,u,n,m,v,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Jg(e,t,r,n,s,i)}function Jg(e,t,r,n,i,s){YA(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&hj(t,r,!1),Da(e,t,s);n=t.stateNode,KM.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=To(t,e.child,null,s),t.child=To(t,null,l,s)):Pr(e,t,l,s),t.memoizedState=n.state,i&&hj(t,r,!0),t.child}function XA(e){var t=e.stateNode;t.pendingContext?mj(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mj(e,t.context,!1),Ey(e,t.containerInfo)}function Cj(e,t,r,n,i){return Co(),Ny(i),t.flags|=256,Pr(e,t,r,n),t.child}var Zg={dehydrated:null,treeContext:null,retryLane:0};function Qg(e){return{baseLanes:e,cachePool:null,transitions:null}}function JA(e,t,r){var n=t.pendingProps,i=$t.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),jt($t,i&1),e===null)return Hg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Bm(o,n,0,null),e=ls(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Qg(r),t.memoizedState=Zg,e):Ly(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return YM(e,t,o,n,l,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=xi(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=xi(l,s):(s=ls(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?Qg(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=Zg,n}return s=e.child,e=s.sibling,n=xi(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ly(e,t){return t=Bm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function id(e,t,r,n){return n!==null&&Ny(n),To(t,e.child,null,r),e=Ly(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function YM(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=vp(Error(he(422))),id(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Bm({mode:"visible",children:n.children},i,0,null),s=ls(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&To(t,e.child,null,o),t.child.memoizedState=Qg(o),t.memoizedState=Zg,s);if(!(t.mode&1))return id(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(he(419)),n=vp(s,n,void 0),id(e,t,o,n)}if(l=(o&e.childLanes)!==0,Br||l){if(n=or,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,$a(e,i),In(n,e,i,-1))}return Uy(),n=vp(Error(he(421))),id(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=l$.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Zr=mi(i.nextSibling),Qr=t,Tt=!0,kn=null,e!==null&&(mn[hn++]=ga,mn[hn++]=xa,mn[hn++]=ps,ga=e.id,xa=e.overflow,ps=t),t=Ly(t,n.children),t.flags|=4096,t)}function Tj(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),qg(e.return,t,r)}function bp(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function ZA(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Pr(e,t,n.children,r),n=$t.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tj(e,r,t);else if(e.tag===19)Tj(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(jt($t,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&cf(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),bp(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&cf(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}bp(t,!0,r,null,s);break;case"together":bp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Id(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Da(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),xs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(he(153));if(t.child!==null){for(e=t.child,r=xi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=xi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function XM(e,t,r){switch(t.tag){case 3:XA(t),Co();break;case 5:SA(t);break;case 1:Vr(t.type)&&rf(t);break;case 4:Ey(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;jt(sf,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(jt($t,$t.current&1),t.flags|=128,null):r&t.child.childLanes?JA(e,t,r):(jt($t,$t.current&1),e=Da(e,t,r),e!==null?e.sibling:null);jt($t,$t.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return ZA(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),jt($t,$t.current),n)break;return null;case 22:case 23:return t.lanes=0,KA(e,t,r)}return Da(e,t,r)}var QA,e0,eP,tP;QA=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};e0=function(){};eP=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,es(Zn.current);var s=null;switch(r){case"input":i=wg(e,i),n=wg(e,n),s=[];break;case"select":i=Lt({},i,{value:void 0}),n=Lt({},n,{value:void 0}),s=[];break;case"textarea":i=_g(e,i),n=_g(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ef)}Pg(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(jc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(jc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&St("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};tP=function(e,t,r,n){r!==n&&(t.flags|=4)};function Dl(e,t){if(!Tt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function xr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function JM(e,t,r){var n=t.pendingProps;switch(wy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xr(t),null;case 1:return Vr(t.type)&&tf(),xr(t),null;case 3:return n=t.stateNode,ko(),Pt(zr),Pt(_r),Ty(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(nd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kn!==null&&(l0(kn),kn=null))),e0(e,t),xr(t),null;case 5:Cy(t);var i=es(Mc.current);if(r=t.type,e!==null&&t.stateNode!=null)eP(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(he(166));return xr(t),null}if(e=es(Zn.current),nd(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Un]=t,n[Tc]=s,e=(t.mode&1)!==0,r){case"dialog":St("cancel",n),St("close",n);break;case"iframe":case"object":case"embed":St("load",n);break;case"video":case"audio":for(i=0;i<Ql.length;i++)St(Ql[i],n);break;case"source":St("error",n);break;case"img":case"image":case"link":St("error",n),St("load",n);break;case"details":St("toggle",n);break;case"input":Fb(n,s),St("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},St("invalid",n);break;case"textarea":Vb(n,s),St("invalid",n)}Pg(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&rd(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&rd(n.textContent,l,e),i=["children",""+l]):jc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&St("scroll",n)}switch(r){case"input":Ku(n),zb(n,s,!0);break;case"textarea":Ku(n),Ub(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=ef)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=E_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Un]=t,e[Tc]=n,QA(e,t,!1,!1),t.stateNode=e;e:{switch(o=Og(r,n),r){case"dialog":St("cancel",e),St("close",e),i=n;break;case"iframe":case"object":case"embed":St("load",e),i=n;break;case"video":case"audio":for(i=0;i<Ql.length;i++)St(Ql[i],e);i=n;break;case"source":St("error",e),i=n;break;case"img":case"image":case"link":St("error",e),St("load",e),i=n;break;case"details":St("toggle",e),i=n;break;case"input":Fb(e,n),i=wg(e,n),St("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Lt({},n,{value:void 0}),St("invalid",e);break;case"textarea":Vb(e,n),i=_g(e,n),St("invalid",e);break;default:i=n}Pg(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?k_(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&C_(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&wc(e,c):typeof c=="number"&&wc(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(jc.hasOwnProperty(s)?c!=null&&s==="onScroll"&&St("scroll",e):c!=null&&oy(e,s,c,o))}switch(r){case"input":Ku(e),zb(e,n,!1);break;case"textarea":Ku(e),Ub(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ni(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?mo(e,!!n.multiple,s,!1):n.defaultValue!=null&&mo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ef)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xr(t),null;case 6:if(e&&t.stateNode!=null)tP(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(he(166));if(r=es(Mc.current),es(Zn.current),nd(t)){if(n=t.stateNode,r=t.memoizedProps,n[Un]=t,(s=n.nodeValue!==r)&&(e=Qr,e!==null))switch(e.tag){case 3:rd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&rd(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Un]=t,t.stateNode=n}return xr(t),null;case 13:if(Pt($t),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Tt&&Zr!==null&&t.mode&1&&!(t.flags&128))vA(),Co(),t.flags|=98560,s=!1;else if(s=nd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(he(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(he(317));s[Un]=t}else Co(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xr(t),s=!1}else kn!==null&&(l0(kn),kn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||$t.current&1?Qt===0&&(Qt=3):Uy())),t.updateQueue!==null&&(t.flags|=4),xr(t),null);case 4:return ko(),e0(e,t),e===null&&Ec(t.stateNode.containerInfo),xr(t),null;case 10:return Ay(t.type._context),xr(t),null;case 17:return Vr(t.type)&&tf(),xr(t),null;case 19:if(Pt($t),s=t.memoizedState,s===null)return xr(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Dl(s,!1);else{if(Qt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=cf(e),o!==null){for(t.flags|=128,Dl(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return jt($t,$t.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ft()>$o&&(t.flags|=128,n=!0,Dl(s,!1),t.lanes=4194304)}else{if(!n)if(e=cf(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Dl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Tt)return xr(t),null}else 2*Ft()-s.renderingStartTime>$o&&r!==1073741824&&(t.flags|=128,n=!0,Dl(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ft(),t.sibling=null,r=$t.current,jt($t,n?r&1|2:r&1),t):(xr(t),null);case 22:case 23:return Vy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Kr&1073741824&&(xr(t),t.subtreeFlags&6&&(t.flags|=8192)):xr(t),null;case 24:return null;case 25:return null}throw Error(he(156,t.tag))}function ZM(e,t){switch(wy(t),t.tag){case 1:return Vr(t.type)&&tf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ko(),Pt(zr),Pt(_r),Ty(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Cy(t),null;case 13:if(Pt($t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(he(340));Co()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pt($t),null;case 4:return ko(),null;case 10:return Ay(t.type._context),null;case 22:case 23:return Vy(),null;case 24:return null;default:return null}}var sd=!1,jr=!1,QM=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Zs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Rt(e,t,n)}else r.current=null}function t0(e,t,r){try{r()}catch(n){Rt(e,t,n)}}var kj=!1;function e$(e,t){if(Rg=Jd,e=sA(),by(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,f=0,d=e,m=null;t:for(;;){for(var p;d!==r||i!==0&&d.nodeType!==3||(l=o+i),d!==s||n!==0&&d.nodeType!==3||(c=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)m=d,d=p;for(;;){if(d===e)break t;if(m===r&&++u===i&&(l=o),m===s&&++f===n&&(c=o),(p=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bg={focusedElem:e,selectionRange:r},Jd=!1,_e=t;_e!==null;)if(t=_e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_e=e;else for(;_e!==null;){t=_e;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,w=v.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:En(t.type,g),w);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(N){Rt(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,_e=e;break}_e=t.return}return v=kj,kj=!1,v}function lc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&t0(t,r,s)}i=i.next}while(i!==n)}}function Lm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function r0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function rP(e){var t=e.alternate;t!==null&&(e.alternate=null,rP(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Un],delete t[Tc],delete t[Vg],delete t[IM],delete t[LM])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nP(e){return e.tag===5||e.tag===3||e.tag===4}function Mj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nP(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function n0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ef));else if(n!==4&&(e=e.child,e!==null))for(n0(e,t,r),e=e.sibling;e!==null;)n0(e,t,r),e=e.sibling}function a0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(a0(e,t,r),e=e.sibling;e!==null;)a0(e,t,r),e=e.sibling}var dr=null,Cn=!1;function Ka(e,t,r){for(r=r.child;r!==null;)aP(e,t,r),r=r.sibling}function aP(e,t,r){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(Em,r)}catch{}switch(r.tag){case 5:jr||Zs(r,t);case 6:var n=dr,i=Cn;dr=null,Ka(e,t,r),dr=n,Cn=i,dr!==null&&(Cn?(e=dr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):dr.removeChild(r.stateNode));break;case 18:dr!==null&&(Cn?(e=dr,r=r.stateNode,e.nodeType===8?mp(e.parentNode,r):e.nodeType===1&&mp(e,r),Ac(e)):mp(dr,r.stateNode));break;case 4:n=dr,i=Cn,dr=r.stateNode.containerInfo,Cn=!0,Ka(e,t,r),dr=n,Cn=i;break;case 0:case 11:case 14:case 15:if(!jr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&t0(r,t,o),i=i.next}while(i!==n)}Ka(e,t,r);break;case 1:if(!jr&&(Zs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Rt(r,t,l)}Ka(e,t,r);break;case 21:Ka(e,t,r);break;case 22:r.mode&1?(jr=(n=jr)||r.memoizedState!==null,Ka(e,t,r),jr=n):Ka(e,t,r);break;default:Ka(e,t,r)}}function $j(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new QM),t.forEach(function(n){var i=c$.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Pn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:dr=l.stateNode,Cn=!1;break e;case 3:dr=l.stateNode.containerInfo,Cn=!0;break e;case 4:dr=l.stateNode.containerInfo,Cn=!0;break e}l=l.return}if(dr===null)throw Error(he(160));aP(s,o,i),dr=null,Cn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Rt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)iP(t,e),t=t.sibling}function iP(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pn(t,e),zn(e),n&4){try{lc(3,e,e.return),Lm(3,e)}catch(g){Rt(e,e.return,g)}try{lc(5,e,e.return)}catch(g){Rt(e,e.return,g)}}break;case 1:Pn(t,e),zn(e),n&512&&r!==null&&Zs(r,r.return);break;case 5:if(Pn(t,e),zn(e),n&512&&r!==null&&Zs(r,r.return),e.flags&32){var i=e.stateNode;try{wc(i,"")}catch(g){Rt(e,e.return,g)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&P_(i,s),Og(l,o);var u=Og(l,s);for(o=0;o<c.length;o+=2){var f=c[o],d=c[o+1];f==="style"?k_(i,d):f==="dangerouslySetInnerHTML"?C_(i,d):f==="children"?wc(i,d):oy(i,f,d,u)}switch(l){case"input":Ng(i,s);break;case"textarea":O_(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?mo(i,!!s.multiple,p,!1):m!==!!s.multiple&&(s.defaultValue!=null?mo(i,!!s.multiple,s.defaultValue,!0):mo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Tc]=s}catch(g){Rt(e,e.return,g)}}break;case 6:if(Pn(t,e),zn(e),n&4){if(e.stateNode===null)throw Error(he(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Rt(e,e.return,g)}}break;case 3:if(Pn(t,e),zn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ac(t.containerInfo)}catch(g){Rt(e,e.return,g)}break;case 4:Pn(t,e),zn(e);break;case 13:Pn(t,e),zn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Fy=Ft())),n&4&&$j(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(jr=(u=jr)||f,Pn(t,e),jr=u):Pn(t,e),zn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(_e=e,f=e.child;f!==null;){for(d=_e=f;_e!==null;){switch(m=_e,p=m.child,m.tag){case 0:case 11:case 14:case 15:lc(4,m,m.return);break;case 1:Zs(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Rt(n,r,g)}}break;case 5:Zs(m,m.return);break;case 22:if(m.memoizedState!==null){Ij(d);continue}}p!==null?(p.return=m,_e=p):Ij(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=T_("display",o))}catch(g){Rt(e,e.return,g)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Rt(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Pn(t,e),zn(e),n&4&&$j(e);break;case 21:break;default:Pn(t,e),zn(e)}}function zn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(nP(r)){var n=r;break e}r=r.return}throw Error(he(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(wc(i,""),n.flags&=-33);var s=Mj(e);a0(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Mj(e);n0(e,l,o);break;default:throw Error(he(161))}}catch(c){Rt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function t$(e,t,r){_e=e,sP(e)}function sP(e,t,r){for(var n=(e.mode&1)!==0;_e!==null;){var i=_e,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||sd;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||jr;l=sd;var u=jr;if(sd=o,(jr=c)&&!u)for(_e=i;_e!==null;)o=_e,c=o.child,o.tag===22&&o.memoizedState!==null?Lj(i):c!==null?(c.return=o,_e=c):Lj(i);for(;s!==null;)_e=s,sP(s),s=s.sibling;_e=i,sd=l,jr=u}Dj(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,_e=s):Dj(e)}}function Dj(e){for(;_e!==null;){var t=_e;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:jr||Lm(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!jr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:En(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&vj(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}vj(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Ac(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}jr||t.flags&512&&r0(t)}catch(m){Rt(t,t.return,m)}}if(t===e){_e=null;break}if(r=t.sibling,r!==null){r.return=t.return,_e=r;break}_e=t.return}}function Ij(e){for(;_e!==null;){var t=_e;if(t===e){_e=null;break}var r=t.sibling;if(r!==null){r.return=t.return,_e=r;break}_e=t.return}}function Lj(e){for(;_e!==null;){var t=_e;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Lm(4,t)}catch(c){Rt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Rt(t,i,c)}}var s=t.return;try{r0(t)}catch(c){Rt(t,s,c)}break;case 5:var o=t.return;try{r0(t)}catch(c){Rt(t,o,c)}}}catch(c){Rt(t,t.return,c)}if(t===e){_e=null;break}var l=t.sibling;if(l!==null){l.return=t.return,_e=l;break}_e=t.return}}var r$=Math.ceil,ff=Ua.ReactCurrentDispatcher,Ry=Ua.ReactCurrentOwner,vn=Ua.ReactCurrentBatchConfig,at=0,or=null,Ht=null,mr=0,Kr=0,Qs=Oi(0),Qt=0,Lc=null,xs=0,Rm=0,By=0,cc=null,Rr=null,Fy=0,$o=1/0,ma=null,mf=!1,i0=null,pi=null,od=!1,si=null,hf=0,uc=0,s0=null,Ld=-1,Rd=0;function Tr(){return at&6?Ft():Ld!==-1?Ld:Ld=Ft()}function gi(e){return e.mode&1?at&2&&mr!==0?mr&-mr:BM.transition!==null?(Rd===0&&(Rd=W_()),Rd):(e=ft,e!==0||(e=window.event,e=e===void 0?16:J_(e.type)),e):1}function In(e,t,r,n){if(50<uc)throw uc=0,s0=null,Error(he(185));Eu(e,r,n),(!(at&2)||e!==or)&&(e===or&&(!(at&2)&&(Rm|=r),Qt===4&&ni(e,mr)),Ur(e,n),r===1&&at===0&&!(t.mode&1)&&($o=Ft()+500,$m&&Ei()))}function Ur(e,t){var r=e.callbackNode;B5(e,t);var n=Xd(e,e===or?mr:0);if(n===0)r!==null&&qb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&qb(r),t===1)e.tag===0?RM(Rj.bind(null,e)):gA(Rj.bind(null,e)),$M(function(){!(at&6)&&Ei()}),r=null;else{switch(H_(n)){case 1:r=fy;break;case 4:r=V_;break;case 16:r=Yd;break;case 536870912:r=U_;break;default:r=Yd}r=hP(r,oP.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function oP(e,t){if(Ld=-1,Rd=0,at&6)throw Error(he(327));var r=e.callbackNode;if(yo()&&e.callbackNode!==r)return null;var n=Xd(e,e===or?mr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=pf(e,n);else{t=n;var i=at;at|=2;var s=cP();(or!==e||mr!==t)&&(ma=null,$o=Ft()+500,os(e,t));do try{i$();break}catch(l){lP(e,l)}while(!0);_y(),ff.current=s,at=i,Ht!==null?t=0:(or=null,mr=0,t=Qt)}if(t!==0){if(t===2&&(i=Mg(e),i!==0&&(n=i,t=o0(e,i))),t===1)throw r=Lc,os(e,0),ni(e,n),Ur(e,Ft()),r;if(t===6)ni(e,n);else{if(i=e.current.alternate,!(n&30)&&!n$(i)&&(t=pf(e,n),t===2&&(s=Mg(e),s!==0&&(n=s,t=o0(e,s))),t===1))throw r=Lc,os(e,0),ni(e,n),Ur(e,Ft()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(he(345));case 2:Ui(e,Rr,ma);break;case 3:if(ni(e,n),(n&130023424)===n&&(t=Fy+500-Ft(),10<t)){if(Xd(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Tr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zg(Ui.bind(null,e,Rr,ma),t);break}Ui(e,Rr,ma);break;case 4:if(ni(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Dn(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=Ft()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*r$(n/1960))-n,10<n){e.timeoutHandle=zg(Ui.bind(null,e,Rr,ma),n);break}Ui(e,Rr,ma);break;case 5:Ui(e,Rr,ma);break;default:throw Error(he(329))}}}return Ur(e,Ft()),e.callbackNode===r?oP.bind(null,e):null}function o0(e,t){var r=cc;return e.current.memoizedState.isDehydrated&&(os(e,t).flags|=256),e=pf(e,t),e!==2&&(t=Rr,Rr=r,t!==null&&l0(t)),e}function l0(e){Rr===null?Rr=e:Rr.push.apply(Rr,e)}function n$(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Rn(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ni(e,t){for(t&=~By,t&=~Rm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Dn(t),n=1<<r;e[r]=-1,t&=~n}}function Rj(e){if(at&6)throw Error(he(327));yo();var t=Xd(e,0);if(!(t&1))return Ur(e,Ft()),null;var r=pf(e,t);if(e.tag!==0&&r===2){var n=Mg(e);n!==0&&(t=n,r=o0(e,n))}if(r===1)throw r=Lc,os(e,0),ni(e,t),Ur(e,Ft()),r;if(r===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ui(e,Rr,ma),Ur(e,Ft()),null}function zy(e,t){var r=at;at|=1;try{return e(t)}finally{at=r,at===0&&($o=Ft()+500,$m&&Ei())}}function ys(e){si!==null&&si.tag===0&&!(at&6)&&yo();var t=at;at|=1;var r=vn.transition,n=ft;try{if(vn.transition=null,ft=1,e)return e()}finally{ft=n,vn.transition=r,at=t,!(at&6)&&Ei()}}function Vy(){Kr=Qs.current,Pt(Qs)}function os(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,MM(r)),Ht!==null)for(r=Ht.return;r!==null;){var n=r;switch(wy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&tf();break;case 3:ko(),Pt(zr),Pt(_r),Ty();break;case 5:Cy(n);break;case 4:ko();break;case 13:Pt($t);break;case 19:Pt($t);break;case 10:Ay(n.type._context);break;case 22:case 23:Vy()}r=r.return}if(or=e,Ht=e=xi(e.current,null),mr=Kr=t,Qt=0,Lc=null,By=Rm=xs=0,Rr=cc=null,Qi!==null){for(t=0;t<Qi.length;t++)if(r=Qi[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Qi=null}return e}function lP(e,t){do{var r=Ht;try{if(_y(),$d.current=df,uf){for(var n=It.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}uf=!1}if(gs=0,ir=Jt=It=null,oc=!1,$c=0,Ry.current=null,r===null||r.return===null){Qt=1,Lc=t,Ht=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=mr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=_j(o);if(p!==null){p.flags&=-257,Aj(p,o,l,s,t),p.mode&1&&Sj(s,u,t),t=p,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){Sj(s,u,t),Uy();break e}c=Error(he(426))}}else if(Tt&&l.mode&1){var w=_j(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Aj(w,o,l,s,t),Ny(Mo(c,l));break e}}s=c=Mo(c,l),Qt!==4&&(Qt=2),cc===null?cc=[s]:cc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=HA(s,c,t);yj(s,x);break e;case 1:l=c;var y=s.type,h=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(pi===null||!pi.has(h)))){s.flags|=65536,t&=-t,s.lanes|=t;var N=qA(s,l,t);yj(s,N);break e}}s=s.return}while(s!==null)}dP(r)}catch(j){t=j,Ht===r&&r!==null&&(Ht=r=r.return);continue}break}while(!0)}function cP(){var e=ff.current;return ff.current=df,e===null?df:e}function Uy(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),or===null||!(xs&268435455)&&!(Rm&268435455)||ni(or,mr)}function pf(e,t){var r=at;at|=2;var n=cP();(or!==e||mr!==t)&&(ma=null,os(e,t));do try{a$();break}catch(i){lP(e,i)}while(!0);if(_y(),at=r,ff.current=n,Ht!==null)throw Error(he(261));return or=null,mr=0,Qt}function a$(){for(;Ht!==null;)uP(Ht)}function i$(){for(;Ht!==null&&!C5();)uP(Ht)}function uP(e){var t=mP(e.alternate,e,Kr);e.memoizedProps=e.pendingProps,t===null?dP(e):Ht=t,Ry.current=null}function dP(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=ZM(r,t),r!==null){r.flags&=32767,Ht=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qt=6,Ht=null;return}}else if(r=JM(r,t,Kr),r!==null){Ht=r;return}if(t=t.sibling,t!==null){Ht=t;return}Ht=t=e}while(t!==null);Qt===0&&(Qt=5)}function Ui(e,t,r){var n=ft,i=vn.transition;try{vn.transition=null,ft=1,s$(e,t,r,n)}finally{vn.transition=i,ft=n}return null}function s$(e,t,r,n){do yo();while(si!==null);if(at&6)throw Error(he(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(F5(e,s),e===or&&(Ht=or=null,mr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||od||(od=!0,hP(Yd,function(){return yo(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=vn.transition,vn.transition=null;var o=ft;ft=1;var l=at;at|=4,Ry.current=null,e$(e,r),iP(r,e),AM(Bg),Jd=!!Rg,Bg=Rg=null,e.current=r,t$(r),T5(),at=l,ft=o,vn.transition=s}else e.current=r;if(od&&(od=!1,si=e,hf=i),s=e.pendingLanes,s===0&&(pi=null),$5(r.stateNode),Ur(e,Ft()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(mf)throw mf=!1,e=i0,i0=null,e;return hf&1&&e.tag!==0&&yo(),s=e.pendingLanes,s&1?e===s0?uc++:(uc=0,s0=e):uc=0,Ei(),null}function yo(){if(si!==null){var e=H_(hf),t=vn.transition,r=ft;try{if(vn.transition=null,ft=16>e?16:e,si===null)var n=!1;else{if(e=si,si=null,hf=0,at&6)throw Error(he(331));var i=at;for(at|=4,_e=e.current;_e!==null;){var s=_e,o=s.child;if(_e.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(_e=u;_e!==null;){var f=_e;switch(f.tag){case 0:case 11:case 15:lc(8,f,s)}var d=f.child;if(d!==null)d.return=f,_e=d;else for(;_e!==null;){f=_e;var m=f.sibling,p=f.return;if(rP(f),f===u){_e=null;break}if(m!==null){m.return=p,_e=m;break}_e=p}}}var v=s.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}_e=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,_e=o;else e:for(;_e!==null;){if(s=_e,s.flags&2048)switch(s.tag){case 0:case 11:case 15:lc(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,_e=x;break e}_e=s.return}}var y=e.current;for(_e=y;_e!==null;){o=_e;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,_e=h;else e:for(o=y;_e!==null;){if(l=_e,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Lm(9,l)}}catch(j){Rt(l,l.return,j)}if(l===o){_e=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,_e=N;break e}_e=l.return}}if(at=i,Ei(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(Em,e)}catch{}n=!0}return n}finally{ft=r,vn.transition=t}}return!1}function Bj(e,t,r){t=Mo(r,t),t=HA(e,t,1),e=hi(e,t,1),t=Tr(),e!==null&&(Eu(e,1,t),Ur(e,t))}function Rt(e,t,r){if(e.tag===3)Bj(e,e,r);else for(;t!==null;){if(t.tag===3){Bj(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(pi===null||!pi.has(n))){e=Mo(r,e),e=qA(t,e,1),t=hi(t,e,1),e=Tr(),t!==null&&(Eu(t,1,e),Ur(t,e));break}}t=t.return}}function o$(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Tr(),e.pingedLanes|=e.suspendedLanes&r,or===e&&(mr&r)===r&&(Qt===4||Qt===3&&(mr&130023424)===mr&&500>Ft()-Fy?os(e,0):By|=r),Ur(e,t)}function fP(e,t){t===0&&(e.mode&1?(t=Ju,Ju<<=1,!(Ju&130023424)&&(Ju=4194304)):t=1);var r=Tr();e=$a(e,t),e!==null&&(Eu(e,t,r),Ur(e,r))}function l$(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),fP(e,r)}function c$(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(he(314))}n!==null&&n.delete(t),fP(e,r)}var mP;mP=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||zr.current)Br=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Br=!1,XM(e,t,r);Br=!!(e.flags&131072)}else Br=!1,Tt&&t.flags&1048576&&xA(t,af,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Id(e,t),e=t.pendingProps;var i=Eo(t,_r.current);xo(t,r),i=My(null,t,n,e,i,r);var s=$y();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vr(n)?(s=!0,rf(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Oy(t),i.updater=Im,t.stateNode=i,i._reactInternals=t,Kg(t,n,e,r),t=Jg(null,t,n,!0,s,r)):(t.tag=0,Tt&&s&&jy(t),Pr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Id(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=d$(n),e=En(n,e),i){case 0:t=Xg(null,t,n,e,r);break e;case 1:t=Ej(null,t,n,e,r);break e;case 11:t=Pj(null,t,n,e,r);break e;case 14:t=Oj(null,t,n,En(n.type,e),r);break e}throw Error(he(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:En(n,i),Xg(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:En(n,i),Ej(e,t,n,i,r);case 3:e:{if(XA(t),e===null)throw Error(he(387));n=t.pendingProps,s=t.memoizedState,i=s.element,NA(e,t),lf(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Mo(Error(he(423)),t),t=Cj(e,t,n,r,i);break e}else if(n!==i){i=Mo(Error(he(424)),t),t=Cj(e,t,n,r,i);break e}else for(Zr=mi(t.stateNode.containerInfo.firstChild),Qr=t,Tt=!0,kn=null,r=jA(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Co(),n===i){t=Da(e,t,r);break e}Pr(e,t,n,r)}t=t.child}return t;case 5:return SA(t),e===null&&Hg(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Fg(n,i)?o=null:s!==null&&Fg(n,s)&&(t.flags|=32),YA(e,t),Pr(e,t,o,r),t.child;case 6:return e===null&&Hg(t),null;case 13:return JA(e,t,r);case 4:return Ey(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=To(t,null,n,r):Pr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:En(n,i),Pj(e,t,n,i,r);case 7:return Pr(e,t,t.pendingProps,r),t.child;case 8:return Pr(e,t,t.pendingProps.children,r),t.child;case 12:return Pr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,jt(sf,n._currentValue),n._currentValue=o,s!==null)if(Rn(s.value,o)){if(s.children===i.children&&!zr.current){t=Da(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Na(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),qg(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(he(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),qg(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Pr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,xo(t,r),i=wn(i),n=n(i),t.flags|=1,Pr(e,t,n,r),t.child;case 14:return n=t.type,i=En(n,t.pendingProps),i=En(n.type,i),Oj(e,t,n,i,r);case 15:return GA(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:En(n,i),Id(e,t),t.tag=1,Vr(n)?(e=!0,rf(t)):e=!1,xo(t,r),WA(t,n,i),Kg(t,n,i,r),Jg(null,t,n,!0,e,r);case 19:return ZA(e,t,r);case 22:return KA(e,t,r)}throw Error(he(156,t.tag))};function hP(e,t){return z_(e,t)}function u$(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,t,r,n){return new u$(e,t,r,n)}function Wy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function d$(e){if(typeof e=="function")return Wy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cy)return 11;if(e===uy)return 14}return 2}function xi(e,t){var r=e.alternate;return r===null?(r=gn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Bd(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")Wy(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Us:return ls(r.children,i,s,t);case ly:o=8,i|=8;break;case yg:return e=gn(12,r,t,i|2),e.elementType=yg,e.lanes=s,e;case vg:return e=gn(13,r,t,i),e.elementType=vg,e.lanes=s,e;case bg:return e=gn(19,r,t,i),e.elementType=bg,e.lanes=s,e;case S_:return Bm(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case w_:o=10;break e;case N_:o=9;break e;case cy:o=11;break e;case uy:o=14;break e;case Ja:o=16,n=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return t=gn(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function ls(e,t,r,n){return e=gn(7,e,n,t),e.lanes=r,e}function Bm(e,t,r,n){return e=gn(22,e,n,t),e.elementType=S_,e.lanes=r,e.stateNode={isHidden:!1},e}function jp(e,t,r){return e=gn(6,e,null,t),e.lanes=r,e}function wp(e,t,r){return t=gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function f$(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rp(0),this.expirationTimes=rp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rp(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hy(e,t,r,n,i,s,o,l,c){return e=new f$(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=gn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oy(s),e}function m$(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function pP(e){if(!e)return Si;e=e._reactInternals;e:{if(Es(e)!==e||e.tag!==1)throw Error(he(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(he(171))}if(e.tag===1){var r=e.type;if(Vr(r))return pA(e,r,t)}return t}function gP(e,t,r,n,i,s,o,l,c){return e=Hy(r,n,!0,e,i,s,o,l,c),e.context=pP(null),r=e.current,n=Tr(),i=gi(r),s=Na(n,i),s.callback=t??null,hi(r,s,i),e.current.lanes=i,Eu(e,i,n),Ur(e,n),e}function Fm(e,t,r,n){var i=t.current,s=Tr(),o=gi(i);return r=pP(r),t.context===null?t.context=r:t.pendingContext=r,t=Na(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=hi(i,t,o),e!==null&&(In(e,i,o,s),Md(e,i,o)),o}function gf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fj(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function qy(e,t){Fj(e,t),(e=e.alternate)&&Fj(e,t)}function h$(){return null}var xP=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gy(e){this._internalRoot=e}zm.prototype.render=Gy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(he(409));Fm(e,t,null,null)};zm.prototype.unmount=Gy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ys(function(){Fm(null,e,null,null)}),t[Ma]=null}};function zm(e){this._internalRoot=e}zm.prototype.unstable_scheduleHydration=function(e){if(e){var t=K_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ri.length&&t!==0&&t<ri[r].priority;r++);ri.splice(r,0,e),r===0&&X_(e)}};function Ky(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zj(){}function p$(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=gf(o);s.call(u)}}var o=gP(t,n,e,0,null,!1,!1,"",zj);return e._reactRootContainer=o,e[Ma]=o.current,Ec(e.nodeType===8?e.parentNode:e),ys(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=gf(c);l.call(u)}}var c=Hy(e,0,!1,null,null,!1,!1,"",zj);return e._reactRootContainer=c,e[Ma]=c.current,Ec(e.nodeType===8?e.parentNode:e),ys(function(){Fm(t,c,r,n)}),c}function Um(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=gf(o);l.call(c)}}Fm(t,o,e,i)}else o=p$(r,t,e,i,n);return gf(o)}q_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Zl(t.pendingLanes);r!==0&&(my(t,r|1),Ur(t,Ft()),!(at&6)&&($o=Ft()+500,Ei()))}break;case 13:ys(function(){var n=$a(e,1);if(n!==null){var i=Tr();In(n,e,1,i)}}),qy(e,1)}};hy=function(e){if(e.tag===13){var t=$a(e,134217728);if(t!==null){var r=Tr();In(t,e,134217728,r)}qy(e,134217728)}};G_=function(e){if(e.tag===13){var t=gi(e),r=$a(e,t);if(r!==null){var n=Tr();In(r,e,t,n)}qy(e,t)}};K_=function(){return ft};Y_=function(e,t){var r=ft;try{return ft=e,t()}finally{ft=r}};Cg=function(e,t,r){switch(t){case"input":if(Ng(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Mm(n);if(!i)throw Error(he(90));A_(n),Ng(n,i)}}}break;case"textarea":O_(e,r);break;case"select":t=r.value,t!=null&&mo(e,!!r.multiple,t,!1)}};D_=zy;I_=ys;var g$={usingClientEntryPoint:!1,Events:[Tu,Gs,Mm,M_,$_,zy]},Il={findFiberByHostInstance:Zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x$={bundleType:Il.bundleType,version:Il.version,rendererPackageName:Il.rendererPackageName,rendererConfig:Il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=B_(e),e===null?null:e.stateNode},findFiberByHostInstance:Il.findFiberByHostInstance||h$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ld.isDisabled&&ld.supportsFiber)try{Em=ld.inject(x$),Jn=ld}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g$;an.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ky(t))throw Error(he(200));return m$(e,t,null,r)};an.createRoot=function(e,t){if(!Ky(e))throw Error(he(299));var r=!1,n="",i=xP;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Hy(e,1,!1,null,null,r,!1,n,i),e[Ma]=t.current,Ec(e.nodeType===8?e.parentNode:e),new Gy(t)};an.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=B_(t),e=e===null?null:e.stateNode,e};an.flushSync=function(e){return ys(e)};an.hydrate=function(e,t,r){if(!Vm(t))throw Error(he(200));return Um(null,e,t,!0,r)};an.hydrateRoot=function(e,t,r){if(!Ky(e))throw Error(he(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=xP;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=gP(t,null,e,1,r??null,i,!1,s,o),e[Ma]=t.current,Ec(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new zm(t)};an.render=function(e,t,r){if(!Vm(t))throw Error(he(200));return Um(null,e,t,!1,r)};an.unmountComponentAtNode=function(e){if(!Vm(e))throw Error(he(40));return e._reactRootContainer?(ys(function(){Um(null,null,e,!1,function(){e._reactRootContainer=null,e[Ma]=null})}),!0):!1};an.unstable_batchedUpdates=zy;an.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Vm(r))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return Um(e,t,r,!1,n)};an.version="18.3.1-next-f1338f8080-20240426";function yP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yP)}catch(e){console.error(e)}}yP(),y_.exports=an;var y$=y_.exports,Vj=y$;gg.createRoot=Vj.createRoot,gg.hydrateRoot=Vj.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rc(){return Rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rc.apply(this,arguments)}var oi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(oi||(oi={}));const Uj="popstate";function v$(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:o,hash:l}=n.location;return c0("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:xf(i)}return j$(t,r,null,e)}function Vt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function b$(){return Math.random().toString(36).substr(2,8)}function Wj(e,t){return{usr:e.state,key:e.key,idx:t}}function c0(e,t,r,n){return r===void 0&&(r=null),Rc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ml(t):t,{state:r,key:t&&t.key||n||b$()})}function xf(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ml(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function j$(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,l=oi.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(Rc({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function d(){l=oi.Pop;let w=f(),x=w==null?null:w-u;u=w,c&&c({action:l,location:g.location,delta:x})}function m(w,x){l=oi.Push;let y=c0(g.location,w,x);u=f()+1;let h=Wj(y,u),N=g.createHref(y);try{o.pushState(h,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(N)}s&&c&&c({action:l,location:g.location,delta:1})}function p(w,x){l=oi.Replace;let y=c0(g.location,w,x);u=f();let h=Wj(y,u),N=g.createHref(y);o.replaceState(h,"",N),s&&c&&c({action:l,location:g.location,delta:0})}function v(w){let x=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof w=="string"?w:xf(w);return y=y.replace(/ $/,"%20"),Vt(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let g={get action(){return l},get location(){return e(i,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Uj,d),c=w,()=>{i.removeEventListener(Uj,d),c=null}},createHref(w){return t(i,w)},createURL:v,encodeLocation(w){let x=v(w);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:p,go(w){return o.go(w)}};return g}var Hj;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Hj||(Hj={}));function w$(e,t,r){return r===void 0&&(r="/"),N$(e,t,r)}function N$(e,t,r,n){let i=typeof t=="string"?ml(t):t,s=Xy(i.pathname||"/",r);if(s==null)return null;let o=vP(e);S$(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=I$(s);l=M$(o[c],u)}return l}function vP(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Vt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=yi([n,c.relativePath]),f=r.concat(c);s.children&&s.children.length>0&&(Vt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),vP(s.children,t,f,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:T$(u,s.index),routesMeta:f})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of bP(s.path))i(s,o,c)}),t}function bP(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=bP(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function S$(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:k$(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const _$=/^:[\w-]+$/,A$=3,P$=2,O$=1,E$=10,C$=-2,qj=e=>e==="*";function T$(e,t){let r=e.split("/"),n=r.length;return r.some(qj)&&(n+=C$),t&&(n+=P$),r.filter(i=>!qj(i)).reduce((i,s)=>i+(_$.test(s)?A$:s===""?O$:E$),n)}function k$(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function M$(e,t,r){let{routesMeta:n}=e,i={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=s==="/"?t:t.slice(s.length)||"/",d=$$({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),m=c.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:yi([s,d.pathname]),pathnameBase:z$(yi([s,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(s=yi([s,d.pathnameBase]))}return o}function $$(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=D$(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,f,d)=>{let{paramName:m,isOptional:p}=f;if(m==="*"){let g=l[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const v=l[d];return p&&!v?u[m]=void 0:u[m]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function D$(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Yy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function I$(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Xy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const L$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R$=e=>L$.test(e);function B$(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?ml(e):e,s;if(r)if(R$(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Yy(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?s=Gj(r.substring(1),"/"):s=Gj(r,t)}else s=t;return{pathname:s,search:V$(n),hash:U$(i)}}function Gj(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Np(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function F$(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Jy(e,t){let r=F$(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Zy(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=ml(e):(i=Rc({},e),Vt(!i.pathname||!i.pathname.includes("?"),Np("?","pathname","search",i)),Vt(!i.pathname||!i.pathname.includes("#"),Np("#","pathname","hash",i)),Vt(!i.search||!i.search.includes("#"),Np("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),d-=1;i.pathname=m.join("/")}l=d>=0?t[d]:"/"}let c=B$(i,l),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const yi=e=>e.join("/").replace(/\/\/+/g,"/"),z$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,U$=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function W$(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const jP=["post","put","patch","delete"];new Set(jP);const H$=["get",...jP];new Set(H$);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bc.apply(this,arguments)}const Qy=_.createContext(null),q$=_.createContext(null),Ci=_.createContext(null),Wm=_.createContext(null),Ti=_.createContext({outlet:null,matches:[],isDataRoute:!1}),wP=_.createContext(null);function G$(e,t){let{relative:r}=t===void 0?{}:t;hl()||Vt(!1);let{basename:n,navigator:i}=_.useContext(Ci),{hash:s,pathname:o,search:l}=SP(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:yi([n,o])),i.createHref({pathname:c,search:l,hash:s})}function hl(){return _.useContext(Wm)!=null}function Bn(){return hl()||Vt(!1),_.useContext(Wm).location}function NP(e){_.useContext(Ci).static||_.useLayoutEffect(e)}function nt(){let{isDataRoute:e}=_.useContext(Ti);return e?s4():K$()}function K$(){hl()||Vt(!1);let e=_.useContext(Qy),{basename:t,future:r,navigator:n}=_.useContext(Ci),{matches:i}=_.useContext(Ti),{pathname:s}=Bn(),o=JSON.stringify(Jy(i,r.v7_relativeSplatPath)),l=_.useRef(!1);return NP(()=>{l.current=!0}),_.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=Zy(u,JSON.parse(o),s,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:yi([t,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[t,n,o,s,e])}function SP(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=_.useContext(Ci),{matches:i}=_.useContext(Ti),{pathname:s}=Bn(),o=JSON.stringify(Jy(i,n.v7_relativeSplatPath));return _.useMemo(()=>Zy(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function Y$(e,t){return X$(e,t)}function X$(e,t,r,n){hl()||Vt(!1);let{navigator:i}=_.useContext(Ci),{matches:s}=_.useContext(Ti),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Bn(),f;if(t){var d;let w=typeof t=="string"?ml(t):t;c==="/"||(d=w.pathname)!=null&&d.startsWith(c)||Vt(!1),f=w}else f=u;let m=f.pathname||"/",p=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=w$(e,{pathname:p}),g=t4(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:yi([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:yi([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,r,n);return t&&g?_.createElement(Wm.Provider,{value:{location:Bc({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:oi.Pop}},g):g}function J$(){let e=i4(),t=W$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:i},r):null,null)}const Z$=_.createElement(J$,null);class Q$ extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?_.createElement(Ti.Provider,{value:this.props.routeContext},_.createElement(wP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function e4(e){let{routeContext:t,match:r,children:n}=e,i=_.useContext(Qy);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(Ti.Provider,{value:t},n)}function t4(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||Vt(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let d=o[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:m,errors:p}=r,v=d.route.loader&&m[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,d,m)=>{let p,v=!1,g=null,w=null;r&&(p=l&&d.route.id?l[d.route.id]:void 0,g=d.route.errorElement||Z$,c&&(u<0&&m===0?(o4("route-fallback"),v=!0,w=null):u===m&&(v=!0,w=d.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,m+1)),y=()=>{let h;return p?h=g:v?h=w:d.route.Component?h=_.createElement(d.route.Component,null):d.route.element?h=d.route.element:h=f,_.createElement(e4,{match:d,routeContext:{outlet:f,matches:x,isDataRoute:r!=null},children:h})};return r&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?_.createElement(Q$,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var _P=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(_P||{}),AP=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(AP||{});function r4(e){let t=_.useContext(Qy);return t||Vt(!1),t}function n4(e){let t=_.useContext(q$);return t||Vt(!1),t}function a4(e){let t=_.useContext(Ti);return t||Vt(!1),t}function PP(e){let t=a4(),r=t.matches[t.matches.length-1];return r.route.id||Vt(!1),r.route.id}function i4(){var e;let t=_.useContext(wP),r=n4(),n=PP();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function s4(){let{router:e}=r4(_P.UseNavigateStable),t=PP(AP.UseNavigateStable),r=_.useRef(!1);return NP(()=>{r.current=!0}),_.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Bc({fromRouteId:t},s)))},[e,t])}const Kj={};function o4(e,t,r){Kj[e]||(Kj[e]=!0)}function l4(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function c4(e){let{to:t,replace:r,state:n,relative:i}=e;hl()||Vt(!1);let{future:s,static:o}=_.useContext(Ci),{matches:l}=_.useContext(Ti),{pathname:c}=Bn(),u=nt(),f=Zy(t,Jy(l,s.v7_relativeSplatPath),c,i==="path"),d=JSON.stringify(f);return _.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:i}),[u,d,i,r,n]),null}function ot(e){Vt(!1)}function u4(e){let{basename:t="/",children:r=null,location:n,navigationType:i=oi.Pop,navigator:s,static:o=!1,future:l}=e;hl()&&Vt(!1);let c=t.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:c,navigator:s,static:o,future:Bc({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=ml(n));let{pathname:f="/",search:d="",hash:m="",state:p=null,key:v="default"}=n,g=_.useMemo(()=>{let w=Xy(f,c);return w==null?null:{location:{pathname:w,search:d,hash:m,state:p,key:v},navigationType:i}},[c,f,d,m,p,v,i]);return g==null?null:_.createElement(Ci.Provider,{value:u},_.createElement(Wm.Provider,{children:r,value:g}))}function d4(e){let{children:t,location:r}=e;return Y$(u0(t),r)}new Promise(()=>{});function u0(e,t){t===void 0&&(t=[]);let r=[];return _.Children.forEach(e,(n,i)=>{if(!_.isValidElement(n))return;let s=[...t,i];if(n.type===_.Fragment){r.push.apply(r,u0(n.props.children,s));return}n.type!==ot&&Vt(!1),!n.props.index||!n.props.children||Vt(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=u0(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function d0(){return d0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d0.apply(this,arguments)}function f4(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function m4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function h4(e,t){return e.button===0&&(!t||t==="_self")&&!m4(e)}const p4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],g4="6";try{window.__reactRouterVersion=g4}catch{}const x4="startTransition",Yj=o5[x4];function y4(e){let{basename:t,children:r,future:n,window:i}=e,s=_.useRef();s.current==null&&(s.current=v$({window:i,v5Compat:!0}));let o=s.current,[l,c]=_.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},f=_.useCallback(d=>{u&&Yj?Yj(()=>c(d)):c(d)},[c,u]);return _.useLayoutEffect(()=>o.listen(f),[o,f]),_.useEffect(()=>l4(n),[n]),_.createElement(u4,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const v4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",b4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eo=_.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,m=f4(t,p4),{basename:p}=_.useContext(Ci),v,g=!1;if(typeof u=="string"&&b4.test(u)&&(v=u,v4))try{let h=new URL(window.location.href),N=u.startsWith("//")?new URL(h.protocol+u):new URL(u),j=Xy(N.pathname,p);N.origin===h.origin&&j!=null?u=j+N.search+N.hash:g=!0}catch{}let w=G$(u,{relative:i}),x=j4(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:i,viewTransition:d});function y(h){n&&n(h),h.defaultPrevented||x(h)}return _.createElement("a",d0({},m,{href:v||w,onClick:g||s?n:y,ref:r,target:c}))});var Xj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Xj||(Xj={}));var Jj;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Jj||(Jj={}));function j4(e,t){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=nt(),u=Bn(),f=SP(e,{relative:o});return _.useCallback(d=>{if(h4(d,r)){d.preventDefault();let m=n!==void 0?n:xf(u)===xf(f);c(e,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,f,n,i,r,e,s,o,l])}const ke=e=>`/${e}`,Zj="http://localhost/backend/api",pe=async(e,t={})=>{const r=localStorage.getItem("token"),n={method:t.method||"GET",headers:{"Content-Type":"application/json",...r&&{Authorization:`Bearer ${r}`},...t.headers},...t.body&&{body:t.body},...t};try{const i=`${Zj}${e}`;console.log(`[API] ${t.method||"GET"} ${i}`);const s=await fetch(i,n);let o;const l=s.headers.get("content-type"),c=await s.text();if(l&&l.includes("application/json"))try{o=JSON.parse(c)}catch(u){throw console.error("[API] Error parsing JSON:",u),console.error("[API] Response text:",c),new Error("Rponse invalide du serveur. Le backend ne renvoie pas du JSON valide.")}else throw console.error("[API] Non-JSON response:",c),new Error(c||"Erreur lors de la requte");if(!s.ok)throw console.error(`[API] Error ${s.status}:`,o),new Error(o.message||`Erreur ${s.status}: Erreur lors de la requte`);return console.log("[API] Success:",o),o}catch(i){throw i.name==="TypeError"&&i.message.includes("fetch")?(console.error("[API] Network Error:",i),new Error(`Impossible de se connecter au serveur. Vrifiez que:
1. XAMPP Apache est dmarr
2. Le backend est dans C:\\xampp\\htdocs\\backend
3. L'URL ${Zj} est accessible dans votre navigateur`)):i instanceof Error?(console.error("[API] Error:",i),i):(console.error("[API] Unknown Error:",i),new Error("Erreur de connexion au serveur"))}},na={login:async(e,t,r=null)=>{const i=e.includes("@")?{email:e,password:t}:{telephone:e,password:t};return r&&(i.expected_role=r),pe("/auth/login.php",{method:"POST",body:JSON.stringify(i)})},register:async e=>pe("/auth/register.php",{method:"POST",body:JSON.stringify(e)}),logout:async()=>{try{await pe("/auth/logout.php",{method:"POST"})}catch(e){console.error("Erreur lors de la dconnexion:",e)}finally{localStorage.removeItem("token"),localStorage.removeItem("user")}},getCurrentUser:()=>{const e=localStorage.getItem("user");return e?JSON.parse(e):null},saveUser:e=>{localStorage.setItem("user",JSON.stringify(e))}},$n={getAll:()=>pe("/chauffeurs/getAll.php"),getById:e=>pe(`/chauffeurs/getById.php?id=${e}`),create:e=>pe("/chauffeurs/create.php",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>pe("/chauffeurs/update.php",{method:"PUT",body:JSON.stringify({id:e,...t})}),delete:e=>pe("/chauffeurs/delete.php",{method:"DELETE",body:JSON.stringify({id:e})}),getAccidents:e=>pe(`/chauffeurs/accidents.php?chauffeur_id=${e}`)},li={getAll:()=>pe("/responsables/getAll.php"),getById:e=>pe(`/responsables/getById.php?id=${e}`),create:e=>pe("/responsables/create.php",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>pe("/responsables/update.php",{method:"PUT",body:JSON.stringify({id:e,...t})}),delete:e=>pe("/responsables/delete.php",{method:"DELETE",body:JSON.stringify({id:e})})},ki={getAll:()=>pe("/tuteurs/getAll.php"),getById:e=>pe(`/tuteurs/getById.php?id=${e}`),create:e=>pe("/tuteurs/create.php",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>pe("/tuteurs/update.php",{method:"PUT",body:JSON.stringify({id:e,...t})}),getEleves:e=>pe(`/tuteurs/eleves.php?tuteur_id=${e}`),getPaiements:e=>pe(`/tuteurs/paiements.php?tuteur_id=${e}`)},kt={getAll:()=>pe("/eleves/getAll.php"),getById:e=>pe(`/eleves/getById.php?id=${e}`),getByBus:e=>pe(`/eleves/getByBus.php?bus_id=${e}`),create:e=>pe("/eleves/create.php",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>pe("/eleves/update.php",{method:"PUT",body:JSON.stringify({id:e,...t})}),delete:e=>pe("/eleves/delete.php",{method:"DELETE",body:JSON.stringify({id:e})})},Sr={getAll:()=>pe("/bus/getAll.php"),getById:e=>pe(`/bus/getById.php?id=${e}`),create:e=>pe("/bus/create.php",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>pe("/bus/update.php",{method:"PUT",body:JSON.stringify({id:e,...t})}),delete:e=>pe("/bus/delete.php",{method:"DELETE",body:JSON.stringify({id:e})}),getEleves:e=>pe(`/bus/eleves.php?bus_id=${e}`),getByZone:e=>pe(`/bus/getByZone.php?zone=${encodeURIComponent(e)}`)},Kn={getAll:()=>pe("/trajets/getAll.php"),getById:e=>pe(`/trajets/getById.php?id=${e}`),create:e=>pe("/trajets/create.php",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>pe("/trajets/update.php",{method:"PUT",body:JSON.stringify({id:e,...t})}),delete:e=>pe("/trajets/delete.php",{method:"DELETE",body:JSON.stringify({id:e})})},Wn={getByDate:(e,t=null)=>{const r=t?`/presences/getByDate.php?date=${e}&bus_id=${t}`:`/presences/getByDate.php?date=${e}`;return pe(r)},getByEleve:(e,t,r)=>pe(`/presences/getByEleve.php?eleve_id=${e}&start_date=${t}&end_date=${r}`),marquer:e=>pe("/presences/marquer.php",{method:"POST",body:JSON.stringify(e)}),getStatistiques:e=>pe(`/presences/statistiques.php?eleve_id=${e}`)},Ia={getAll:()=>pe("/accidents/getAll.php"),getById:e=>pe(`/accidents/getById.php?id=${e}`),getByChauffeur:e=>pe(`/accidents/getByChauffeur.php?chauffeur_id=${e}`),getByResponsable:e=>pe(`/accidents/getByResponsable.php?responsable_id=${e}`),create:e=>pe("/accidents/create.php",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>pe("/accidents/update.php",{method:"PUT",body:JSON.stringify({id:e,...t})}),validate:e=>pe("/accidents/validate.php",{method:"PUT",body:JSON.stringify({id:e})}),delete:e=>pe("/accidents/delete.php",{method:"DELETE",body:JSON.stringify({id:e})})},ut={getByUser:(e,t)=>pe(`/notifications/getByUser.php?user_id=${e}&user_type=${t}`),getSentByResponsable:e=>pe(`/notifications/getSentByResponsable.php?responsable_id=${e}`),marquerLue:e=>pe("/notifications/marquerLue.php",{method:"PUT",body:JSON.stringify({id:e})}),create:e=>pe("/notifications/create.php",{method:"POST",body:JSON.stringify(e)}),delete:e=>pe("/notifications/delete.php",{method:"DELETE",body:JSON.stringify({id:e})})},qt={getAll:()=>pe("/demandes/getAll.php"),getByUser:(e,t)=>pe(`/demandes/getByUser.php?user_id=${e}&user_type=${t}`),getByTuteur:e=>pe(`/demandes/getByTuteur.php?tuteur_id=${e}`),create:e=>pe("/demandes/create.php",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>pe("/demandes/update.php",{method:"PUT",body:JSON.stringify({id:e,...t})}),delete:e=>pe("/demandes/delete.php",{method:"DELETE",body:JSON.stringify({id:e})}),traiter:(e,t,r,n,i)=>pe("/demandes/traiter.php",{method:"PUT",body:JSON.stringify({id:e,statut:t,commentaire:r,raison_refus:n,traite_par:i})}),verifierCode:(e,t)=>pe("/demandes/verifierCode.php",{method:"POST",body:JSON.stringify({demande_id:e,code_verification:t})})},bn={getAll:()=>pe("/inscriptions/getAll.php"),getByEleve:e=>pe(`/inscriptions/getByEleve.php?eleve_id=${e}`),create:e=>pe("/inscriptions/create.php",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>pe("/inscriptions/update.php",{method:"PUT",body:JSON.stringify({id:e,...t})})},Hm={getAll:()=>pe("/paiements/getAll.php"),getByTuteur:e=>pe(`/paiements/getByTuteur.php?tuteur_id=${e}`),getByEleve:e=>pe(`/paiements/getByEleve.php?eleve_id=${e}`),create:e=>pe("/paiements/create.php",{method:"POST",body:JSON.stringify(e)}),getImpaye:()=>pe("/paiements/getImpaye.php")},ya={getAll:()=>pe("/zones/getAll.php"),create:e=>pe("/zones/create.php",{method:"POST",body:JSON.stringify(e)}),update:e=>pe("/zones/update.php",{method:"PUT",body:JSON.stringify(e)}),delete:e=>pe(`/zones/delete.php?id=${e}`,{method:"DELETE"})},OP={sendMessage:e=>pe("/contact/create.php",{method:"POST",body:JSON.stringify(e)})},w4={getDashboard:(e,t)=>pe(`/statistiques/dashboard.php?role=${e}&user_id=${t}`),getFinancieres:()=>pe("/statistiques/financieres.php"),getPresences:(e,t)=>pe(`/statistiques/presences.php?start_date=${e}&end_date=${t}`)},vo={getAll:()=>pe("/essence/getAll.php"),create:e=>pe("/essence/create.php",{method:"POST",body:JSON.stringify(e)}),getByChauffeur:e=>pe(`/essence/getByChauffeur.php?chauffeur_id=${e}`)},ev={create:e=>pe("/rapports/create.php",{method:"POST",body:JSON.stringify(e)}),getByChauffeur:e=>pe(`/rapports/getByChauffeur.php?chauffeur_id=${e}`)},N4={create:e=>pe("/checklist/create.php",{method:"POST",body:JSON.stringify(e)})},Sa={getAll:()=>pe("/signalements/getAll.php"),create:e=>pe("/signalements/create.php",{method:"POST",body:JSON.stringify(e)}),getByChauffeur:e=>pe(`/signalements/getByChauffeur.php?chauffeur_id=${e}`),update:(e,t)=>pe("/signalements/update.php",{method:"PUT",body:JSON.stringify({id:e,...t})}),delete:e=>pe(`/signalements/delete.php?id=${e}`,{method:"DELETE"})},S4=Object.freeze(Object.defineProperty({__proto__:null,accidentsAPI:Ia,authAPI:na,busAPI:Sr,chauffeursAPI:$n,checklistAPI:N4,contactAPI:OP,demandesAPI:qt,elevesAPI:kt,essenceAPI:vo,inscriptionsAPI:bn,notificationsAPI:ut,paiementsAPI:Hm,presencesAPI:Wn,rapportsAPI:ev,responsablesAPI:li,signalementsAPI:Sa,statistiquesAPI:w4,trajetsAPI:Kn,tuteursAPI:ki,zonesAPI:ya},Symbol.toStringTag,{value:"Module"}));var _4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const A4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P4=(e,t)=>{const r=_.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:l,...c},u)=>_.createElement("svg",{ref:u,..._4,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${A4(e)}`,...c},[...t.map(([f,d])=>_.createElement(f,d)),...(Array.isArray(l)?l:[l])||[]]));return r.displayName=`${e}`,r};var Me=P4;const tt=Me("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),bo=Me("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Kt=Me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),EP=Me("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),aa=Me("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),O4=Me("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),rt=Me("Bus",[["path",{d:"M19 17h2l.64-2.54c.24-.959.24-1.962 0-2.92l-1.07-4.27A3 3 0 0 0 17.66 5H4a2 2 0 0 0-2 2v10h2",key:"wfsdqh"}],["path",{d:"M14 17H9",key:"o2noo5"}],["circle",{cx:"6.5",cy:"17.5",r:"2.5",key:"gc8oob"}],["circle",{cx:"16.5",cy:"17.5",r:"2.5",key:"4btu0q"}]]),Mr=Me("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),E4=Me("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),it=Me("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),vi=Me("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),C4=Me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),f0=Me("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),vs=Me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Qj=Me("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),br=Me("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Fd=Me("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),yf=Me("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),ia=Me("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),_a=Me("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Do=Me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Yr=Me("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2h0a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"8ur5zv"}]]),fr=Me("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]),CP=Me("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),ts=Me("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),tv=Me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),T4=Me("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),cd=Me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),k4=Me("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),cs=Me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Io=Me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Ot=Me("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Lo=Me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Sp=Me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),to=Me("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),La=Me("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),bs=Me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Aa=Me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),qm=Me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),_p=Me("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]),js=Me("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),rv=Me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),m0=Me("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),us=Me("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),M4=Me("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Wr=Me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),$4=Me("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Fc=Me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),ew=Me("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),ro=Me("UserCog",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["circle",{cx:"19",cy:"11",r:"2",key:"1rxg02"}],["path",{d:"M19 8v1",key:"1iffrw"}],["path",{d:"M19 13v1",key:"z4xc62"}],["path",{d:"m21.6 9.5-.87.5",key:"6lxupl"}],["path",{d:"m17.27 12-.87.5",key:"1rwhxx"}],["path",{d:"m21.6 12.5-.87-.5",key:"agvc9a"}],["path",{d:"m17.27 10-.87-.5",key:"12d57s"}]]),Gm=Me("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),xt=Me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Zt=Me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Hn=Me("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),Ir=Me("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ke=Me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),zc=Me("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),TP=_.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Km=_.createContext({}),Ym=_.createContext(null),Xm=typeof document<"u",nv=Xm?_.useLayoutEffect:_.useEffect,kP=_.createContext({strict:!1}),av=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),D4="framerAppearId",MP="data-"+av(D4);function I4(e,t,r,n){const{visualElement:i}=_.useContext(Km),s=_.useContext(kP),o=_.useContext(Ym),l=_.useContext(TP).reducedMotion,c=_.useRef();n=n||s.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;_.useInsertionEffect(()=>{u&&u.update(r,o)});const f=_.useRef(!!(r[MP]&&!window.HandoffComplete));return nv(()=>{u&&(u.render(),f.current&&u.animationState&&u.animationState.animateChanges())}),_.useEffect(()=>{u&&(u.updateFeatures(),!f.current&&u.animationState&&u.animationState.animateChanges(),f.current&&(f.current=!1,window.HandoffComplete=!0))}),u}function no(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function L4(e,t,r){return _.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):no(r)&&(r.current=n))},[t])}function Vc(e){return typeof e=="string"||Array.isArray(e)}function Jm(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const iv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sv=["initial",...iv];function Zm(e){return Jm(e.animate)||sv.some(t=>Vc(e[t]))}function $P(e){return!!(Zm(e)||e.variants)}function R4(e,t){if(Zm(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Vc(r)?r:void 0,animate:Vc(n)?n:void 0}}return e.inherit!==!1?t:{}}function B4(e){const{initial:t,animate:r}=R4(e,_.useContext(Km));return _.useMemo(()=>({initial:t,animate:r}),[tw(t),tw(r)])}function tw(e){return Array.isArray(e)?e.join(" "):e}const rw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Uc={};for(const e in rw)Uc[e]={isEnabled:t=>rw[e].some(r=>!!t[r])};function F4(e){for(const t in e)Uc[t]={...Uc[t],...e[t]}}const ov=_.createContext({}),DP=_.createContext({}),z4=Symbol.for("motionComponentSymbol");function V4({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:i}){e&&F4(e);function s(l,c){let u;const f={..._.useContext(TP),...l,layoutId:U4(l)},{isStatic:d}=f,m=B4(l),p=n(l,d);if(!d&&Xm){m.visualElement=I4(i,p,f,t);const v=_.useContext(DP),g=_.useContext(kP).strict;m.visualElement&&(u=m.visualElement.loadFeatures(f,g,e,v))}return _.createElement(Km.Provider,{value:m},u&&m.visualElement?_.createElement(u,{visualElement:m.visualElement,...f}):null,r(i,l,L4(p,m.visualElement,c),p,d,m.visualElement))}const o=_.forwardRef(s);return o[z4]=i,o}function U4({layoutId:e}){const t=_.useContext(ov).id;return t&&e!==void 0?t+"-"+e:e}function W4(e){function t(n,i={}){return V4(e(n,i))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,i)=>(r.has(i)||r.set(i,t(i)),r.get(i))})}const H4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lv(e){return typeof e!="string"||e.includes("-")?!1:!!(H4.indexOf(e)>-1||/[A-Z]/.test(e))}const vf={};function q4(e){Object.assign(vf,e)}const Mu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cs=new Set(Mu);function IP(e,{layout:t,layoutId:r}){return Cs.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!vf[e]||e==="opacity")}const Hr=e=>!!(e&&e.getVelocity),G4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},K4=Mu.length;function Y4(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,i){let s="";for(let o=0;o<K4;o++){const l=Mu[o];if(e[l]!==void 0){const c=G4[l]||l;s+=`${c}(${e[l]}) `}}return t&&!e.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(e,n?"":s):r&&n&&(s="none"),s}const LP=e=>t=>typeof t=="string"&&t.startsWith(e),RP=LP("--"),h0=LP("var(--"),X4=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,J4=(e,t)=>t&&typeof e=="number"?t.transform(e):e,_i=(e,t,r)=>Math.min(Math.max(r,e),t),Ts={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},dc={...Ts,transform:e=>_i(0,1,e)},ud={...Ts,default:1},fc=e=>Math.round(e*1e5)/1e5,Qm=/(-)?([\d]*\.?[\d])+/g,BP=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Z4=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function $u(e){return typeof e=="string"}const Du=e=>({test:t=>$u(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xa=Du("deg"),Qn=Du("%"),Ve=Du("px"),Q4=Du("vh"),eD=Du("vw"),nw={...Qn,parse:e=>Qn.parse(e)/100,transform:e=>Qn.transform(e*100)},aw={...Ts,transform:Math.round},FP={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,radius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,size:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,rotate:Xa,rotateX:Xa,rotateY:Xa,rotateZ:Xa,scale:ud,scaleX:ud,scaleY:ud,scaleZ:ud,skew:Xa,skewX:Xa,skewY:Xa,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:dc,originX:nw,originY:nw,originZ:Ve,zIndex:aw,fillOpacity:dc,strokeOpacity:dc,numOctaves:aw};function cv(e,t,r,n){const{style:i,vars:s,transform:o,transformOrigin:l}=e;let c=!1,u=!1,f=!0;for(const d in t){const m=t[d];if(RP(d)){s[d]=m;continue}const p=FP[d],v=J4(m,p);if(Cs.has(d)){if(c=!0,o[d]=v,!f)continue;m!==(p.default||0)&&(f=!1)}else d.startsWith("origin")?(u=!0,l[d]=v):i[d]=v}if(t.transform||(c||n?i.transform=Y4(e.transform,r,f,n):i.transform&&(i.transform="none")),u){const{originX:d="50%",originY:m="50%",originZ:p=0}=l;i.transformOrigin=`${d} ${m} ${p}`}}const uv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function zP(e,t,r){for(const n in t)!Hr(t[n])&&!IP(n,r)&&(e[n]=t[n])}function tD({transformTemplate:e},t,r){return _.useMemo(()=>{const n=uv();return cv(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function rD(e,t,r){const n=e.style||{},i={};return zP(i,n,e),Object.assign(i,tD(e,t,r)),e.transformValues?e.transformValues(i):i}function nD(e,t,r){const n={},i=rD(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const aD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||aD.has(e)}let VP=e=>!bf(e);function iD(e){e&&(VP=t=>t.startsWith("on")?!bf(t):e(t))}try{iD(require("@emotion/is-prop-valid").default)}catch{}function sD(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(VP(i)||r===!0&&bf(i)||!t&&!bf(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function iw(e,t,r){return typeof e=="string"?e:Ve.transform(t+r*e)}function oD(e,t,r){const n=iw(t,e.x,e.width),i=iw(r,e.y,e.height);return`${n} ${i}`}const lD={offset:"stroke-dashoffset",array:"stroke-dasharray"},cD={offset:"strokeDashoffset",array:"strokeDasharray"};function uD(e,t,r=1,n=0,i=!0){e.pathLength=1;const s=i?lD:cD;e[s.offset]=Ve.transform(-n);const o=Ve.transform(t),l=Ve.transform(r);e[s.array]=`${o} ${l}`}function dv(e,{attrX:t,attrY:r,attrScale:n,originX:i,originY:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},f,d,m){if(cv(e,u,f,m),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:v,dimensions:g}=e;p.transform&&(g&&(v.transform=p.transform),delete p.transform),g&&(i!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=oD(g,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(p.x=t),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),o!==void 0&&uD(p,o,l,c,!1)}const UP=()=>({...uv(),attrs:{}}),fv=e=>typeof e=="string"&&e.toLowerCase()==="svg";function dD(e,t,r,n){const i=_.useMemo(()=>{const s=UP();return dv(s,t,{enableHardwareAcceleration:!1},fv(n),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};zP(s,e.style,e),i.style={...s,...i.style}}return i}function fD(e=!1){return(r,n,i,{latestValues:s},o)=>{const c=(lv(r)?dD:nD)(n,s,o,r),f={...sD(n,typeof r=="string",e),...c,ref:i},{children:d}=n,m=_.useMemo(()=>Hr(d)?d.get():d,[d]);return _.createElement(r,{...f,children:m})}}function WP(e,{style:t,vars:r},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const s in r)e.style.setProperty(s,r[s])}const HP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qP(e,t,r,n){WP(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(HP.has(i)?i:av(i),t.attrs[i])}function mv(e,t){const{style:r}=e,n={};for(const i in r)(Hr(r[i])||t.style&&Hr(t.style[i])||IP(i,e))&&(n[i]=r[i]);return n}function GP(e,t){const r=mv(e,t);for(const n in e)if(Hr(e[n])||Hr(t[n])){const i=Mu.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[i]=e[n]}return r}function hv(e,t,r,n={},i={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,i)),t}function KP(e){const t=_.useRef(null);return t.current===null&&(t.current=e()),t.current}const jf=e=>Array.isArray(e),mD=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),hD=e=>jf(e)?e[e.length-1]||0:e;function zd(e){const t=Hr(e)?e.get():e;return mD(t)?t.toValue():t}function pD({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,i,s){const o={latestValues:gD(n,i,s,e),renderState:t()};return r&&(o.mount=l=>r(n,l,o)),o}const YP=e=>(t,r)=>{const n=_.useContext(Km),i=_.useContext(Ym),s=()=>pD(e,t,n,i);return r?s():KP(s)};function gD(e,t,r,n){const i={},s=n(e,{});for(const m in s)i[m]=zd(s[m]);let{initial:o,animate:l}=e;const c=Zm(e),u=$P(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const d=f?l:o;return d&&typeof d!="boolean"&&!Jm(d)&&(Array.isArray(d)?d:[d]).forEach(p=>{const v=hv(e,p);if(!v)return;const{transitionEnd:g,transition:w,...x}=v;for(const y in x){let h=x[y];if(Array.isArray(h)){const N=f?h.length-1:0;h=h[N]}h!==null&&(i[y]=h)}for(const y in g)i[y]=g[y]}),i}const zt=e=>e;class sw{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function xD(e){let t=new sw,r=new sw,n=0,i=!1,s=!1;const o=new WeakSet,l={schedule:(c,u=!1,f=!1)=>{const d=f&&i,m=d?t:r;return u&&o.add(c),m.add(c)&&d&&i&&(n=t.order.length),c},cancel:c=>{r.remove(c),o.delete(c)},process:c=>{if(i){s=!0;return}if(i=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let u=0;u<n;u++){const f=t.order[u];f(c),o.has(f)&&(l.schedule(f),e())}i=!1,s&&(s=!1,l.process(c))}};return l}const dd=["prepare","read","update","preRender","render","postRender"],yD=40;function vD(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=dd.reduce((d,m)=>(d[m]=xD(()=>r=!0),d),{}),o=d=>s[d].process(i),l=()=>{const d=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(d-i.timestamp,yD),1),i.timestamp=d,i.isProcessing=!0,dd.forEach(o),i.isProcessing=!1,r&&t&&(n=!1,e(l))},c=()=>{r=!0,n=!0,i.isProcessing||e(l)};return{schedule:dd.reduce((d,m)=>{const p=s[m];return d[m]=(v,g=!1,w=!1)=>(r||c(),p.schedule(v,g,w)),d},{}),cancel:d=>dd.forEach(m=>s[m].cancel(d)),state:i,steps:s}}const{schedule:wt,cancel:Ra,state:yr,steps:Ap}=vD(typeof requestAnimationFrame<"u"?requestAnimationFrame:zt,!0),bD={useVisualState:YP({scrapeMotionValuesFromProps:GP,createRenderState:UP,onMount:(e,t,{renderState:r,latestValues:n})=>{wt.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),wt.render(()=>{dv(r,n,{enableHardwareAcceleration:!1},fv(t.tagName),e.transformTemplate),qP(t,r)})}})},jD={useVisualState:YP({scrapeMotionValuesFromProps:mv,createRenderState:uv})};function wD(e,{forwardMotionProps:t=!1},r,n){return{...lv(e)?bD:jD,preloadedFeatures:r,useRender:fD(t),createVisualElement:n,Component:e}}function va(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const XP=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function eh(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const ND=e=>t=>XP(t)&&e(t,eh(t));function Pa(e,t,r,n){return va(e,t,ND(r),n)}const SD=(e,t)=>r=>t(e(r)),bi=(...e)=>e.reduce(SD);function JP(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const ow=JP("dragHorizontal"),lw=JP("dragVertical");function ZP(e){let t=!1;if(e==="y")t=lw();else if(e==="x")t=ow();else{const r=ow(),n=lw();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function QP(){const e=ZP(!0);return e?(e(),!1):!0}class Mi{constructor(t){this.isMounted=!1,this.node=t}update(){}}function cw(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||QP())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&wt.update(()=>l[n](s,o))};return Pa(e.current,r,i,{passive:!e.getProps()[n]})}class _D extends Mi{mount(){this.unmount=bi(cw(this.node,!0),cw(this.node,!1))}unmount(){}}class AD extends Mi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bi(va(this.node.current,"focus",()=>this.onFocus()),va(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const eO=(e,t)=>t?e===t?!0:eO(e,t.parentElement):!1;function Pp(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,eh(r))}class PD extends Mi{constructor(){super(...arguments),this.removeStartListeners=zt,this.removeEndListeners=zt,this.removeAccessibleListeners=zt,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),s=Pa(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:f,globalTapTarget:d}=this.node.getProps();wt.update(()=>{!d&&!eO(this.node.current,l.target)?f&&f(l,c):u&&u(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),o=Pa(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=bi(s,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Pp("up",(c,u)=>{const{onTap:f}=this.node.getProps();f&&wt.update(()=>f(c,u))})};this.removeEndListeners(),this.removeEndListeners=va(this.node.current,"keyup",o),Pp("down",(l,c)=>{this.startPress(l,c)})},r=va(this.node.current,"keydown",t),n=()=>{this.isPressing&&Pp("cancel",(s,o)=>this.cancelPress(s,o))},i=va(this.node.current,"blur",n);this.removeAccessibleListeners=bi(r,i)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&wt.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!QP()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&wt.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=Pa(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=va(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=bi(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const p0=new WeakMap,Op=new WeakMap,OD=e=>{const t=p0.get(e.target);t&&t(e)},ED=e=>{e.forEach(OD)};function CD({root:e,...t}){const r=e||document;Op.has(r)||Op.set(r,{});const n=Op.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(ED,{root:e,...t})),n[i]}function TD(e,t,r){const n=CD(t);return p0.set(e,r),n.observe(e),()=>{p0.delete(e),n.unobserve(e)}}const kD={some:0,all:1};class MD extends Mi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:kD[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:d}=this.node.getProps(),m=u?f:d;m&&m(c)};return TD(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some($D(t,r))&&this.startObserver()}unmount(){}}function $D({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const DD={inView:{Feature:MD},tap:{Feature:PD},focus:{Feature:AD},hover:{Feature:_D}};function tO(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function ID(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function LD(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function th(e,t,r){const n=e.getProps();return hv(n,t,r!==void 0?r:n.custom,ID(e),LD(e))}let pv=zt;const ds=e=>e*1e3,Oa=e=>e/1e3,RD={current:!1},rO=e=>Array.isArray(e)&&typeof e[0]=="number";function nO(e){return!!(!e||typeof e=="string"&&aO[e]||rO(e)||Array.isArray(e)&&e.every(nO))}const ec=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,aO={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ec([0,.65,.55,1]),circOut:ec([.55,0,1,.45]),backIn:ec([.31,.01,.66,-.59]),backOut:ec([.33,1.53,.69,.99])};function iO(e){if(e)return rO(e)?ec(e):Array.isArray(e)?e.map(iO):aO[e]}function BD(e,t,r,{delay:n=0,duration:i,repeat:s=0,repeatType:o="loop",ease:l,times:c}={}){const u={[t]:r};c&&(u.offset=c);const f=iO(l);return Array.isArray(f)&&(u.easing=f),e.animate(u,{delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function FD(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const sO=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,zD=1e-7,VD=12;function UD(e,t,r,n,i){let s,o,l=0;do o=t+(r-t)/2,s=sO(o,n,i)-e,s>0?r=o:t=o;while(Math.abs(s)>zD&&++l<VD);return o}function Iu(e,t,r,n){if(e===t&&r===n)return zt;const i=s=>UD(s,0,1,e,r);return s=>s===0||s===1?s:sO(i(s),t,n)}const WD=Iu(.42,0,1,1),HD=Iu(0,0,.58,1),oO=Iu(.42,0,.58,1),qD=e=>Array.isArray(e)&&typeof e[0]!="number",lO=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,cO=e=>t=>1-e(1-t),gv=e=>1-Math.sin(Math.acos(e)),uO=cO(gv),GD=lO(gv),dO=Iu(.33,1.53,.69,.99),xv=cO(dO),KD=lO(xv),YD=e=>(e*=2)<1?.5*xv(e):.5*(2-Math.pow(2,-10*(e-1))),XD={linear:zt,easeIn:WD,easeInOut:oO,easeOut:HD,circIn:gv,circInOut:GD,circOut:uO,backIn:xv,backInOut:KD,backOut:dO,anticipate:YD},uw=e=>{if(Array.isArray(e)){pv(e.length===4);const[t,r,n,i]=e;return Iu(t,r,n,i)}else if(typeof e=="string")return XD[e];return e},yv=(e,t)=>r=>!!($u(r)&&Z4.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),fO=(e,t,r)=>n=>{if(!$u(n))return n;const[i,s,o,l]=n.match(Qm);return{[e]:parseFloat(i),[t]:parseFloat(s),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},JD=e=>_i(0,255,e),Ep={...Ts,transform:e=>Math.round(JD(e))},rs={test:yv("rgb","red"),parse:fO("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Ep.transform(e)+", "+Ep.transform(t)+", "+Ep.transform(r)+", "+fc(dc.transform(n))+")"};function ZD(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const g0={test:yv("#"),parse:ZD,transform:rs.transform},ao={test:yv("hsl","hue"),parse:fO("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Qn.transform(fc(t))+", "+Qn.transform(fc(r))+", "+fc(dc.transform(n))+")"},Ar={test:e=>rs.test(e)||g0.test(e)||ao.test(e),parse:e=>rs.test(e)?rs.parse(e):ao.test(e)?ao.parse(e):g0.parse(e),transform:e=>$u(e)?e:e.hasOwnProperty("red")?rs.transform(e):ao.transform(e)},Dt=(e,t,r)=>-r*e+r*t+e;function Cp(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function QD({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,s=0,o=0;if(!t)i=s=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=Cp(c,l,e+1/3),s=Cp(c,l,e),o=Cp(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}const Tp=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},e6=[g0,rs,ao],t6=e=>e6.find(t=>t.test(e));function dw(e){const t=t6(e);let r=t.parse(e);return t===ao&&(r=QD(r)),r}const mO=(e,t)=>{const r=dw(e),n=dw(t),i={...r};return s=>(i.red=Tp(r.red,n.red,s),i.green=Tp(r.green,n.green,s),i.blue=Tp(r.blue,n.blue,s),i.alpha=Dt(r.alpha,n.alpha,s),rs.transform(i))};function r6(e){var t,r;return isNaN(e)&&$u(e)&&(((t=e.match(Qm))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(BP))===null||r===void 0?void 0:r.length)||0)>0}const hO={regex:X4,countKey:"Vars",token:"${v}",parse:zt},pO={regex:BP,countKey:"Colors",token:"${c}",parse:Ar.parse},gO={regex:Qm,countKey:"Numbers",token:"${n}",parse:Ts.parse};function kp(e,{regex:t,countKey:r,token:n,parse:i}){const s=e.tokenised.match(t);s&&(e["num"+r]=s.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...s.map(i)))}function wf(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&kp(r,hO),kp(r,pO),kp(r,gO),r}function xO(e){return wf(e).values}function yO(e){const{values:t,numColors:r,numVars:n,tokenised:i}=wf(e),s=t.length;return o=>{let l=i;for(let c=0;c<s;c++)c<n?l=l.replace(hO.token,o[c]):c<n+r?l=l.replace(pO.token,Ar.transform(o[c])):l=l.replace(gO.token,fc(o[c]));return l}}const n6=e=>typeof e=="number"?0:e;function a6(e){const t=xO(e);return yO(e)(t.map(n6))}const Ai={test:r6,parse:xO,createTransformer:yO,getAnimatableNone:a6},vO=(e,t)=>r=>`${r>0?t:e}`;function bO(e,t){return typeof e=="number"?r=>Dt(e,t,r):Ar.test(e)?mO(e,t):e.startsWith("var(")?vO(e,t):wO(e,t)}const jO=(e,t)=>{const r=[...e],n=r.length,i=e.map((s,o)=>bO(s,t[o]));return s=>{for(let o=0;o<n;o++)r[o]=i[o](s);return r}},i6=(e,t)=>{const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=bO(e[i],t[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}},wO=(e,t)=>{const r=Ai.createTransformer(t),n=wf(e),i=wf(t);return n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?bi(jO(n.values,i.values),r):vO(e,t)},Wc=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},fw=(e,t)=>r=>Dt(e,t,r);function s6(e){return typeof e=="number"?fw:typeof e=="string"?Ar.test(e)?mO:wO:Array.isArray(e)?jO:typeof e=="object"?i6:fw}function o6(e,t,r){const n=[],i=r||s6(e[0]),s=e.length-1;for(let o=0;o<s;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||zt:t;l=bi(c,l)}n.push(l)}return n}function NO(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const s=e.length;if(pv(s===t.length),s===1)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=o6(t,n,i),l=o.length,c=u=>{let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const d=Wc(e[f],e[f+1],u);return o[f](d)};return r?u=>c(_i(e[0],e[s-1],u)):c}function l6(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=Wc(0,t,n);e.push(Dt(r,1,i))}}function c6(e){const t=[0];return l6(t,e.length-1),t}function u6(e,t){return e.map(r=>r*t)}function d6(e,t){return e.map(()=>t||oO).splice(0,e.length-1)}function Nf({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=qD(n)?n.map(uw):uw(n),s={done:!1,value:t[0]},o=u6(r&&r.length===t.length?r:c6(t),e),l=NO(o,t,{ease:Array.isArray(i)?i:d6(t,i)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}function SO(e,t){return t?e*(1e3/t):0}const f6=5;function _O(e,t,r){const n=Math.max(t-f6,0);return SO(r-e(n),t-n)}const Mp=.001,m6=.01,h6=10,p6=.05,g6=1;function x6({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let i,s,o=1-t;o=_i(p6,g6,o),e=_i(m6,h6,Oa(e)),o<1?(i=u=>{const f=u*o,d=f*e,m=f-r,p=x0(u,o),v=Math.exp(-d);return Mp-m/p*v},s=u=>{const d=u*o*e,m=d*r+r,p=Math.pow(o,2)*Math.pow(u,2)*e,v=Math.exp(-d),g=x0(Math.pow(u,2),o);return(-i(u)+Mp>0?-1:1)*((m-p)*v)/g}):(i=u=>{const f=Math.exp(-u*e),d=(u-r)*e+1;return-Mp+f*d},s=u=>{const f=Math.exp(-u*e),d=(r-u)*(e*e);return f*d});const l=5/e,c=v6(i,s,l);if(e=ds(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const y6=12;function v6(e,t,r){let n=r;for(let i=1;i<y6;i++)n=n-e(n)/t(n);return n}function x0(e,t){return e*Math.sqrt(1-t*t)}const b6=["duration","bounce"],j6=["stiffness","damping","mass"];function mw(e,t){return t.some(r=>e[r]!==void 0)}function w6(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!mw(e,j6)&&mw(e,b6)){const r=x6(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function AO({keyframes:e,restDelta:t,restSpeed:r,...n}){const i=e[0],s=e[e.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:f,velocity:d,isResolvedFromDuration:m}=w6({...n,velocity:-Oa(n.velocity||0)}),p=d||0,v=c/(2*Math.sqrt(l*u)),g=s-i,w=Oa(Math.sqrt(l/u)),x=Math.abs(g)<5;r||(r=x?.01:2),t||(t=x?.005:.5);let y;if(v<1){const h=x0(w,v);y=N=>{const j=Math.exp(-v*w*N);return s-j*((p+v*w*g)/h*Math.sin(h*N)+g*Math.cos(h*N))}}else if(v===1)y=h=>s-Math.exp(-w*h)*(g+(p+w*g)*h);else{const h=w*Math.sqrt(v*v-1);y=N=>{const j=Math.exp(-v*w*N),b=Math.min(h*N,300);return s-j*((p+v*w*g)*Math.sinh(b)+h*g*Math.cosh(b))/h}}return{calculatedDuration:m&&f||null,next:h=>{const N=y(h);if(m)o.done=h>=f;else{let j=p;h!==0&&(v<1?j=_O(y,h,N):j=0);const b=Math.abs(j)<=r,S=Math.abs(s-N)<=t;o.done=b&&S}return o.value=o.done?s:N,o}}}function hw({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:f}){const d=e[0],m={done:!1,value:d},p=P=>l!==void 0&&P<l||c!==void 0&&P>c,v=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let g=r*t;const w=d+g,x=o===void 0?w:o(w);x!==w&&(g=x-d);const y=P=>-g*Math.exp(-P/n),h=P=>x+y(P),N=P=>{const A=y(P),E=h(P);m.done=Math.abs(A)<=u,m.value=m.done?x:E};let j,b;const S=P=>{p(m.value)&&(j=P,b=AO({keyframes:[m.value,v(m.value)],velocity:_O(h,P,m.value),damping:i,stiffness:s,restDelta:u,restSpeed:f}))};return S(0),{calculatedDuration:null,next:P=>{let A=!1;return!b&&j===void 0&&(A=!0,N(P),S(P)),j!==void 0&&P>j?b.next(P-j):(!A&&N(P),m)}}}const N6=e=>{const t=({timestamp:r})=>e(r);return{start:()=>wt.update(t,!0),stop:()=>Ra(t),now:()=>yr.isProcessing?yr.timestamp:performance.now()}},pw=2e4;function gw(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<pw;)t+=r,n=e.next(t);return t>=pw?1/0:t}const S6={decay:hw,inertia:hw,tween:Nf,keyframes:Nf,spring:AO};function Sf({autoplay:e=!0,delay:t=0,driver:r=N6,keyframes:n,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:f,onUpdate:d,...m}){let p=1,v=!1,g,w;const x=()=>{w=new Promise(k=>{g=k})};x();let y;const h=S6[i]||Nf;let N;h!==Nf&&typeof n[0]!="number"&&(N=NO([0,100],n,{clamp:!1}),n=[0,100]);const j=h({...m,keyframes:n});let b;l==="mirror"&&(b=h({...m,keyframes:[...n].reverse(),velocity:-(m.velocity||0)}));let S="idle",P=null,A=null,E=null;j.calculatedDuration===null&&s&&(j.calculatedDuration=gw(j));const{calculatedDuration:O}=j;let C=1/0,T=1/0;O!==null&&(C=O+o,T=C*(s+1)-o);let R=0;const z=k=>{if(A===null)return;p>0&&(A=Math.min(A,k)),p<0&&(A=Math.min(k-T/p,A)),P!==null?R=P:R=Math.round(k-A)*p;const K=R-t*(p>=0?1:-1),oe=p>=0?K<0:K>T;R=Math.max(K,0),S==="finished"&&P===null&&(R=T);let B=R,M=j;if(s){const $=Math.min(R,T)/C;let ae=Math.floor($),fe=$%1;!fe&&$>=1&&(fe=1),fe===1&&ae--,ae=Math.min(ae,s+1),!!(ae%2)&&(l==="reverse"?(fe=1-fe,o&&(fe-=o/C)):l==="mirror"&&(M=b)),B=_i(0,1,fe)*C}const re=oe?{done:!1,value:n[0]}:M.next(B);N&&(re.value=N(re.value));let{done:we}=re;!oe&&O!==null&&(we=p>=0?R>=T:R<=0);const be=P===null&&(S==="finished"||S==="running"&&we);return d&&d(re.value),be&&F(),re},G=()=>{y&&y.stop(),y=void 0},X=()=>{S="idle",G(),g(),x(),A=E=null},F=()=>{S="finished",f&&f(),G(),g()},Y=()=>{if(v)return;y||(y=r(z));const k=y.now();c&&c(),P!==null?A=k-P:(!A||S==="finished")&&(A=k),S==="finished"&&x(),E=A,P=null,S="running",y.start()};e&&Y();const J={then(k,K){return w.then(k,K)},get time(){return Oa(R)},set time(k){k=ds(k),R=k,P!==null||!y||p===0?P=k:A=y.now()-k/p},get duration(){const k=j.calculatedDuration===null?gw(j):j.calculatedDuration;return Oa(k)},get speed(){return p},set speed(k){k===p||!y||(p=k,J.time=Oa(R))},get state(){return S},play:Y,pause:()=>{S="paused",P=R},stop:()=>{v=!0,S!=="idle"&&(S="idle",u&&u(),X())},cancel:()=>{E!==null&&z(E),X()},complete:()=>{S="finished"},sample:k=>(A=0,z(k))};return J}function _6(e){let t;return()=>(t===void 0&&(t=e()),t)}const A6=_6(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),P6=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),fd=10,O6=2e4,E6=(e,t)=>t.type==="spring"||e==="backgroundColor"||!nO(t.ease);function C6(e,t,{onUpdate:r,onComplete:n,...i}){if(!(A6()&&P6.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const f=()=>{c=new Promise(h=>{l=h})};f();let{keyframes:d,duration:m=300,ease:p,times:v}=i;if(E6(t,i)){const h=Sf({...i,repeat:0,delay:0});let N={done:!1,value:d[0]};const j=[];let b=0;for(;!N.done&&b<O6;)N=h.sample(b),j.push(N.value),b+=fd;v=void 0,d=j,m=b-fd,p="linear"}const g=BD(e.owner.current,t,d,{...i,duration:m,ease:p,times:v}),w=()=>{u=!1,g.cancel()},x=()=>{u=!0,wt.update(w),l(),f()};return g.onfinish=()=>{u||(e.set(FD(d,i)),n&&n(),x())},{then(h,N){return c.then(h,N)},attachTimeline(h){return g.timeline=h,g.onfinish=null,zt},get time(){return Oa(g.currentTime||0)},set time(h){g.currentTime=ds(h)},get speed(){return g.playbackRate},set speed(h){g.playbackRate=h},get duration(){return Oa(m)},play:()=>{o||(g.play(),Ra(w))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:h}=g;if(h){const N=Sf({...i,autoplay:!1});e.setWithVelocity(N.sample(h-fd).value,N.sample(h).value,fd)}x()},complete:()=>{u||g.finish()},cancel:x}}function T6({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const i=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:zt,pause:zt,stop:zt,then:s=>(s(),Promise.resolve()),cancel:zt,complete:zt});return t?Sf({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const k6={type:"spring",stiffness:500,damping:25,restSpeed:10},M6=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),$6={type:"keyframes",duration:.8},D6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},I6=(e,{keyframes:t})=>t.length>2?$6:Cs.has(e)?e.startsWith("scale")?M6(t[1]):k6:D6,y0=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ai.test(t)||t==="0")&&!t.startsWith("url(")),L6=new Set(["brightness","contrast","saturate","opacity"]);function R6(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Qm)||[];if(!n)return e;const i=r.replace(n,"");let s=L6.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+i+")"}const B6=/([a-z-]*)\(.*?\)/g,v0={...Ai,getAnimatableNone:e=>{const t=e.match(B6);return t?t.map(R6).join(" "):e}},F6={...FP,color:Ar,backgroundColor:Ar,outlineColor:Ar,fill:Ar,stroke:Ar,borderColor:Ar,borderTopColor:Ar,borderRightColor:Ar,borderBottomColor:Ar,borderLeftColor:Ar,filter:v0,WebkitFilter:v0},vv=e=>F6[e];function PO(e,t){let r=vv(e);return r!==v0&&(r=Ai),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const OO=e=>/^0[^.\s]+$/.test(e);function z6(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||OO(e)}function V6(e,t,r,n){const i=y0(t,r);let s;Array.isArray(r)?s=[...r]:s=[null,r];const o=n.from!==void 0?n.from:e.get();let l;const c=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),z6(s[u])&&c.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(l=s[u]);if(i&&c.length&&l)for(let u=0;u<c.length;u++){const f=c[u];s[f]=PO(t,l)}return s}function U6({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:u,...f}){return!!Object.keys(f).length}function bv(e,t){return e[t]||e.default||e}const W6={skipAnimations:!1},jv=(e,t,r,n={})=>i=>{const s=bv(n,e)||{},o=s.delay||n.delay||0;let{elapsed:l=0}=n;l=l-ds(o);const c=V6(t,e,r,s),u=c[0],f=c[c.length-1],d=y0(e,u),m=y0(e,f);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-l,onUpdate:v=>{t.set(v),s.onUpdate&&s.onUpdate(v)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(U6(s)||(p={...p,...I6(e,p)}),p.duration&&(p.duration=ds(p.duration)),p.repeatDelay&&(p.repeatDelay=ds(p.repeatDelay)),!d||!m||RD.current||s.type===!1||W6.skipAnimations)return T6(p);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const v=C6(t,e,p);if(v)return v}return Sf(p)};function _f(e){return!!(Hr(e)&&e.add)}const EO=e=>/^\-?\d*\.?\d+$/.test(e);function wv(e,t){e.indexOf(t)===-1&&e.push(t)}function Nv(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Sv{constructor(){this.subscriptions=[]}add(t){return wv(this.subscriptions,t),()=>Nv(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const H6=e=>!isNaN(parseFloat(e));class q6{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:s,timestamp:o}=yr;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,wt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>wt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=H6(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Sv);const n=this.events[t].add(r);return t==="change"?()=>{n(),wt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?SO(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ro(e,t){return new q6(e,t)}const CO=e=>t=>t.test(e),G6={test:e=>e==="auto",parse:e=>e},TO=[Ts,Ve,Qn,Xa,eD,Q4,G6],Ll=e=>TO.find(CO(e)),K6=[...TO,Ar,Ai],Y6=e=>K6.find(CO(e));function X6(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Ro(r))}function J6(e,t){const r=th(e,t);let{transitionEnd:n={},transition:i={},...s}=r?e.makeTargetAnimatable(r,!1):{};s={...s,...n};for(const o in s){const l=hD(s[o]);X6(e,o,l)}}function Z6(e,t,r){var n,i;const s=Object.keys(t).filter(l=>!e.hasValue(l)),o=s.length;if(o)for(let l=0;l<o;l++){const c=s[l],u=t[c];let f=null;Array.isArray(u)&&(f=u[0]),f===null&&(f=(i=(n=r[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&i!==void 0?i:t[c]),f!=null&&(typeof f=="string"&&(EO(f)||OO(f))?f=parseFloat(f):!Y6(f)&&Ai.test(u)&&(f=PO(c,u)),e.addValue(c,Ro(f,{owner:e})),r[c]===void 0&&(r[c]=f),f!==null&&e.setBaseTarget(c,f))}}function Q6(e,t){return t?(t[e]||t.default||t).from:void 0}function e3(e,t,r){const n={};for(const i in e){const s=Q6(i,t);if(s!==void 0)n[i]=s;else{const o=r.getValue(i);o&&(n[i]=o.get())}}return n}function t3({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function r3(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function kO(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(s=n);const u=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const m=e.getValue(d),p=l[d];if(!m||p===void 0||f&&t3(f,d))continue;const v={delay:r,elapsed:0,...bv(s||{},d)};if(window.HandoffAppearAnimations){const x=e.getProps()[MP];if(x){const y=window.HandoffAppearAnimations(x,d,m,wt);y!==null&&(v.elapsed=y,v.isHandoff=!0)}}let g=!v.isHandoff&&!r3(m,p);if(v.type==="spring"&&(m.getVelocity()||v.velocity)&&(g=!1),m.animation&&(g=!1),g)continue;m.start(jv(d,m,p,e.shouldReduceMotion&&Cs.has(d)?{type:!1}:v));const w=m.animation;_f(c)&&(c.add(d),w.then(()=>c.remove(d))),u.push(w)}return o&&Promise.all(u).then(()=>{o&&J6(e,o)}),u}function b0(e,t,r={}){const n=th(e,t,r.custom);let{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(kO(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:d}=i;return n3(e,t,u+c,f,d,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(r.delay)])}function n3(e,t,r=0,n=0,i=1,s){const o=[],l=(e.variantChildren.size-1)*n,c=i===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(a3).forEach((u,f)=>{u.notify("AnimationStart",t),o.push(b0(u,t,{...s,delay:r+c(f)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function a3(e,t){return e.sortNodePosition(t)}function i3(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(s=>b0(e,s,r));n=Promise.all(i)}else if(typeof t=="string")n=b0(e,t,r);else{const i=typeof t=="function"?th(e,t,r.custom):t;n=Promise.all(kO(e,i,r))}return n.then(()=>e.notify("AnimationComplete",t))}const s3=[...iv].reverse(),o3=iv.length;function l3(e){return t=>Promise.all(t.map(({animation:r,options:n})=>i3(e,r,n)))}function c3(e){let t=l3(e);const r=d3();let n=!0;const i=(c,u)=>{const f=th(e,u);if(f){const{transition:d,transitionEnd:m,...p}=f;c={...c,...p,...m}}return c};function s(c){t=c(e)}function o(c,u){const f=e.getProps(),d=e.getVariantContext(!0)||{},m=[],p=new Set;let v={},g=1/0;for(let x=0;x<o3;x++){const y=s3[x],h=r[y],N=f[y]!==void 0?f[y]:d[y],j=Vc(N),b=y===u?h.isActive:null;b===!1&&(g=x);let S=N===d[y]&&N!==f[y]&&j;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),h.protectedKeys={...v},!h.isActive&&b===null||!N&&!h.prevProp||Jm(N)||typeof N=="boolean")continue;let A=u3(h.prevProp,N)||y===u&&h.isActive&&!S&&j||x>g&&j,E=!1;const O=Array.isArray(N)?N:[N];let C=O.reduce(i,{});b===!1&&(C={});const{prevResolvedValues:T={}}=h,R={...T,...C},z=G=>{A=!0,p.has(G)&&(E=!0,p.delete(G)),h.needsAnimating[G]=!0};for(const G in R){const X=C[G],F=T[G];if(v.hasOwnProperty(G))continue;let Y=!1;jf(X)&&jf(F)?Y=!tO(X,F):Y=X!==F,Y?X!==void 0?z(G):p.add(G):X!==void 0&&p.has(G)?z(G):h.protectedKeys[G]=!0}h.prevProp=N,h.prevResolvedValues=C,h.isActive&&(v={...v,...C}),n&&e.blockInitialAnimation&&(A=!1),A&&(!S||E)&&m.push(...O.map(G=>({animation:G,options:{type:y,...c}})))}if(p.size){const x={};p.forEach(y=>{const h=e.getBaseTarget(y);h!==void 0&&(x[y]=h)}),m.push({animation:x})}let w=!!m.length;return n&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(w=!1),n=!1,w?t(m):Promise.resolve()}function l(c,u,f){var d;if(r[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(p=>{var v;return(v=p.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),r[c].isActive=u;const m=o(f,c);for(const p in r)r[p].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>r}}function u3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!tO(t,e):!1}function Ri(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function d3(){return{animate:Ri(!0),whileInView:Ri(),whileHover:Ri(),whileTap:Ri(),whileDrag:Ri(),whileFocus:Ri(),exit:Ri()}}class f3 extends Mi{constructor(t){super(t),t.animationState||(t.animationState=c3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Jm(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let m3=0;class h3 extends Mi{constructor(){super(...arguments),this.id=m3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&s.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const p3={animation:{Feature:f3},exit:{Feature:h3}},xw=(e,t)=>Math.abs(e-t);function g3(e,t){const r=xw(e.x,t.x),n=xw(e.y,t.y);return Math.sqrt(r**2+n**2)}class MO{constructor(t,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Dp(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=g3(d.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:v}=d,{timestamp:g}=yr;this.history.push({...v,timestamp:g});const{onStart:w,onMove:x}=this.handlers;m||(w&&w(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,d)},this.handlePointerMove=(d,m)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=$p(m,this.transformPagePoint),wt.update(this.updatePoint,!0)},this.handlePointerUp=(d,m)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Dp(d.type==="pointercancel"?this.lastMoveEventInfo:$p(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,w),v&&v(d,w)},!XP(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const o=eh(t),l=$p(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=yr;this.history=[{...c,timestamp:u}];const{onSessionStart:f}=r;f&&f(t,Dp(l,this.history)),this.removeListeners=bi(Pa(this.contextWindow,"pointermove",this.handlePointerMove),Pa(this.contextWindow,"pointerup",this.handlePointerUp),Pa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ra(this.updatePoint)}}function $p(e,t){return t?{point:t(e.point)}:e}function yw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Dp({point:e},t){return{point:e,delta:yw(e,$O(t)),offset:yw(e,x3(t)),velocity:y3(t,.1)}}function x3(e){return e[0]}function $O(e){return e[e.length-1]}function y3(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=$O(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>ds(t)));)r--;if(!n)return{x:0,y:0};const s=Oa(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function nn(e){return e.max-e.min}function j0(e,t=0,r=.01){return Math.abs(e-t)<=r}function vw(e,t,r,n=.5){e.origin=n,e.originPoint=Dt(t.min,t.max,e.origin),e.scale=nn(r)/nn(t),(j0(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Dt(r.min,r.max,e.origin)-e.originPoint,(j0(e.translate)||isNaN(e.translate))&&(e.translate=0)}function mc(e,t,r,n){vw(e.x,t.x,r.x,n?n.originX:void 0),vw(e.y,t.y,r.y,n?n.originY:void 0)}function bw(e,t,r){e.min=r.min+t.min,e.max=e.min+nn(t)}function v3(e,t,r){bw(e.x,t.x,r.x),bw(e.y,t.y,r.y)}function jw(e,t,r){e.min=t.min-r.min,e.max=e.min+nn(t)}function hc(e,t,r){jw(e.x,t.x,r.x),jw(e.y,t.y,r.y)}function b3(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Dt(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Dt(r,e,n.max):Math.min(e,r)),e}function ww(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function j3(e,{top:t,left:r,bottom:n,right:i}){return{x:ww(e.x,r,i),y:ww(e.y,t,n)}}function Nw(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function w3(e,t){return{x:Nw(e.x,t.x),y:Nw(e.y,t.y)}}function N3(e,t){let r=.5;const n=nn(e),i=nn(t);return i>n?r=Wc(t.min,t.max-n,e.min):n>i&&(r=Wc(e.min,e.max-i,t.min)),_i(0,1,r)}function S3(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const w0=.35;function _3(e=w0){return e===!1?e=0:e===!0&&(e=w0),{x:Sw(e,"left","right"),y:Sw(e,"top","bottom")}}function Sw(e,t,r){return{min:_w(e,t),max:_w(e,r)}}function _w(e,t){return typeof e=="number"?e:e[t]||0}const Aw=()=>({translate:0,scale:1,origin:0,originPoint:0}),io=()=>({x:Aw(),y:Aw()}),Pw=()=>({min:0,max:0}),Ut=()=>({x:Pw(),y:Pw()});function fn(e){return[e("x"),e("y")]}function DO({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function A3({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function P3(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Ip(e){return e===void 0||e===1}function N0({scale:e,scaleX:t,scaleY:r}){return!Ip(e)||!Ip(t)||!Ip(r)}function Wi(e){return N0(e)||IO(e)||e.z||e.rotate||e.rotateX||e.rotateY}function IO(e){return Ow(e.x)||Ow(e.y)}function Ow(e){return e&&e!=="0%"}function Af(e,t,r){const n=e-r,i=t*n;return r+i}function Ew(e,t,r,n,i){return i!==void 0&&(e=Af(e,i,n)),Af(e,r,n)+t}function S0(e,t=0,r=1,n,i){e.min=Ew(e.min,t,r,n,i),e.max=Ew(e.max,t,r,n,i)}function LO(e,{x:t,y:r}){S0(e.x,t.translate,t.scale,t.originPoint),S0(e.y,r.translate,r.scale,r.originPoint)}function O3(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let s,o;for(let l=0;l<i;l++){s=r[l],o=s.projectionDelta;const c=s.instance;c&&c.style&&c.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&so(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,LO(e,o)),n&&Wi(s.latestValues)&&so(e,s.latestValues))}t.x=Cw(t.x),t.y=Cw(t.y)}function Cw(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Qa(e,t){e.min=e.min+t,e.max=e.max+t}function Tw(e,t,[r,n,i]){const s=t[i]!==void 0?t[i]:.5,o=Dt(e.min,e.max,s);S0(e,t[r],t[n],o,t.scale)}const E3=["x","scaleX","originX"],C3=["y","scaleY","originY"];function so(e,t){Tw(e.x,t,E3),Tw(e.y,t,C3)}function RO(e,t){return DO(P3(e.getBoundingClientRect(),t))}function T3(e,t,r){const n=RO(e,r),{scroll:i}=t;return i&&(Qa(n.x,i.offset.x),Qa(n.y,i.offset.y)),n}const BO=({current:e})=>e?e.ownerDocument.defaultView:null,k3=new WeakMap;class M3{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ut(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(eh(f,"page").point)},s=(f,d)=>{const{drag:m,dragPropagation:p,onDragStart:v}=this.getProps();if(m&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=ZP(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fn(w=>{let x=this.getAxisMotionValue(w).get()||0;if(Qn.test(x)){const{projection:y}=this.visualElement;if(y&&y.layout){const h=y.layout.layoutBox[w];h&&(x=nn(h)*(parseFloat(x)/100))}}this.originPoint[w]=x}),v&&wt.update(()=>v(f,d),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(f,d)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:v,onDrag:g}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:w}=d;if(p&&this.currentDirection===null){this.currentDirection=$3(w),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,w),this.updateAxis("y",d.point,w),this.visualElement.render(),g&&g(f,d)},l=(f,d)=>this.stop(f,d),c=()=>fn(f=>{var d;return this.getAnimationState(f)==="paused"&&((d=this.getAxisMotionValue(f).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new MO(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:BO(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&wt.update(()=>s(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!md(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=b3(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;r&&no(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=j3(i.layoutBox,r):this.constraints=!1,this.elastic=_3(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&fn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=S3(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!no(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=T3(n,i.root,this.visualElement.getTransformPagePoint());let o=w3(i.layout.layoutBox,s);if(r){const l=r(A3(o));this.hasMutatedConstraints=!!l,l&&(o=DO(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=fn(f=>{if(!md(f,r,this.currentDirection))return;let d=c&&c[f]||{};o&&(d={min:0,max:0});const m=i?200:1e6,p=i?40:1e7,v={type:"inertia",velocity:n?t[f]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(f,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(jv(t,n,0,r))}stopAnimation(){fn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){fn(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){fn(r=>{const{drag:n}=this.getProps();if(!md(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[r];s.set(t[r]-Dt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!no(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};fn(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();i[o]=N3({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),fn(o=>{if(!md(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Dt(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;k3.set(this.visualElement,this);const t=this.visualElement.current,r=Pa(t,"pointerdown",c=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();no(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();const o=va(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(fn(f=>{const d=this.getAxisMotionValue(f);d&&(this.originPoint[f]+=c[f].translate,d.set(d.get()+c[f].translate))}),this.visualElement.render())});return()=>{o(),r(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=w0,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function md(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function $3(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class D3 extends Mi{constructor(t){super(t),this.removeGroupControls=zt,this.removeListeners=zt,this.controls=new M3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zt}unmount(){this.removeGroupControls(),this.removeListeners()}}const kw=e=>(t,r)=>{e&&wt.update(()=>e(t,r))};class I3 extends Mi{constructor(){super(...arguments),this.removePointerDownListener=zt}onPointerDown(t){this.session=new MO(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:BO(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:kw(t),onStart:kw(r),onMove:n,onEnd:(s,o)=>{delete this.session,i&&wt.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Pa(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function L3(){const e=_.useContext(Ym);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,i=_.useId();return _.useEffect(()=>n(i),[]),!t&&r?[!1,()=>r&&r(i)]:[!0]}const Vd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Mw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Rl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ve.test(e))e=parseFloat(e);else return e;const r=Mw(e,t.target.x),n=Mw(e,t.target.y);return`${r}% ${n}%`}},R3={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=Ai.parse(e);if(i.length>5)return n;const s=Ai.createTransformer(e),o=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const u=Dt(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class B3 extends I.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=t;q4(F3),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Vd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,o=n.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||wt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function FO(e){const[t,r]=L3(),n=_.useContext(ov);return I.createElement(B3,{...e,layoutGroup:n,switchLayoutGroup:_.useContext(DP),isPresent:t,safeToRemove:r})}const F3={borderRadius:{...Rl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rl,borderTopRightRadius:Rl,borderBottomLeftRadius:Rl,borderBottomRightRadius:Rl,boxShadow:R3},zO=["TopLeft","TopRight","BottomLeft","BottomRight"],z3=zO.length,$w=e=>typeof e=="string"?parseFloat(e):e,Dw=e=>typeof e=="number"||Ve.test(e);function V3(e,t,r,n,i,s){i?(e.opacity=Dt(0,r.opacity!==void 0?r.opacity:1,U3(n)),e.opacityExit=Dt(t.opacity!==void 0?t.opacity:1,0,W3(n))):s&&(e.opacity=Dt(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<z3;o++){const l=`border${zO[o]}Radius`;let c=Iw(t,l),u=Iw(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Dw(c)===Dw(u)?(e[l]=Math.max(Dt($w(c),$w(u),n),0),(Qn.test(u)||Qn.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=Dt(t.rotate||0,r.rotate||0,n))}function Iw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const U3=VO(0,.5,uO),W3=VO(.5,.95,zt);function VO(e,t,r){return n=>n<e?0:n>t?1:r(Wc(e,t,n))}function Lw(e,t){e.min=t.min,e.max=t.max}function ln(e,t){Lw(e.x,t.x),Lw(e.y,t.y)}function Rw(e,t,r,n,i){return e-=t,e=Af(e,1/r,n),i!==void 0&&(e=Af(e,1/i,n)),e}function H3(e,t=0,r=1,n=.5,i,s=e,o=e){if(Qn.test(t)&&(t=parseFloat(t),t=Dt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Dt(s.min,s.max,n);e===s&&(l-=t),e.min=Rw(e.min,t,r,l,i),e.max=Rw(e.max,t,r,l,i)}function Bw(e,t,[r,n,i],s,o){H3(e,t[r],t[n],t[i],t.scale,s,o)}const q3=["x","scaleX","originX"],G3=["y","scaleY","originY"];function Fw(e,t,r,n){Bw(e.x,t,q3,r?r.x:void 0,n?n.x:void 0),Bw(e.y,t,G3,r?r.y:void 0,n?n.y:void 0)}function zw(e){return e.translate===0&&e.scale===1}function UO(e){return zw(e.x)&&zw(e.y)}function K3(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function WO(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Vw(e){return nn(e.x)/nn(e.y)}class Y3{constructor(){this.members=[]}add(t){wv(this.members,t),t.scheduleRender()}remove(t){if(Nv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Uw(e,t,r){let n="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(n=`translate3d(${i}px, ${s}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:c,rotateX:u,rotateY:f}=r;c&&(n+=`rotate(${c}deg) `),u&&(n+=`rotateX(${u}deg) `),f&&(n+=`rotateY(${f}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const X3=(e,t)=>e.depth-t.depth;class J3{constructor(){this.children=[],this.isDirty=!1}add(t){wv(this.children,t),this.isDirty=!0}remove(t){Nv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(X3),this.isDirty=!1,this.children.forEach(t)}}function Z3(e,t){const r=performance.now(),n=({timestamp:i})=>{const s=i-r;s>=t&&(Ra(n),e(s-t))};return wt.read(n,!0),()=>Ra(n)}function Q3(e){window.MotionDebug&&window.MotionDebug.record(e)}function eI(e){return e instanceof SVGElement&&e.tagName!=="svg"}function tI(e,t,r){const n=Hr(e)?e:Ro(e);return n.start(jv("",n,t,r)),n.animation}const Ww=["","X","Y","Z"],rI={visibility:"hidden"},Hw=1e3;let nI=0;const Hi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function HO({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=nI++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Hi.totalNodes=Hi.resolvedTargetDeltas=Hi.recalculatedProjection=0,this.nodes.forEach(sI),this.nodes.forEach(dI),this.nodes.forEach(fI),this.nodes.forEach(oI),Q3(Hi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new J3)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Sv),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=eI(o),this.instance=o;const{layoutId:c,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let d;const m=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Z3(m,250),Vd.hasAnimatedSinceResize&&(Vd.hasAnimatedSinceResize=!1,this.nodes.forEach(Gw))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||f.getDefaultTransition()||xI,{onLayoutAnimationStart:w,onLayoutAnimationComplete:x}=f.getProps(),y=!this.targetLayout||!WO(this.targetLayout,v)||p,h=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||h||m&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,h);const N={...bv(g,"layout"),onPlay:w,onComplete:x};(f.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else m||Gw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ra(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mI),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const d=this.path[f];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qw);return}this.isUpdating||this.nodes.forEach(cI),this.isUpdating=!1,this.nodes.forEach(uI),this.nodes.forEach(aI),this.nodes.forEach(iI),this.clearAllSnapshots();const l=performance.now();yr.delta=_i(0,1e3/60,l-yr.timestamp),yr.timestamp=l,yr.isProcessing=!0,Ap.update.process(yr),Ap.preRender.process(yr),Ap.render.process(yr),yr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(lI),this.sharedNodes.forEach(hI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!UO(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&(l||Wi(this.latestValues)||f)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),yI(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ut();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(Qa(l.x,c.offset.x),Qa(l.y,c.offset.y)),l}removeElementScroll(o){const l=Ut();ln(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:d}=u;if(u!==this.root&&f&&d.layoutScroll){if(f.isRoot){ln(l,o);const{scroll:m}=this.root;m&&(Qa(l.x,-m.offset.x),Qa(l.y,-m.offset.y))}Qa(l.x,f.offset.x),Qa(l.y,f.offset.y)}}return l}applyTransform(o,l=!1){const c=Ut();ln(c,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&so(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Wi(f.latestValues)&&so(c,f.latestValues)}return Wi(this.latestValues)&&so(c,this.latestValues),c}removeTransform(o){const l=Ut();ln(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Wi(u.latestValues))continue;N0(u.latestValues)&&u.updateSnapshot();const f=Ut(),d=u.measurePageBox();ln(f,d),Fw(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return Wi(this.latestValues)&&Fw(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:m}=this.options;if(!(!this.layout||!(d||m))){if(this.resolvedRelativeTargetAt=yr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ut(),this.relativeTargetOrigin=Ut(),hc(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ut(),this.targetWithTransforms=Ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),v3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ln(this.target,this.layout.layoutBox),LO(this.target,this.targetDelta)):ln(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ut(),this.relativeTargetOrigin=Ut(),hc(this.relativeTargetOrigin,this.target,p.target),ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Hi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||N0(this.parent.latestValues)||IO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===yr.timestamp&&(u=!1),u)return;const{layout:f,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||d))return;ln(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;O3(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:v}=l;if(!v){this.projectionTransform&&(this.projectionDelta=io(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=io(),this.projectionDeltaWithTransform=io());const g=this.projectionTransform;mc(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=Uw(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==m||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Hi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},f={...this.latestValues},d=io();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Ut(),p=c?c.source:void 0,v=this.layout?this.layout.source:void 0,g=p!==v,w=this.getStack(),x=!w||w.members.length<=1,y=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(gI));this.animationProgress=0;let h;this.mixTargetDelta=N=>{const j=N/1e3;Kw(d.x,o.x,j),Kw(d.y,o.y,j),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hc(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pI(this.relativeTarget,this.relativeTargetOrigin,m,j),h&&K3(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h=Ut()),ln(h,this.relativeTarget)),g&&(this.animationValues=f,V3(f,u,this.latestValues,j,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ra(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wt.update(()=>{Vd.hasAnimatedSinceResize=!0,this.currentAnimation=tI(0,Hw,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Hw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:f}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&qO(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ut();const d=nn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+d;const m=nn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}ln(l,c),so(l,f),mc(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Y3),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let f=0;f<Ww.length;f++){const d="rotate"+Ww[f];c[d]&&(u[d]=c[d],o.setStaticValue(d,0))}o.render();for(const f in u)o.setStaticValue(f,u[f]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return rI;const u={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=zd(o==null?void 0:o.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=zd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Wi(this.latestValues)&&(g.transform=f?f({},""):"none",this.hasProjected=!1),g}const m=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=Uw(this.projectionDeltaWithTransform,this.treeScale,m),f&&(u.transform=f(m,u.transform));const{x:p,y:v}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,d.animationValues?u.opacity=d===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=d===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const g in vf){if(m[g]===void 0)continue;const{correct:w,applyTo:x}=vf[g],y=u.transform==="none"?m[g]:w(m[g],d);if(x){const h=x.length;for(let N=0;N<h;N++)u[x[N]]=y}else u[g]=y}return this.options.layoutId&&(u.pointerEvents=d===this?zd(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(qw),this.root.sharedNodes.clear()}}}function aI(e){e.updateLayout()}function iI(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,o=r.source!==e.layout.source;s==="size"?fn(d=>{const m=o?r.measuredBox[d]:r.layoutBox[d],p=nn(m);m.min=n[d].min,m.max=m.min+p}):qO(s,r.layoutBox,n)&&fn(d=>{const m=o?r.measuredBox[d]:r.layoutBox[d],p=nn(n[d]);m.max=m.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const l=io();mc(l,n,r.layoutBox);const c=io();o?mc(c,e.applyTransform(i,!0),r.measuredBox):mc(c,n,r.layoutBox);const u=!UO(l);let f=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:m,layout:p}=d;if(m&&p){const v=Ut();hc(v,r.layoutBox,m.layoutBox);const g=Ut();hc(g,n,p.layoutBox),WO(v,g)||(f=!0),d.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=v,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function sI(e){Hi.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function oI(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function lI(e){e.clearSnapshot()}function qw(e){e.clearMeasurements()}function cI(e){e.isLayoutDirty=!1}function uI(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Gw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function dI(e){e.resolveTargetDelta()}function fI(e){e.calcProjection()}function mI(e){e.resetRotation()}function hI(e){e.removeLeadSnapshot()}function Kw(e,t,r){e.translate=Dt(t.translate,0,r),e.scale=Dt(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Yw(e,t,r,n){e.min=Dt(t.min,r.min,n),e.max=Dt(t.max,r.max,n)}function pI(e,t,r,n){Yw(e.x,t.x,r.x,n),Yw(e.y,t.y,r.y,n)}function gI(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const xI={duration:.45,ease:[.4,0,.1,1]},Xw=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Jw=Xw("applewebkit/")&&!Xw("chrome/")?Math.round:zt;function Zw(e){e.min=Jw(e.min),e.max=Jw(e.max)}function yI(e){Zw(e.x),Zw(e.y)}function qO(e,t,r){return e==="position"||e==="preserve-aspect"&&!j0(Vw(t),Vw(r),.2)}const vI=HO({attachResizeListener:(e,t)=>va(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Lp={current:void 0},GO=HO({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Lp.current){const e=new vI({});e.mount(window),e.setOptions({layoutScroll:!0}),Lp.current=e}return Lp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),bI={pan:{Feature:I3},drag:{Feature:D3,ProjectionNode:GO,MeasureLayout:FO}},jI=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function wI(e){const t=jI.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function _0(e,t,r=1){const[n,i]=wI(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const o=s.trim();return EO(o)?parseFloat(o):o}else return h0(i)?_0(i,t,r+1):i}function NI(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(i=>{const s=i.get();if(!h0(s))return;const o=_0(s,n);o&&i.set(o)});for(const i in t){const s=t[i];if(!h0(s))continue;const o=_0(s,n);o&&(t[i]=o,r||(r={}),r[i]===void 0&&(r[i]=s))}return{target:t,transitionEnd:r}}const SI=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),KO=e=>SI.has(e),_I=e=>Object.keys(e).some(KO),Qw=e=>e===Ts||e===Ve,e1=(e,t)=>parseFloat(e.split(", ")[t]),t1=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return e1(i[1],t);{const s=n.match(/^matrix\((.+)\)$/);return s?e1(s[1],e):0}},AI=new Set(["x","y","z"]),PI=Mu.filter(e=>!AI.has(e));function OI(e){const t=[];return PI.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Bo={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:t1(4,13),y:t1(5,14)};Bo.translateX=Bo.x;Bo.translateY=Bo.y;const EI=(e,t,r)=>{const n=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:o}=s,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(u=>{l[u]=Bo[u](n,s)}),t.render();const c=t.measureViewportBox();return r.forEach(u=>{const f=t.getValue(u);f&&f.jump(l[u]),e[u]=Bo[u](c,s)}),e},CI=(e,t,r={},n={})=>{t={...t},n={...n};const i=Object.keys(t).filter(KO);let s=[],o=!1;const l=[];if(i.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let f=r[c],d=Ll(f);const m=t[c];let p;if(jf(m)){const v=m.length,g=m[0]===null?1:0;f=m[g],d=Ll(f);for(let w=g;w<v&&m[w]!==null;w++)p?pv(Ll(m[w])===p):p=Ll(m[w])}else p=Ll(m);if(d!==p)if(Qw(d)&&Qw(p)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof m=="string"?t[c]=parseFloat(m):Array.isArray(m)&&p===Ve&&(t[c]=m.map(parseFloat))}else d!=null&&d.transform&&(p!=null&&p.transform)&&(f===0||m===0)?f===0?u.set(p.transform(f)):t[c]=d.transform(m):(o||(s=OI(e),o=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:t[c],u.jump(m))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=EI(t,e,l);return s.length&&s.forEach(([f,d])=>{e.getValue(f).set(d)}),e.render(),Xm&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:t,transitionEnd:n}};function TI(e,t,r,n){return _I(t)?CI(e,t,r,n):{target:t,transitionEnd:n}}const kI=(e,t,r,n)=>{const i=NI(e,t,n);return t=i.target,n=i.transitionEnd,TI(e,t,r,n)},A0={current:null},YO={current:!1};function MI(){if(YO.current=!0,!!Xm)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>A0.current=e.matches;e.addListener(t),t()}else A0.current=!1}function $I(e,t,r){const{willChange:n}=t;for(const i in t){const s=t[i],o=r[i];if(Hr(s))e.addValue(i,s),_f(n)&&n.add(i);else if(Hr(o))e.addValue(i,Ro(s,{owner:e})),_f(n)&&n.remove(i);else if(o!==s)if(e.hasValue(i)){const l=e.getValue(i);!l.hasAnimated&&l.set(s)}else{const l=e.getStaticValue(i);e.addValue(i,Ro(l!==void 0?l:s,{owner:e}))}}for(const i in r)t[i]===void 0&&e.removeValue(i);return t}const r1=new WeakMap,XO=Object.keys(Uc),DI=XO.length,n1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],II=sv.length;class LI{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>wt.render(this.render,!1,!0);const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Zm(r),this.isVariantNode=$P(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{});for(const d in f){const m=f[d];l[d]!==void 0&&Hr(m)&&(m.set(l[d],!1),_f(u)&&u.add(d))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,r1.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),YO.current||MI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:A0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){r1.delete(this.current),this.projection&&this.projection.unmount(),Ra(this.notifyUpdate),Ra(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=Cs.has(t),i=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&wt.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),s()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,i,s){let o,l;for(let c=0;c<DI;c++){const u=XO[c],{isEnabled:f,Feature:d,ProjectionNode:m,MeasureLayout:p}=Uc[u];m&&(o=m),f(r)&&(!this.features[u]&&d&&(this.features[u]=new d(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:f,dragConstraints:d,layoutScroll:m,layoutRoot:p}=r;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!f||d&&no(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:m,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ut()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<n1.length;n++){const i=n1[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=t["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=$I(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<II;n++){const i=sv[n],s=this.props[i];(Vc(s)||s===!1)&&(r[i]=s)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Ro(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(r=hv(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Hr(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Sv),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class JO extends LI{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:i},s){let o=e3(n,t||{},this);if(i&&(r&&(r=i(r)),n&&(n=i(n)),o&&(o=i(o))),s){Z6(this,n,o);const l=kI(this,n,o,r);r=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:r,...n}}}function RI(e){return window.getComputedStyle(e)}class BI extends JO{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(Cs.has(r)){const n=vv(r);return n&&n.default||0}else{const n=RI(t),i=(RP(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return RO(t,r)}build(t,r,n,i){cv(t,r,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,r){return mv(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Hr(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,i){WP(t,r,n,i)}}class FI extends JO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Cs.has(r)){const n=vv(r);return n&&n.default||0}return r=HP.has(r)?r:av(r),t.getAttribute(r)}measureInstanceViewportBox(){return Ut()}scrapeMotionValuesFromProps(t,r){return GP(t,r)}build(t,r,n,i){dv(t,r,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,r,n,i){qP(t,r,n,i)}mount(t){this.isSVGTag=fv(t.tagName),super.mount(t)}}const zI=(e,t)=>lv(e)?new FI(t,{enableHardwareAcceleration:!1}):new BI(t,{enableHardwareAcceleration:!0}),VI={layout:{ProjectionNode:GO,MeasureLayout:FO}},UI={...p3,...DD,...bI,...VI},te=W4((e,t)=>wD(e,t,UI,zI));function ZO(){const e=_.useRef(!1);return nv(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function WI(){const e=ZO(),[t,r]=_.useState(0),n=_.useCallback(()=>{e.current&&r(t+1)},[t]);return[_.useCallback(()=>wt.postRender(n),[n]),t]}class HI extends _.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function qI({children:e,isPresent:t}){const r=_.useId(),n=_.useRef(null),i=_.useRef({width:0,height:0,top:0,left:0});return _.useInsertionEffect(()=>{const{width:s,height:o,top:l,left:c}=i.current;if(t||!n.current||!s||!o)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),_.createElement(HI,{isPresent:t,childRef:n,sizeRef:i},_.cloneElement(e,{ref:n}))}const Rp=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:o})=>{const l=KP(GI),c=_.useId(),u=_.useMemo(()=>({id:c,initial:t,isPresent:r,custom:i,onExitComplete:f=>{l.set(f,!0);for(const d of l.values())if(!d)return;n&&n()},register:f=>(l.set(f,!1),()=>l.delete(f))}),s?void 0:[r]);return _.useMemo(()=>{l.forEach((f,d)=>l.set(d,!1))},[r]),_.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=_.createElement(qI,{isPresent:r},e)),_.createElement(Ym.Provider,{value:u},e)};function GI(){return new Map}function KI(e){return _.useEffect(()=>()=>e(),[])}const qi=e=>e.key||"";function YI(e,t){e.forEach(r=>{const n=qi(r);t.set(n,r)})}function XI(e){const t=[];return _.Children.forEach(e,r=>{_.isValidElement(r)&&t.push(r)}),t}const en=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const l=_.useContext(ov).forceRender||WI()[0],c=ZO(),u=XI(e);let f=u;const d=_.useRef(new Map).current,m=_.useRef(f),p=_.useRef(new Map).current,v=_.useRef(!0);if(nv(()=>{v.current=!1,YI(u,p),m.current=f}),KI(()=>{v.current=!0,p.clear(),d.clear()}),v.current)return _.createElement(_.Fragment,null,f.map(y=>_.createElement(Rp,{key:qi(y),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:s,mode:o},y)));f=[...f];const g=m.current.map(qi),w=u.map(qi),x=g.length;for(let y=0;y<x;y++){const h=g[y];w.indexOf(h)===-1&&!d.has(h)&&d.set(h,void 0)}return o==="wait"&&d.size&&(f=[]),d.forEach((y,h)=>{if(w.indexOf(h)!==-1)return;const N=p.get(h);if(!N)return;const j=g.indexOf(h);let b=y;if(!b){const S=()=>{d.delete(h);const P=Array.from(p.keys()).filter(A=>!w.includes(A));if(P.forEach(A=>p.delete(A)),m.current=u.filter(A=>{const E=qi(A);return E===h||P.includes(E)}),!d.size){if(c.current===!1)return;l(),n&&n()}};b=_.createElement(Rp,{key:qi(N),isPresent:!1,onExitComplete:S,custom:t,presenceAffectsLayout:s,mode:o},N),d.set(h,b)}f.splice(j,0,b)}),f=f.map(y=>{const h=y.key;return d.has(h)?y:_.createElement(Rp,{key:qi(y),isPresent:!0,presenceAffectsLayout:s,mode:o},y)}),_.createElement(_.Fragment,null,d.size?f:f.map(y=>_.cloneElement(y)))},ne=I.forwardRef(({className:e="",variant:t="default",size:r="default",disabled:n=!1,type:i="button",children:s,...o},l)=>{const c="inline-flex items-center justify-center rounded-xl font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",u={default:"bg-amber-500 text-white hover:bg-amber-600 focus:ring-amber-500 shadow-lg hover:shadow-xl",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",destructive:"bg-red-500 text-white hover:bg-red-600 focus:ring-red-500 shadow-lg hover:shadow-xl",outline:"border-2 border-amber-500 text-amber-600 hover:bg-amber-50 focus:ring-amber-500",ghost:"hover:bg-gray-100 text-gray-700 focus:ring-gray-500",link:"text-amber-600 underline-offset-4 hover:underline focus:ring-amber-500"},f={default:"h-11 px-6 py-2",sm:"h-9 px-4 text-sm",lg:"h-12 px-8 text-lg",icon:"h-10 w-10"};return a.jsx(te.button,{ref:l,type:i,whileHover:n?{}:{scale:1.02},whileTap:n?{}:{scale:.98},className:`${c} ${u[t]} ${f[r]} ${e}`,disabled:n,...o,children:s})});ne.displayName="Button";const ue=I.forwardRef(({className:e="",type:t="text",error:r=!1,...n},i)=>{const s="flex w-full rounded-xl border bg-white px-4 py-2 text-sm transition-all duration-200 file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50",o=r?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-200 focus:ring-amber-500 focus:border-amber-500";return a.jsx("input",{type:t,className:`${s} ${o} ${e}`,ref:i,...n})});ue.displayName="Input";const Q=I.forwardRef(({className:e="",required:t=!1,children:r,...n},i)=>a.jsxs("label",{ref:i,className:`text-sm font-medium text-gray-700 leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${e}`,...n,children:[r,t&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}));Q.displayName="Label";const ea=I.forwardRef(({className:e="",...t},r)=>a.jsx("textarea",{ref:r,className:`w-full px-4 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent ${e}`,...t}));ea.displayName="Textarea";function JI(){const[e,t]=_.useState({nom:"",email:"",message:""}),[r,n]=_.useState(!1),[i,s]=_.useState(!1),[o,l]=_.useState(null),c=async u=>{u.preventDefault(),n(!0),s(!1),l(null);try{const f=await OP.sendMessage(e);f.success?(s(!0),t({nom:"",email:"",message:""}),setTimeout(()=>s(!1),5e3)):l(f.message||"Erreur lors de l'envoi du message")}catch(f){console.error("Erreur:",f),l("Erreur de connexion. Veuillez ressayer.")}finally{n(!1)}};return a.jsxs(a.Fragment,{children:[i&&a.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl text-green-700",children:"Message envoy avec succs ! Nous vous rpondrons dans les plus brefs dlais."}),o&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl text-red-700",children:o}),a.jsxs("form",{onSubmit:c,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"nom",className:"text-gray-700 font-medium mb-2 block",children:"Votre nom"}),a.jsx(ue,{id:"nom",value:e.nom,onChange:u=>t({...e,nom:u.target.value}),placeholder:"Votre nom",className:"h-12 rounded-xl border-gray-300",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"email",className:"text-gray-700 font-medium mb-2 block",children:"Votre email"}),a.jsx(ue,{id:"email",type:"email",value:e.email,onChange:u=>t({...e,email:u.target.value}),placeholder:"Votre email",className:"h-12 rounded-xl border-gray-300",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{htmlFor:"message",className:"text-gray-700 font-medium mb-2 block",children:"Votre message"}),a.jsx(ea,{id:"message",value:e.message,onChange:u=>t({...e,message:u.target.value}),placeholder:"Votre message",className:"min-h-[120px] rounded-xl border-gray-300",required:!0})]}),a.jsx(ne,{type:"submit",disabled:r,className:"w-full h-12 bg-amber-500 hover:bg-amber-600 text-white rounded-xl font-semibold flex items-center justify-center gap-2",children:r?a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(m0,{className:"w-5 h-5"}),"Envoyer le message"]})})]})]})}function a1(){const e=[{title:"Espace Tuteur",icon:Zt,description:"Grez les inscriptions et suivez vos enfants",link:"TuteurLogin",gradient:"from-amber-400 to-yellow-500"},{title:"Espace Responsable Bus",icon:ro,description:"Supervisez le bus et grez les prsences",link:"ResponsableLogin",gradient:"from-amber-500 to-orange-500"},{title:"Espace Chauffeur",icon:rt,description:"Consultez vos trajets et informations",link:"ChauffeurLogin",gradient:"from-yellow-400 to-amber-500"},{title:"Espace Administrateur",icon:us,description:"Grez l'ensemble du systme",link:"AdminLogin",gradient:"from-orange-400 to-amber-600"}];return a.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-100 via-white to-yellow-50",children:[a.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-amber-200 rounded-full opacity-20 blur-3xl transform translate-x-1/2 -translate-y-1/2"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-yellow-200 rounded-full opacity-20 blur-3xl transform -translate-x-1/2 translate-y-1/2"})]}),a.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-8",children:[a.jsxs(te.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-12",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-amber-400 to-yellow-500 rounded-3xl rotate-6 absolute inset-0 opacity-30"}),a.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-amber-400 to-yellow-500 rounded-3xl flex items-center justify-center relative shadow-2xl",children:a.jsx(rt,{className:"w-16 h-16 text-white"})})]})}),a.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-gray-800 mb-4",children:["Mohammed ",a.jsx("span",{className:"text-amber-500",children:"5"})," School Bus"]}),a.jsx("p",{className:"text-xl md:text-2xl text-amber-600 font-medium italic",children:"Votre service est notre priorit"}),a.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6",children:[a.jsx(fr,{className:"w-6 h-6 text-amber-500"}),a.jsx("span",{className:"text-gray-600",children:"Transport Scolaire Scuris"})]})]}),a.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},className:"w-full mb-16 -mx-4 md:-mx-8 rounded-2xl overflow-hidden shadow-2xl",children:a.jsx("div",{className:"relative w-full",style:{height:"70vh",minHeight:"500px"},children:a.jsx("img",{src:"/bus-main.jpg",alt:"Mohammed 5 School Bus",className:"w-full h-full object-cover"})})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:e.map((t,r)=>a.jsx(te.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3+r*.1},children:a.jsx(eo,{to:ke(t.link),children:a.jsxs("div",{className:"group relative bg-white rounded-3xl p-8 shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 overflow-hidden",children:[a.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${t.gradient} opacity-0 group-hover:opacity-100 transition-opacity duration-500`}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${t.gradient} rounded-2xl flex items-center justify-center mb-6 group-hover:bg-white/20 transition-colors shadow-lg`,children:a.jsx(t.icon,{className:"w-8 h-8 text-white group-hover:text-white"})}),a.jsx("h3",{className:"text-xl font-bold text-gray-800 group-hover:text-white mb-2 transition-colors",children:t.title}),a.jsx("p",{className:"text-gray-500 group-hover:text-white/90 text-sm transition-colors",children:t.description}),a.jsxs("div",{className:"mt-6 flex items-center text-amber-500 group-hover:text-white font-medium transition-colors",children:[a.jsx("span",{children:"Accder"}),a.jsx("svg",{className:"w-4 h-4 ml-2 transform group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})})},t.title))}),a.jsx(te.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},className:"mt-20 mb-16",id:"contact",children:a.jsx("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 min-h-[500px]",children:[a.jsxs("div",{className:"bg-gradient-to-br from-amber-700 to-orange-700 p-8 md:p-12 flex flex-col justify-center text-white",children:[a.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Contactez-nous"}),a.jsx("p",{className:"text-amber-100 text-lg mb-8",children:"Notre quipe est disponible pour rpondre  toutes vos questions concernant le service de transport scolaire."}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:a.jsx(bs,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-amber-100 text-sm",children:"Tlphone"}),a.jsx("p",{className:"text-white font-semibold",children:"+212 714390289"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:a.jsx(bs,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-amber-100 text-sm",children:"Tlphone"}),a.jsx("p",{className:"text-white font-semibold",children:"+212 669-266176"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:a.jsx(Io,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-amber-100 text-sm",children:"Email"}),a.jsx("p",{className:"text-white font-semibold",children:"mohammed5@gmail.com"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:a.jsx(Ot,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-amber-100 text-sm",children:"Adresse"}),a.jsx("p",{className:"text-white font-semibold",children:"Rabat, Maroc"})]})]})]})]}),a.jsxs("div",{className:"bg-white p-8 md:p-12 flex flex-col justify-center",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Envoyez-nous un message"}),a.jsx(JI,{})]})]})})}),a.jsxs(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:1},className:"text-center mt-8 text-gray-500",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[a.jsx(rt,{className:"w-5 h-5 text-amber-500"}),a.jsx("span",{className:"font-semibold",children:"Mohammed 5 School Bus"})]}),a.jsx("p",{children:" 2024 Mohammed 5 School Bus. Tous droits rservs."})]})]})]})}function rh({title:e,icon:t,onLogin:r,onRegister:n,showRegister:i=!1,loginFields:s=[{name:"email",label:"Email ou Tlphone",type:"text",placeholder:"Entrez votre email ou tlphone"},{name:"password",label:"Mot de passe",type:"password",placeholder:"Entrez votre mot de passe"}],loading:o=!1,error:l=""}){const[c,u]=_.useState({}),[f,d]=_.useState(!1),m=nt(),p=g=>{g.preventDefault(),r(c)},v=(g,w)=>{u(x=>({...x,[g]:w}))};return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-amber-50 via-white to-yellow-50",children:a.jsx(te.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.5},className:"w-full max-w-md",children:a.jsxs("div",{className:"relative bg-white rounded-3xl shadow-2xl p-8 border border-amber-100",children:[a.jsx("button",{type:"button",onClick:()=>m("/"),className:"absolute top-6 left-6 p-2 text-gray-400 hover:text-amber-600 hover:bg-amber-50 rounded-full transition-all duration-200",title:"Retour",children:a.jsx(Kt,{className:"w-6 h-6"})}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-amber-400 to-yellow-500 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:a.jsx(t,{className:"w-10 h-10 text-white"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:e}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Connectez-vous pour accder"})]}),l&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm text-center",children:l}),a.jsxs("form",{onSubmit:p,className:"space-y-5",children:[s.map(g=>a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:g.label}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx(ue,{type:g.type==="password"&&f?"text":g.type,placeholder:g.placeholder,value:c[g.name]||"",onChange:w=>v(g.name,w.target.value),className:"h-12 rounded-xl border-gray-200 focus:border-amber-400 focus:ring-amber-400",required:!0}),g.type==="password"&&a.jsx("button",{type:"button",onClick:()=>d(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:f?a.jsx(yf,{className:"w-5 h-5"}):a.jsx(ia,{className:"w-5 h-5"})})]})]},g.name)),a.jsx(ne,{type:"submit",disabled:o,className:"w-full h-12 bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-600 hover:to-yellow-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:o?a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(k4,{className:"w-5 h-5 mr-2"}),"Se connecter"]})})]}),i&&a.jsxs("div",{className:"mt-6 text-center",children:[a.jsx("p",{className:"text-gray-500",children:"Pas encore de compte ?"}),a.jsxs(ne,{variant:"ghost",onClick:n,className:"mt-2 text-amber-600 hover:text-amber-700 hover:bg-amber-50",children:[a.jsx(Gm,{className:"w-4 h-4 mr-2"}),"Crer un compte"]})]})]})})})}function ZI(){const e=nt(),[t,r]=_.useState(!1),[n,i]=_.useState(""),s=async o=>{r(!0),i("");try{const l=await na.login(o.email,o.password,"chauffeur");l.success?(localStorage.setItem("chauffeur_session",JSON.stringify(l.user)),na.saveUser(l.user),e(ke("ChauffeurDashboard"))):i(l.message||"Email ou mot de passe incorrect.")}catch(l){console.error("Erreur de connexion:",l),l.response&&l.response.status,i("Email ou mot de passe incorrect.")}finally{r(!1)}};return a.jsx(rh,{title:"Espace Chauffeur",icon:rt,onLogin:s,showRegister:!1,loading:t,error:n})}const Te=({children:e,value:t,onValueChange:r,...n})=>{const[i,s]=_.useState(!1),o=_.useRef(null);_.useEffect(()=>{const c=u=>{o.current&&!o.current.contains(u.target)&&s(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);let l=[];return I.Children.forEach(e,c=>{c&&c.type===Pe&&I.Children.toArray(c.props.children).forEach(f=>{f&&f.type===U&&l.push(f)})}),a.jsx("div",{ref:o,className:"relative",...n,children:I.Children.map(e,c=>c.type===Ee?I.cloneElement(c,{isOpen:i,onClick:()=>s(!i),value:t,selectItems:l}):c.type===Pe?I.cloneElement(c,{isOpen:i,onSelect:u=>{r(u),s(!1)},value:t}):c)})},Ee=({className:e="",children:t,isOpen:r,onClick:n,value:i,selectItems:s=[],...o})=>a.jsxs("button",{type:"button",onClick:n,className:`flex w-full items-center justify-between rounded-xl border border-gray-200 bg-white px-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all ${e}`,...o,children:[I.Children.map(t,l=>l.type===Ce?I.cloneElement(l,{value:i,selectItems:s}):l),a.jsx(C4,{className:`w-4 h-4 text-gray-500 transition-transform ${r?"rotate-180":""}`})]}),Ce=({placeholder:e,children:t,value:r,selectItems:n=[]})=>{if(t)return a.jsx("span",{className:"text-gray-900",children:t});if(r&&n.length>0){const i=n.find(s=>s.props.value===r);if(i)return a.jsx("span",{className:"text-gray-900",children:i.props.children})}return a.jsx("span",{className:"text-gray-500",children:e})},Pe=({children:e,isOpen:t,onSelect:r,value:n,className:i=""})=>t?a.jsx("div",{className:`absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-xl shadow-lg overflow-hidden animate-fadeIn ${i}`,children:a.jsx("div",{className:"max-h-60 overflow-y-auto",children:I.Children.map(e,s=>I.cloneElement(s,{onSelect:r,selectedValue:n}))})}):null,U=({value:e,children:t,onSelect:r,selectedValue:n,className:i=""})=>{const s=e===n;return a.jsxs("button",{type:"button",onClick:()=>r(e),className:`w-full flex items-center justify-between px-4 py-2.5 text-sm text-left hover:bg-amber-50 transition-colors ${s?"bg-amber-50 text-amber-700 font-medium":"text-gray-700"} ${i}`,children:[t,s&&a.jsx(vi,{className:"w-4 h-4 text-amber-600"})]})};function QI({notifications:e=[],onMarkAsRead:t,onDelete:r,onClose:n,isOpen:i}){const[s,o]=_.useState("all"),l=e.filter(m=>s==="unread"?!m.lue:s==="read"?m.lue===!0:!0),c=e.filter(m=>!m.lue).length,u=m=>{if(!m)return"";const p=new Date(m),g=new Date-p,w=Math.floor(g/6e4),x=Math.floor(g/36e5),y=Math.floor(g/864e5);return w<1?" l'instant":w<60?`Il y a ${w} min`:x<24?`Il y a ${x}h`:y<7?`Il y a ${y}j`:p.toLocaleDateString("fr-FR",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})},f=m=>{const p=(m==null?void 0:m.toLowerCase())||"";return p.includes("urgent")||p.includes("alerte")?a.jsx(tt,{className:"w-5 h-5 text-red-500"}):p.includes("attention")||p.includes("avertissement")?a.jsx(tt,{className:"w-5 h-5 text-green-500"}):a.jsx(tv,{className:"w-5 h-5 text-green-500"})},d=m=>{const p=(m==null?void 0:m.toLowerCase())||"";return p.includes("urgent")||p.includes("alerte")?"border-l-red-500 bg-red-50":(p.includes("attention")||p.includes("avertissement"),"border-l-green-500 bg-green-50")};return i?a.jsx(en,{children:a.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:n,children:a.jsxs(te.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},onClick:m=>m.stopPropagation(),className:"bg-white rounded-3xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(aa,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Notifications"}),a.jsxs("p",{className:"text-white/80 text-sm",children:[c," non lue(s)"]})]})]}),a.jsx("button",{onClick:n,className:"w-10 h-10 bg-white/20 hover:bg-white/30 rounded-xl flex items-center justify-center transition-colors",children:a.jsx(Ke,{className:"w-5 h-5 text-white"})})]}),a.jsx("div",{className:"flex gap-2",children:["all","unread","read"].map(m=>a.jsxs("button",{onClick:()=>o(m),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all ${s===m?"bg-white text-green-600 shadow-lg":"bg-white/20 text-white hover:bg-white/30"}`,children:[m==="all"?"Toutes":m==="unread"?"Non lues":"Lues",m==="unread"&&c>0&&a.jsx("span",{className:"ml-2 px-2 py-0.5 bg-red-500 text-white rounded-full text-xs",children:c})]},m))})]}),a.jsx("div",{className:"overflow-y-auto max-h-[calc(80vh-200px)] p-6 space-y-3",children:a.jsx(en,{children:l.length===0?a.jsxs(te.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12 text-gray-400",children:[a.jsx(aa,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"Aucune notification"})]}):l.map((m,p)=>a.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:p*.05},className:`relative border-l-4 rounded-xl p-4 transition-all ${d(m.titre)} ${m.lue?"opacity-75":"shadow-md"}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:f(m.titre)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx("h4",{className:"font-semibold text-gray-800 text-sm",children:m.titre}),!m.lue&&a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full flex-shrink-0 mt-1"})]}),a.jsx("p",{className:"text-gray-600 text-sm mt-1 leading-relaxed",children:m.message}),a.jsxs("div",{className:"flex items-center justify-between mt-3",children:[a.jsx("p",{className:"text-xs text-gray-400",children:u(m.date||m.date_creation)}),a.jsxs("div",{className:"flex gap-2",children:[!m.lue&&a.jsxs("button",{onClick:()=>t&&t(m.id),className:"text-xs text-green-600 hover:text-green-700 font-medium flex items-center gap-1",children:[a.jsx(it,{className:"w-3 h-3"}),"Marquer comme lue"]}),r&&a.jsxs("button",{onClick:()=>r(m.id),className:"text-xs text-red-600 hover:text-red-700 font-medium flex items-center gap-1",children:[a.jsx(Wr,{className:"w-3 h-3"}),"Supprimer"]})]})]})]})]})},m.id))})}),l.length>0&&a.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-100 flex justify-between items-center",children:[a.jsxs("p",{className:"text-sm text-gray-500",children:[l.length," notification(s)"]}),c>0&&t&&a.jsxs(ne,{variant:"ghost",size:"sm",onClick:()=>{l.filter(m=>!m.lue).forEach(m=>t(m.id))},className:"text-green-600 hover:text-green-700",children:[a.jsx(it,{className:"w-4 h-4 mr-2"}),"Tout marquer comme lu"]})]})]})})}):null}function xn({title:e,value:t,icon:r,color:n="amber",trend:i,subtitle:s}){const o={amber:"from-amber-400 to-yellow-500",lime:"from-lime-400 to-lime-500",green:"from-green-400 to-emerald-500",blue:"from-blue-400 to-cyan-500",red:"from-red-400 to-rose-500",purple:"from-purple-400 to-violet-500",orange:"from-orange-400 to-amber-500"};return a.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5,transition:{duration:.2}},className:"bg-white rounded-3xl p-6 shadow-lg hover:shadow-xl transition-shadow duration-300",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 text-sm font-medium mb-1",children:e}),a.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:t}),s&&a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:s}),i&&a.jsxs("div",{className:`flex items-center gap-1 mt-2 text-sm ${i>0?"text-green-500":"text-red-500"}`,children:[a.jsx("span",{children:i>0?"":""}),a.jsxs("span",{children:[Math.abs(i),"%"]})]})]}),a.jsx("div",{className:`w-14 h-14 rounded-2xl bg-gradient-to-br ${o[n]} flex items-center justify-center shadow-lg`,children:a.jsx(r,{className:"w-7 h-7 text-white"})})]})})}function lr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function sa(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function QO(e,t){const r=lr(e);return isNaN(t)?sa(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function eE(e,t){const r=lr(e);if(isNaN(t))return sa(e,NaN);if(!t)return r;const n=r.getDate(),i=sa(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const s=i.getDate();return n>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const tE=6048e5,eL=864e5;let tL={};function nh(){return tL}function Hc(e,t){var l,c,u,f;const r=nh(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=lr(e),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Pf(e){return Hc(e,{weekStartsOn:1})}function rE(e){const t=lr(e),r=t.getFullYear(),n=sa(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Pf(n),s=sa(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=Pf(s);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function i1(e){const t=lr(e);return t.setHours(0,0,0,0),t}function s1(e){const t=lr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function rL(e,t){const r=i1(e),n=i1(t),i=+r-s1(r),s=+n-s1(n);return Math.round((i-s)/eL)}function nL(e){const t=rE(e),r=sa(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Pf(r)}function aL(e,t){const r=t*7;return QO(e,r)}function iL(e,t){return eE(e,t*12)}function sL(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function oL(e){if(!sL(e)&&typeof e!="number")return!1;const t=lr(e);return!isNaN(Number(t))}function lL(e){const t=lr(e);return t.setHours(23,59,59,999),t}function Ud(e){const t=lr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function cL(e){const t=lr(e),r=sa(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const uL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dL=(e,t,r)=>{let n;const i=uL[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function jo(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const fL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},hL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pL={date:jo({formats:fL,defaultWidth:"full"}),time:jo({formats:mL,defaultWidth:"full"}),dateTime:jo({formats:hL,defaultWidth:"full"})},gL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xL=(e,t,r,n)=>gL[e];function qn(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const yL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},NL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},SL=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},_L={ordinalNumber:SL,era:qn({values:yL,defaultWidth:"wide"}),quarter:qn({values:vL,defaultWidth:"wide",argumentCallback:e=>e-1}),month:qn({values:bL,defaultWidth:"wide"}),day:qn({values:jL,defaultWidth:"wide"}),dayPeriod:qn({values:wL,defaultWidth:"wide",formattingValues:NL,defaultFormattingWidth:"wide"})};function Gn(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const o=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?PL(l,d=>d.test(o)):AL(l,d=>d.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const f=t.slice(o.length);return{value:u,rest:f}}}function AL(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function PL(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function nE(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const OL=/^(\d+)(th|st|nd|rd)?/i,EL=/\d+/i,CL={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},TL={any:[/^b/i,/^(a|c)/i]},kL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ML={any:[/1/i,/2/i,/3/i,/4/i]},$L={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},DL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},IL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},LL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},RL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},BL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},FL={ordinalNumber:nE({matchPattern:OL,parsePattern:EL,valueCallback:e=>parseInt(e,10)}),era:Gn({matchPatterns:CL,defaultMatchWidth:"wide",parsePatterns:TL,defaultParseWidth:"any"}),quarter:Gn({matchPatterns:kL,defaultMatchWidth:"wide",parsePatterns:ML,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Gn({matchPatterns:$L,defaultMatchWidth:"wide",parsePatterns:DL,defaultParseWidth:"any"}),day:Gn({matchPatterns:IL,defaultMatchWidth:"wide",parsePatterns:LL,defaultParseWidth:"any"}),dayPeriod:Gn({matchPatterns:RL,defaultMatchWidth:"any",parsePatterns:BL,defaultParseWidth:"any"})},zL={code:"en-US",formatDistance:dL,formatLong:pL,formatRelative:xL,localize:_L,match:FL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function VL(e){const t=lr(e);return rL(t,cL(t))+1}function UL(e){const t=lr(e),r=+Pf(t)-+nL(t);return Math.round(r/tE)+1}function aE(e,t){var f,d,m,p;const r=lr(e),n=r.getFullYear(),i=nh(),s=(t==null?void 0:t.firstWeekContainsDate)??((d=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(m=i.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=sa(e,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=Hc(o,t),c=sa(e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=Hc(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function WL(e,t){var l,c,u,f;const r=nh(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,i=aE(e,t),s=sa(e,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Hc(s,t)}function HL(e,t){const r=lr(e),n=+Hc(r,t)-+WL(r,t);return Math.round(n/tE)+1}function ct(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Ya={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ct(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ct(r+1,2)},d(e,t){return ct(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ct(e.getHours()%12||12,t.length)},H(e,t){return ct(e.getHours(),t.length)},m(e,t){return ct(e.getMinutes(),t.length)},s(e,t){return ct(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return ct(i,t.length)}},Rs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},o1={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Ya.y(e,t)},Y:function(e,t,r,n){const i=aE(e,n),s=i>0?i:1-i;if(t==="YY"){const o=s%100;return ct(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):ct(s,t.length)},R:function(e,t){const r=rE(e);return ct(r,t.length)},u:function(e,t){const r=e.getFullYear();return ct(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ct(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ct(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Ya.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ct(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=HL(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):ct(i,t.length)},I:function(e,t,r){const n=UL(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ct(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ya.d(e,t)},D:function(e,t,r){const n=VL(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ct(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return ct(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return ct(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return ct(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=Rs.noon:n===0?i=Rs.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=Rs.evening:n>=12?i=Rs.afternoon:n>=4?i=Rs.morning:i=Rs.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ya.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ya.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ct(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ct(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ya.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ya.s(e,t)},S:function(e,t){return Ya.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return c1(n);case"XXXX":case"XX":return Gi(n);case"XXXXX":case"XXX":default:return Gi(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return c1(n);case"xxxx":case"xx":return Gi(n);case"xxxxx":case"xxx":default:return Gi(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+l1(n,":");case"OOOO":default:return"GMT"+Gi(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+l1(n,":");case"zzzz":default:return"GMT"+Gi(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return ct(n,t.length)},T:function(e,t,r){const n=e.getTime();return ct(n,t.length)}};function l1(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+t+ct(s,2)}function c1(e,t){return e%60===0?(e>0?"-":"+")+ct(Math.abs(e)/60,2):Gi(e,t)}function Gi(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=ct(Math.trunc(n/60),2),s=ct(n%60,2);return r+i+t+s}const u1=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},iE=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},qL=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return u1(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",u1(n,t)).replace("{{time}}",iE(i,t))},GL={p:iE,P:qL},KL=/^D+$/,YL=/^Y+$/,XL=["D","DD","YY","YYYY"];function JL(e){return KL.test(e)}function ZL(e){return YL.test(e)}function QL(e,t,r){const n=eR(e,t,r);if(console.warn(n),XL.includes(e))throw new RangeError(n)}function eR(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const tR=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rR=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nR=/^'([^]*?)'?$/,aR=/''/g,iR=/[a-zA-Z]/;function Oe(e,t,r){var f,d,m,p,v,g,w,x;const n=nh(),i=(r==null?void 0:r.locale)??n.locale??zL,s=(r==null?void 0:r.firstWeekContainsDate)??((d=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((x=(w=n.locale)==null?void 0:w.options)==null?void 0:x.weekStartsOn)??0,l=lr(e);if(!oL(l))throw new RangeError("Invalid time value");let c=t.match(rR).map(y=>{const h=y[0];if(h==="p"||h==="P"){const N=GL[h];return N(y,i.formatLong)}return y}).join("").match(tR).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const h=y[0];if(h==="'")return{isToken:!1,value:sR(y)};if(o1[h])return{isToken:!0,value:y};if(h.match(iR))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(y=>{if(!y.isToken)return y.value;const h=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&ZL(h)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&JL(h))&&QL(h,t,String(e));const N=o1[h[0]];return N(l,h,i.localize,u)}).join("")}function sR(e){const t=e.match(nR);return t?t[1].replace(aR,"'"):e}function oR(e,t){const r=+lr(e),[n,i]=[+lr(t.start),+lr(t.end)].sort((s,o)=>s-o);return r>=n&&r<=i}function Of(e,t){return QO(e,-t)}function wo(e,t){return eE(e,-t)}function lR(e,t){return aL(e,-1)}function cR(e,t){return iL(e,-1)}const uR={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},dR=(e,t,r)=>{let n;const i=uR[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},fR={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},mR={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},hR={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pR={date:jo({formats:fR,defaultWidth:"full"}),time:jo({formats:mR,defaultWidth:"full"}),dateTime:jo({formats:hR,defaultWidth:"full"})},gR={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},xR=(e,t,r,n)=>gR[e],yR={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},vR={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},bR={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},jR={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},wR={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},NR=(e,t)=>{const r=Number(e),n=t==null?void 0:t.unit;if(r===0)return"0";const i=["year","week","hour","minute","second"];let s;return r===1?s=n&&i.includes(n)?"re":"er":s="me",r+s},SR=["MMM","MMMM"],_R={preprocessor:(e,t)=>e.getDate()===1||!t.some(n=>n.isToken&&SR.includes(n.value))?t:t.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:NR,era:qn({values:yR,defaultWidth:"wide"}),quarter:qn({values:vR,defaultWidth:"wide",argumentCallback:e=>e-1}),month:qn({values:bR,defaultWidth:"wide"}),day:qn({values:jR,defaultWidth:"wide"}),dayPeriod:qn({values:wR,defaultWidth:"wide"})},AR=/^(\d+)(ime|re|me|er|e)?/i,PR=/\d+/i,OR={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},ER={any:[/^av/i,/^ap/i]},CR={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},TR={any:[/1/i,/2/i,/3/i,/4/i]},kR={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},MR={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},$R={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},DR={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},IR={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},LR={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},RR={ordinalNumber:nE({matchPattern:AR,parsePattern:PR,valueCallback:e=>parseInt(e)}),era:Gn({matchPatterns:OR,defaultMatchWidth:"wide",parsePatterns:ER,defaultParseWidth:"any"}),quarter:Gn({matchPatterns:CR,defaultMatchWidth:"wide",parsePatterns:TR,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Gn({matchPatterns:kR,defaultMatchWidth:"wide",parsePatterns:MR,defaultParseWidth:"any"}),day:Gn({matchPatterns:$R,defaultMatchWidth:"wide",parsePatterns:DR,defaultParseWidth:"any"}),dayPeriod:Gn({matchPatterns:IR,defaultMatchWidth:"any",parsePatterns:LR,defaultParseWidth:"any"})},kr={code:"fr",formatDistance:dR,formatLong:pR,formatRelative:xR,localize:_R,match:RR,options:{weekStartsOn:1,firstWeekContainsDate:4}};function BR({chauffeur:e,notifications:t=[],onLogout:r}){var m,p;const n=nt(),i=Bn(),[s,o]=_.useState(!1),[l,c]=_.useState(!1);_.useEffect(()=>{const v=()=>{window.innerWidth>=1024&&c(!1)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]);const u=[{title:"Dashboard",icon:CP,link:"ChauffeurDashboard",path:"/ChauffeurDashboard"}],f=v=>{v.path?n(v.path):n(ke(v.link)),c(!1)},d=v=>i.pathname===v||i.pathname.startsWith(v+"/");return t.filter(v=>!v.lue).length,a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>c(!l),className:"lg:hidden fixed top-4 left-4 z-50 p-2 bg-blue-500 text-white rounded-xl shadow-lg hover:bg-blue-600 transition-colors",children:l?a.jsx(Ke,{className:"w-6 h-6"}):a.jsx(Lo,{className:"w-6 h-6"})}),a.jsx(en,{children:l&&a.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>c(!1),className:"lg:hidden fixed inset-0 bg-black/50 z-40"})}),a.jsxs(te.aside,{initial:!1,animate:{width:s?"80px":"280px",x:l?0:typeof window<"u"&&window.innerWidth<1024?"-100%":0},transition:{duration:.3,ease:"easeInOut"},className:`
          fixed left-0 top-0 h-full bg-gradient-to-b from-blue-50 to-white
          border-r-2 border-blue-200 shadow-2xl z-40
          flex flex-col
          ${s?"items-center":""}
        `,children:[a.jsx("div",{className:"p-4 border-b border-blue-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[!s&&a.jsxs(te.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:a.jsx(rt,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-bold text-gray-800 text-sm",children:"Espace Chauffeur"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Transport Scolaire"})]})]}),s&&a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg mx-auto",children:a.jsx(rt,{className:"w-6 h-6 text-white"})}),a.jsx("button",{onClick:()=>o(!s),className:"hidden lg:block p-2 hover:bg-blue-100 rounded-lg transition-colors text-gray-600 hover:text-blue-600",children:s?a.jsx(Lo,{className:"w-5 h-5"}):a.jsx(Ke,{className:"w-5 h-5"})})]})}),!s&&e&&a.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 border-b border-blue-200",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold",children:((m=e.prenom)==null?void 0:m[0])||((p=e.nom)==null?void 0:p[0])||"C"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"font-semibold text-gray-800 text-sm truncate",children:[e.prenom," ",e.nom]}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.email})]})]})}),a.jsx("nav",{className:"flex-1 overflow-y-auto py-4 px-2",children:a.jsx("div",{className:"space-y-1",children:u.map((v,g)=>{const w=d(v.path),x=v.icon;return a.jsxs(te.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.05},onClick:()=>f(v),className:`
                    w-full flex items-center gap-3 px-4 py-3 rounded-xl
                    transition-all duration-200
                    ${w?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg":"text-gray-700 hover:bg-blue-100 hover:text-blue-700"}
                    ${s?"justify-center":""}
                  `,title:s?v.title:"",children:[a.jsx("div",{className:"relative",children:a.jsx(x,{className:`w-5 h-5 ${w?"text-white":"text-gray-600"}`})}),!s&&a.jsx("span",{className:"font-medium text-sm flex-1 text-left",children:v.title})]},v.link)})})}),a.jsx("div",{className:"p-4 border-t border-blue-200 space-y-2",children:a.jsxs(te.button,{onClick:r,className:`
              w-full flex items-center gap-3 px-4 py-3 rounded-xl
              text-red-600 hover:bg-red-50 transition-all
              ${s?"justify-center":""}
            `,title:s?"Dconnexion":"",children:[a.jsx(cs,{className:"w-5 h-5"}),!s&&a.jsx("span",{className:"font-medium text-sm",children:"Dconnexion"})]})})]}),a.jsx("div",{className:`
          hidden lg:block transition-all duration-300
          ${s?"ml-[80px]":"ml-[280px]"}
        `})]})}function FR({children:e,title:t="Espace Chauffeur"}){const r=nt();Bn();const[n,i]=_.useState(null),[s,o]=_.useState([]),[l,c]=_.useState(!0);_.useEffect(()=>{const d=localStorage.getItem("chauffeur_session");if(!d){r(ke("ChauffeurLogin"));return}const m=JSON.parse(d);i(m),u(m.id),c(!1)},[r]),_.useEffect(()=>{if(!n)return;const d=async()=>{await u(n.id)};d();const m=setInterval(d,3e4);return()=>clearInterval(m)},[n]);const u=async d=>{try{const m=await ut.getByUser(d,"chauffeur"),p=(m==null?void 0:m.data)||m||[];o(p.sort((v,g)=>new Date(g.date||g.date_creation||0)-new Date(v.date||v.date_creation||0)))}catch(m){console.warn("Erreur lors du chargement des notifications:",m),o([])}},f=()=>{localStorage.removeItem("chauffeur_session"),localStorage.removeItem("token"),localStorage.removeItem("user"),r(ke("Home"))};return l?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50",children:[a.jsx(BR,{chauffeur:n,notifications:s,onLogout:f}),a.jsx("main",{className:"lg:ml-[280px] min-h-screen p-4 md:p-8",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})}function zR(){const e=nt(),[t,r]=_.useState(null),[n,i]=_.useState(null),[s,o]=_.useState(null),[l,c]=_.useState(null),[u,f]=_.useState([]),[d,m]=_.useState([]),[p,v]=_.useState([]),[g,w]=_.useState([]),[x,y]=_.useState(!0),[h,N]=_.useState("bus"),[j,b]=_.useState(Oe(new Date,"yyyy-MM-dd")),[S,P]=_.useState(!1),[A,E]=_.useState(""),[O,C]=_.useState("tous"),[T,R]=_.useState({date:Oe(new Date,"yyyy-MM-dd"),heure:Oe(new Date,"HH:mm"),lieu:"",description:"",degats:"",gravite:"Lgre",nombre_eleves:"",nombre_blesses:"0"}),[z,G]=_.useState([]),[X,F]=_.useState(!1),[Y,J]=_.useState(!1),[k,K]=_.useState(!1),[oe,B]=_.useState(!1),[M,re]=_.useState([]),[we,be]=_.useState("all"),[$,ae]=_.useState(""),[fe,q]=_.useState([]),[ye,Ne]=_.useState([]),[V,me]=_.useState("all"),[Se,We]=_.useState("all"),[Ie,H]=_.useState([]),[ve,De]=_.useState(null),[$e,Qe]=_.useState(null),[je,Ct]=_.useState("success"),qe=(L,ie="success")=>{Qe(L),Ct(ie),setTimeout(()=>{Qe(null)},4e3)},[Le,pt]=_.useState({date:Oe(new Date,"yyyy-MM-dd"),heure:Oe(new Date,"HH:mm"),quantite_litres:"",prix_total:"",station_service:""}),[et,pr]=_.useState({date:Oe(new Date,"yyyy-MM-dd"),periode:"matin",heure_depart_reelle:"",heure_arrivee_reelle:"",nombre_eleves:u.length,kilometres_parcourus:"",problemes:"",observations:""}),[da,Ga]=_.useState({date:Oe(new Date,"yyyy-MM-dd"),periode:"matin",essence_verifiee:!1,pneus_ok:!1,portes_ok:!1,eclairage_ok:!1,nettoyage_fait:!1,trousse_secours:!1,autres_verifications:""}),[rr,on]=_.useState({type_probleme:"mecanique",description:"",urgence:"moyenne"}),W=(L,ie=1200,le=1200,Z=.7)=>new Promise(ce=>{const ee=new FileReader;ee.onload=D=>{const de=new Image;de.onload=()=>{const Re=document.createElement("canvas");let ze=de.width,Ge=de.height;ze>Ge?ze>ie&&(Ge=Ge*ie/ze,ze=ie):Ge>le&&(ze=ze*le/Ge,Ge=le),Re.width=ze,Re.height=Ge,Re.getContext("2d").drawImage(de,0,0,ze,Ge);const Ye=Re.toDataURL("image/jpeg",Z);ce({data:Ye,name:L.name,type:"image/jpeg"})},de.src=D.target.result},ee.readAsDataURL(L)});_.useEffect(()=>{const L=localStorage.getItem("chauffeur_session");if(!L){e(ke("ChauffeurLogin"));return}const ie=JSON.parse(L);r(ie),ge(ie)},[e]);const ge=async L=>{try{let ie=L;if(L.type_id)try{const D=await $n.getById(L.type_id);ie=(D==null?void 0:D.data)||D||L,r(ie)}catch(D){console.warn("Erreur chargement donnes chauffeur:",D)}const le=await Sr.getAll(),Z=(le==null?void 0:le.data)||le||[],ce=L.type_id||L.id,ee=Z.find(D=>D.chauffeur_id===ce);if(ee){if(i(ee),ee.trajet_id)try{const D=await Kn.getById(ee.trajet_id),de=(D==null?void 0:D.data)||D;o(de)}catch(D){console.error("Erreur chargement trajet:",D)}if(ee.responsable_id)try{const D=await li.getById(ee.responsable_id),de=(D==null?void 0:D.data)||D;c(de)}catch(D){console.error("Erreur chargement responsable:",D)}try{const D=await kt.getByBus(ee.id),de=(D==null?void 0:D.data)||D||[];f(de)}catch(D){console.error("Erreur chargement lves:",D)}}try{const D=await Ia.getByChauffeur(ce);v((D==null?void 0:D.data)||D||[])}catch(D){console.error("Erreur chargement accidents:",D)}try{const D=await Wn.getByDate(j);m((D==null?void 0:D.data)||D||[])}catch(D){console.error("Erreur chargement prsences:",D)}try{const D=await ut.getByUser(ce,"chauffeur"),de=(D==null?void 0:D.data)||D||[];w(de.sort((Re,ze)=>new Date(ze.date||0)-new Date(Re.date||0)))}catch(D){console.error("Erreur chargement notifications:",D)}try{const D=await vo.getByChauffeur(ce),de=(D==null?void 0:D.data)||D||[];re(de)}catch(D){console.error("Erreur chargement essence:",D)}try{const D=await ev.getByChauffeur(ce),de=(D==null?void 0:D.data)||D||[];q(de)}catch(D){console.error("Erreur chargement rapports:",D)}try{const D=await Sa.getByChauffeur(ce),de=(D==null?void 0:D.data)||D||[];console.log("Signalements chargs:",de),de.forEach((Re,ze)=>{Re.photos&&console.log(`Signalement ${ze} a des photos:`,typeof Re.photos,Array.isArray(Re.photos)?Re.photos.length:"non-array")}),Ne(de)}catch(D){console.error("Erreur chargement signalements:",D)}}catch(ie){console.error("Erreur gnrale:",ie)}y(!1)};return _.useEffect(()=>{!x&&t&&Wn.getByDate(j).then(L=>m(L)).catch(L=>console.error("Erreur chargement prsences:",L))},[j]),x?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"w-12 h-12 border-4 border-green-500 border-t-transparent rounded-full animate-spin"})}):a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
        .chauffeur-dashboard [role="option"]:hover,
        .chauffeur-dashboard [role="option"][data-highlighted],
        .chauffeur-dashboard [role="option"][data-state="checked"] {
          background-color: rgb(220 252 231) !important;
          color: rgb(22 101 52) !important;
        }
        .chauffeur-dashboard [role="option"][data-state="checked"] {
          background-color: rgb(220 252 231) !important;
          color: rgb(22 101 52) !important;
        }
      `}),a.jsxs("div",{className:"chauffeur-dashboard",children:[(t==null?void 0:t.nombre_accidents)>=3&&a.jsxs(te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-center gap-3 text-red-700",children:[a.jsx(tt,{className:"w-6 h-6 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:"Attention : Vous avez atteint 3 accidents"}),a.jsx("p",{className:"text-sm",children:"Selon le rglement, cela entrane un licenciement et une amende de 1000 DH"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(xn,{title:"Mon Bus",value:(n==null?void 0:n.numero)||"-",icon:rt,color:"green"}),(()=>{const L=M.filter(ce=>{const ee=new Date(ce.date),D=new Date;return ee.getMonth()===D.getMonth()&&ee.getFullYear()===D.getFullYear()}),ie=L.reduce((ce,ee)=>ce+parseFloat(ee.quantite_litres||0),0),le=L.reduce((ce,ee)=>ce+parseFloat(ee.prix_total||0),0),Z=L.length;return a.jsx(xn,{title:"Essence (ce mois)",value:`${ie.toFixed(1)} L`,subtitle:Z>0?`${Z} prise${Z>1?"s":""}  ${le.toFixed(2)} DH`:"Aucune prise",icon:Yr,color:"green"})})(),a.jsx(xn,{title:"Mes Accidents",value:`${(t==null?void 0:t.nombre_accidents)||0} / 3`,icon:tt,color:(t==null?void 0:t.nombre_accidents)>=2?"red":"green"}),a.jsx(xn,{title:"Mon Salaire",value:`${(t==null?void 0:t.salaire)||0} DH`,icon:Fd,color:"green"})]}),a.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:["bus","essence","signalements","accidents"].map(L=>a.jsxs(ne,{variant:h===L?"default":"outline",onClick:()=>N(L),className:`rounded-xl whitespace-nowrap ${h===L?L==="accidents"?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white":L==="accidents"?"border-red-500 text-red-600 hover:bg-red-50 focus:ring-red-500":"border-green-500 text-green-600 hover:bg-green-50 focus:ring-green-500"}`,children:[L==="bus"&&"Mon Bus & Trajet",L==="essence"&&"Essence",L==="signalements"&&"Problmes",L==="accidents"&&"Mes Accidents"]},L))}),h==="bus"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6",children:[a.jsxs("h2",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(rt,{className:"w-5 h-5 text-green-500"}),"Mon Bus"]}),n?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-green-50 rounded-2xl p-6 text-center",children:[a.jsx("p",{className:"text-5xl font-bold text-green-600",children:n.numero}),a.jsxs("p",{className:"text-gray-500 mt-2",children:[n.marque," ",n.modele]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between py-2 border-b",children:[a.jsx("span",{className:"text-gray-500",children:"Capacit"}),a.jsxs("span",{className:"font-medium",children:[n.capacite," places"]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b",children:[a.jsx("span",{className:"text-gray-500",children:"Places occupes"}),a.jsx("span",{className:"font-medium",children:u.length})]}),a.jsxs("div",{className:"flex justify-between py-2",children:[a.jsx("span",{className:"text-gray-500",children:"Statut"}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n.statut==="Actif"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:n.statut})]})]})]}):a.jsx("p",{className:"text-center text-gray-400 py-8",children:"Aucun bus assign"})]}),a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6",children:[a.jsxs("h2",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(to,{className:"w-5 h-5 text-green-500"}),"Mon Trajet"]}),s?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 rounded-2xl p-4",children:[a.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Trajet"}),a.jsx("p",{className:"text-xl font-bold text-gray-800",children:s.nom})]}),s.zones&&a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-gray-500 mb-2 flex items-center gap-1",children:[a.jsx(Ot,{className:"w-4 h-4"}),"Zones desservies"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:(Array.isArray(s.zones)?s.zones:JSON.parse(s.zones||"[]")).map((L,ie)=>a.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:L},ie))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[a.jsxs("div",{className:"bg-green-50 rounded-xl p-3",children:[a.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Groupe A - Matin"}),a.jsxs("p",{className:"font-semibold text-gray-800",children:[s.heure_depart_matin_a," - ",s.heure_arrivee_matin_a]})]}),a.jsxs("div",{className:"bg-green-50 rounded-xl p-3",children:[a.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Groupe A - Soir"}),a.jsxs("p",{className:"font-semibold text-gray-800",children:[s.heure_depart_soir_a," - ",s.heure_arrivee_soir_a]})]}),a.jsxs("div",{className:"bg-blue-50 rounded-xl p-3",children:[a.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Groupe B - Matin"}),a.jsxs("p",{className:"font-semibold text-gray-800",children:[s.heure_depart_matin_b," - ",s.heure_arrivee_matin_b]})]}),a.jsxs("div",{className:"bg-green-50 rounded-xl p-3",children:[a.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Groupe B - Soir"}),a.jsxs("p",{className:"font-semibold text-gray-800",children:[s.heure_depart_soir_b," - ",s.heure_arrivee_soir_b]})]})]})]}):a.jsx("p",{className:"text-center text-gray-400 py-8",children:"Aucun trajet assign"})]}),a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6 md:col-span-2",children:[a.jsxs("h2",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(xt,{className:"w-5 h-5 text-green-500"}),"Responsable Bus"]}),l?a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center",children:a.jsx(xt,{className:"w-8 h-8 text-gray-400"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:[l.prenom," ",l.nom]}),a.jsx("p",{className:"text-gray-500",children:l.telephone}),a.jsx("p",{className:"text-gray-400 text-sm",children:l.email})]})]}):a.jsx("p",{className:"text-center text-gray-400 py-4",children:"Aucun responsable assign"})]})]}),h==="accidents"&&a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(tt,{className:"w-6 h-6 text-red-500"}),"Historique des Accidents"]}),a.jsxs(ne,{onClick:()=>P(!0),className:"bg-red-500 hover:bg-red-600 text-white rounded-xl",children:[a.jsx(Aa,{className:"w-4 h-4 mr-2"}),"Dclarer un accident"]})]}),p.length===0?a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(it,{className:"w-16 h-16 mx-auto text-green-300 mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Aucun accident enregistr"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Continuez  conduire prudemment !"})]}):a.jsx("div",{className:"divide-y divide-gray-100",children:p.map(L=>{let ie=[];if(L.photos)try{if(Array.isArray(L.photos))ie=L.photos;else if(typeof L.photos=="string"){const Z=JSON.parse(L.photos);Array.isArray(Z)&&(ie=Z)}}catch(Z){console.error("Erreur parsing photos accident:",Z)}const le=ie.filter(Z=>{const ce=typeof Z=="string"?Z:(Z==null?void 0:Z.data)||(Z==null?void 0:Z.src)||Z;return ce&&typeof ce=="string"&&ce.startsWith("data:image")});return a.jsxs("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${L.gravite==="Grave"?"bg-red-100 text-red-700 border border-red-300":L.gravite==="Moyenne"?"bg-orange-100 text-orange-700 border border-orange-300":"bg-green-100 text-green-700 border border-green-300"}`,children:L.gravite}),L.statut&&a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${L.statut==="Valid"?"bg-green-100 text-green-700":L.statut==="En attente"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:L.statut})]}),a.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[a.jsx(Mr,{className:"w-4 h-4"}),Oe(new Date(L.date),"dd MMMM yyyy",{locale:kr}),L.heure&&`  ${L.heure}`]})]}),a.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:L.description}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm mb-3",children:[L.lieu&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ot,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-gray-500",children:"Lieu:"}),a.jsx("span",{className:"ml-1 font-medium text-gray-800",children:L.lieu})]}),L.degats&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bo,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-gray-500",children:"Dgts:"}),a.jsx("span",{className:"ml-1 font-medium text-gray-800",children:L.degats})]}),L.nombre_eleves!==null&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Zt,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-gray-500",children:"lves dans le bus:"}),a.jsx("span",{className:"ml-1 font-medium text-gray-800",children:L.nombre_eleves})]}),L.nombre_blesses>0&&a.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[a.jsx(tt,{className:"w-4 h-4"}),a.jsxs("span",{className:"font-medium",children:["Blesss: ",L.nombre_blesses]})]})]}),le.length>0&&a.jsxs("div",{className:"mt-4 p-3 bg-red-50 rounded-lg border border-red-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(ts,{className:"w-4 h-4 text-red-600"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:["Photos (",le.length,")"]})]}),a.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-2",children:le.map((Z,ce)=>a.jsx(te.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative group cursor-pointer",onClick:()=>De(Z),children:a.jsxs("div",{className:"relative overflow-hidden rounded-lg border-2 border-red-300 group-hover:border-red-500 transition-colors bg-white",children:[a.jsx("img",{src:Z,alt:`Photo accident ${ce+1}`,className:"w-full h-20 object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:a.jsx(zc,{className:"w-4 h-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]})},ce))})]}),L.blesses&&a.jsxs("div",{className:"mt-3 p-3 bg-red-50 rounded-xl text-red-700 text-sm border border-red-200",children:[a.jsx(tt,{className:"w-4 h-4 inline mr-2"}),"Des blesss ont t signals"]})]},L.id)})})]}),h==="essence"&&a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gradient-to-r from-green-50 to-emerald-50",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(Yr,{className:"w-6 h-6 text-green-500"}),"Gestion de l'Essence",a.jsxs("span",{className:"ml-3 text-sm font-normal text-gray-500",children:["(",M.length," prises)"]})]}),a.jsxs(ne,{onClick:()=>F(!0),className:"bg-green-500 hover:bg-green-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all",children:[a.jsx(Aa,{className:"w-4 h-4 mr-2"}),"Nouvelle prise d'essence"]})]}),a.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-4 gap-4 bg-gradient-to-br from-green-50 via-emerald-50 to-green-50",children:[a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-5 shadow-md hover:shadow-lg transition-shadow border-l-4 border-green-500",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Prises ce mois"}),a.jsx(Mr,{className:"w-5 h-5 text-green-500"})]}),a.jsx("p",{className:"text-3xl font-bold text-gray-800",children:M.filter(L=>{const ie=new Date(L.date),le=new Date;return ie.getMonth()===le.getMonth()&&ie.getFullYear()===le.getFullYear()}).length})]}),a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-5 shadow-md hover:shadow-lg transition-shadow border-l-4 border-emerald-500",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Total litres"}),a.jsx(Yr,{className:"w-5 h-5 text-emerald-500"})]}),a.jsxs("p",{className:"text-3xl font-bold text-gray-800",children:[M.reduce((L,ie)=>L+parseFloat(ie.quantite_litres||0),0).toFixed(1)," ",a.jsx("span",{className:"text-lg text-gray-500",children:"L"})]})]}),a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-5 shadow-md hover:shadow-lg transition-shadow border-l-4 border-green-600",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Cot total"}),a.jsx(Fd,{className:"w-5 h-5 text-green-600"})]}),a.jsxs("p",{className:"text-3xl font-bold text-gray-800",children:[M.reduce((L,ie)=>L+parseFloat(ie.prix_total||0),0).toFixed(2)," ",a.jsx("span",{className:"text-lg text-gray-500",children:"DH"})]})]}),a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl p-5 shadow-md hover:shadow-lg transition-shadow border-l-4 border-emerald-600",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Prix moyen/L"}),a.jsx(Fc,{className:"w-5 h-5 text-emerald-600"})]}),a.jsxs("p",{className:"text-3xl font-bold text-gray-800",children:[M.length>0?(M.reduce((L,ie)=>L+parseFloat(ie.prix_total||0),0)/M.reduce((L,ie)=>L+parseFloat(ie.quantite_litres||0),0)).toFixed(2):"0.00"," ",a.jsx("span",{className:"text-lg text-gray-500",children:"DH"})]})]})]}),a.jsxs("div",{className:"p-6",children:[M.length>0&&a.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4 items-center justify-between bg-white p-4 rounded-xl border border-green-100",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-3 w-full md:w-auto",children:[a.jsx(ue,{type:"text",placeholder:"Rechercher par station...",value:$,onChange:L=>ae(L.target.value),className:"rounded-xl border-green-200 focus:ring-green-500 focus:border-green-500"}),a.jsxs(Te,{value:we,onValueChange:be,children:[a.jsx(Ee,{className:"w-full md:w-[200px] rounded-xl border-green-200 focus:ring-green-500 focus:border-green-500",children:a.jsx(Ce,{placeholder:"Filtrer par date"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"all",children:"Toutes les prises"}),a.jsx(U,{value:"thisMonth",children:"Ce mois"}),a.jsx(U,{value:"lastMonth",children:"Mois dernier"}),a.jsx(U,{value:"last3Months",children:"3 derniers mois"})]})]})]}),$||we!=="all"?a.jsxs(ne,{variant:"outline",onClick:()=>{ae(""),be("all")},className:"rounded-xl border-green-200 text-green-600 hover:bg-green-50",children:[a.jsx(Ke,{className:"w-4 h-4 mr-2"}),"Rinitialiser"]}):null]}),(()=>{let L=[...M];if(we!=="all"){const ie=new Date,le=(()=>{switch(we){case"thisMonth":return{start:Ud(ie),end:ie};case"lastMonth":const Z=wo(ie,1);return{start:Ud(Z),end:lL(wo(Ud(ie),1))};case"last3Months":return{start:wo(ie,3),end:ie};default:return null}})();le&&(L=L.filter(Z=>{const ce=new Date(Z.date);return oR(ce,le)}))}return $&&(L=L.filter(ie=>{var le;return(le=ie.station_service)==null?void 0:le.toLowerCase().includes($.toLowerCase())})),L.sort((ie,le)=>new Date(le.date+" "+le.heure)-new Date(ie.date+" "+ie.heure)),L.length===0?a.jsxs(te.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"p-12 text-center",children:[a.jsx(Yr,{className:"w-16 h-16 mx-auto text-green-300 mb-4"}),a.jsx("p",{className:"text-gray-500 font-medium",children:"Aucune prise d'essence trouve"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:$||we!=="all"?"Essayez de modifier vos filtres":"Commencez par enregistrer votre premire prise d'essence"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:[L.length," prise",L.length>1?"s":""," trouve",L.length>1?"s":""]}),a.jsx(en,{children:L.map((ie,le)=>{const Z=parseFloat(ie.prix_total)/parseFloat(ie.quantite_litres),ce=(()=>{const ee=new Date(ie.date),D=new Date;return ee.getMonth()===D.getMonth()&&ee.getFullYear()===D.getFullYear()})();return a.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:le*.05},className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-2xl shadow-md hover:shadow-lg transition-all overflow-hidden",children:a.jsxs("div",{className:"p-5",children:[a.jsx("div",{className:"flex justify-between items-start mb-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-green-100 text-green-600",children:a.jsx(Yr,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:"font-semibold text-gray-800 text-lg",children:Oe(new Date(ie.date),"dd MMMM yyyy",{locale:kr})}),ce&&a.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700",children:"Ce mois"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(vs,{className:"w-4 h-4"}),a.jsx("span",{children:ie.heure})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-green-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Yr,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Quantit"})]}),a.jsxs("p",{className:"text-xl font-bold text-gray-800",children:[parseFloat(ie.quantite_litres).toFixed(1)," ",a.jsx("span",{className:"text-sm text-gray-500",children:"L"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-green-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Fd,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Prix total"})]}),a.jsxs("p",{className:"text-xl font-bold text-gray-800",children:[parseFloat(ie.prix_total).toFixed(2)," ",a.jsx("span",{className:"text-sm text-gray-500",children:"DH"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-green-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Fc,{className:"w-4 h-4 text-emerald-500"}),a.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Prix/L"})]}),a.jsxs("p",{className:"text-xl font-bold text-gray-800",children:[Z.toFixed(2)," ",a.jsx("span",{className:"text-sm text-gray-500",children:"DH"})]})]}),ie.station_service&&a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-green-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(O4,{className:"w-4 h-4 text-emerald-600"}),a.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Station"})]}),a.jsx("p",{className:"text-sm font-semibold text-gray-800 truncate",children:ie.station_service})]})]})]})},ie.id)})})]})})()]})]}),h==="signalements"&&a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gradient-to-r from-green-50 to-emerald-50",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(Hn,{className:"w-6 h-6 text-green-500"}),"Signalements de Problmes"]}),a.jsxs(ne,{onClick:()=>B(!0),className:"bg-green-500 hover:bg-green-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all",children:[a.jsx(Aa,{className:"w-4 h-4 mr-2"}),"Signaler un problme"]})]}),ye.length>0&&a.jsxs("div",{className:"p-6 bg-white border-b border-gray-100 flex flex-col md:flex-row gap-4 items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-3 w-full md:w-auto",children:[a.jsxs(Te,{value:V,onValueChange:me,children:[a.jsx(Ee,{className:"w-full md:w-[200px] rounded-xl border-green-200 focus:ring-green-500 focus:border-green-500",children:a.jsx(Ce,{placeholder:"Filtrer par statut"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"all",children:"Tous les statuts"}),a.jsx(U,{value:"en_attente",children:"En attente"}),a.jsx(U,{value:"en_cours",children:"En cours"}),a.jsx(U,{value:"resolu",children:"Rsolu"})]})]}),a.jsxs(Te,{value:Se,onValueChange:We,children:[a.jsx(Ee,{className:"w-full md:w-[200px] rounded-xl border-green-200 focus:ring-green-500 focus:border-green-500",children:a.jsx(Ce,{placeholder:"Filtrer par urgence"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"all",children:"Toutes les urgences"}),a.jsx(U,{value:"haute",children:"Haute"}),a.jsx(U,{value:"moyenne",children:"Moyenne"}),a.jsx(U,{value:"faible",children:"Faible"})]})]})]}),(V!=="all"||Se!=="all")&&a.jsxs(ne,{variant:"outline",onClick:()=>{me("all"),We("all")},className:"rounded-xl border-green-200 text-green-600 hover:bg-green-50",children:[a.jsx(Ke,{className:"w-4 h-4 mr-2"}),"Rinitialiser"]})]}),a.jsx("div",{className:"p-6",children:(()=>{let L=[...ye];if(V!=="all"&&(L=L.filter(ee=>ee.statut===V)),Se!=="all"&&(L=L.filter(ee=>ee.urgence===Se)),L.sort((ee,D)=>new Date(D.date_creation||0)-new Date(ee.date_creation||0)),L.length===0)return a.jsxs(te.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"p-12 text-center",children:[a.jsx(Hn,{className:"w-16 h-16 mx-auto text-green-300 mb-4"}),a.jsx("p",{className:"text-gray-500 font-medium",children:"Aucun signalement trouv"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:V!=="all"||Se!=="all"?"Essayez de modifier vos filtres":"Commencez par signaler votre premier problme"})]});const ie=ee=>{switch(ee){case"mecanique":return{bg:"bg-red-50",border:"border-red-200",text:"text-red-700",icon:"text-red-500",badge:"bg-red-100 text-red-700"};case"eclairage":return{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-700",icon:"text-yellow-500",badge:"bg-yellow-100 text-yellow-700"};case"portes":return{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-700",icon:"text-blue-500",badge:"bg-blue-100 text-blue-700"};case"climatisation":return{bg:"bg-cyan-50",border:"border-cyan-200",text:"text-cyan-700",icon:"text-cyan-500",badge:"bg-cyan-100 text-cyan-700"};case"pneus":return{bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-700",icon:"text-orange-500",badge:"bg-orange-100 text-orange-700"};default:return{bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-700",icon:"text-gray-500",badge:"bg-gray-100 text-gray-700"}}},le=ee=>{switch(ee){case"haute":return{bg:"bg-red-100",text:"text-red-700",border:"border-red-300",icon:"text-red-500"};case"moyenne":return{bg:"bg-yellow-100",text:"text-yellow-700",border:"border-yellow-300",icon:"text-yellow-500"};default:return{bg:"bg-green-100",text:"text-green-700",border:"border-green-300",icon:"text-green-500"}}},Z=ee=>{switch(ee){case"resolu":return{bg:"bg-green-100",text:"text-green-700",border:"border-green-300"};case"en_cours":return{bg:"bg-blue-100",text:"text-blue-700",border:"border-blue-300"};default:return{bg:"bg-gray-100",text:"text-gray-700",border:"border-gray-300"}}},ce=ee=>({mecanique:"Mcanique",eclairage:"clairage",portes:"Portes",climatisation:"Climatisation",pneus:"Pneus",autre:"Autre"})[ee]||ee;return a.jsx("div",{className:"space-y-4",children:a.jsx(en,{children:L.map((ee,D)=>{const de=ie(ee.type_probleme),Re=le(ee.urgence),ze=Z(ee.statut);return a.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:D*.05},className:`${de.bg} ${de.border} border-2 rounded-2xl shadow-md hover:shadow-lg transition-all overflow-hidden`,children:a.jsxs("div",{className:"p-5",children:[a.jsx("div",{className:"flex justify-between items-start mb-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${de.bg} ${de.icon}`,children:a.jsx(Hn,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[a.jsx("h3",{className:"font-semibold text-gray-800 text-lg",children:ce(ee.type_probleme)}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${de.badge} border ${de.border}`,children:ce(ee.type_probleme)}),a.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Re.bg} ${Re.text} border ${Re.border} flex items-center gap-1`,children:[ee.urgence==="haute"&&a.jsx(bo,{className:"w-3 h-3"}),ee.urgence==="haute"?"URGENT":ee.urgence==="moyenne"?"Moyenne":"Faible"]}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${ze.bg} ${ze.text} border ${ze.border}`,children:ee.statut==="resolu"?"Rsolu":ee.statut==="en_cours"?"En cours":"En attente"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mt-1",children:[a.jsx(vs,{className:"w-4 h-4"}),a.jsx("span",{children:ee.date_creation?Oe(new Date(ee.date_creation),"dd MMMM yyyy  HH:mm",{locale:kr}):"Date inconnue"})]})]})]})}),a.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200 mb-4",children:a.jsx("p",{className:"text-gray-800 leading-relaxed",children:ee.description})}),(()=>{try{if(!ee.photos||ee.photos===null||ee.photos==="null"||ee.photos==="")return null;let Ge=[];if(Array.isArray(ee.photos))Ge=ee.photos;else if(typeof ee.photos=="string"&&ee.photos.trim()!=="")try{let Ye=ee.photos;(Ye.trim().startsWith("[")||Ye.trim().startsWith("{"))&&(Ye=JSON.parse(Ye)),Array.isArray(Ye)?Ge=Ye:Ye&&typeof Ye=="object"&&Array.isArray(Ye.photos)?Ge=Ye.photos:typeof Ye=="string"&&Ye.startsWith("data:image")&&(Ge=[Ye])}catch(Ye){if(ee.photos.startsWith("data:image"))Ge=[ee.photos];else return console.error("Erreur parsing photos:",Ye),null}else return null;if(!Array.isArray(Ge)||Ge.length===0)return null;const Be=Ge.map(Ye=>typeof Ye=="string"?Ye:Ye&&typeof Ye=="object"&&(Ye.data||Ye.src||Ye.url)||null).filter(Ye=>Ye&&typeof Ye=="string"&&Ye.trim()!==""&&Ye.startsWith("data:image"));return Be.length===0?null:a.jsxs("div",{className:"mb-4 p-3 bg-green-50 rounded-lg border border-green-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(ts,{className:"w-5 h-5 text-green-600"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:["Photos (",Be.length,")"]})]}),a.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-3",children:Be.map((Ye,Ol)=>a.jsx(te.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative group cursor-pointer",onClick:()=>De(Ye),children:a.jsxs("div",{className:"relative overflow-hidden rounded-lg border-2 border-green-300 group-hover:border-green-500 transition-colors bg-white shadow-md",children:[a.jsx("img",{src:Ye,alt:`Photo problme ${Ol+1}`,className:"w-full h-24 object-cover",onError:nr=>{console.error("Erreur chargement image:",Ol),nr.target.style.display="none"}}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:a.jsx(zc,{className:"w-5 h-5 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]})},Ol))})]})}catch(Ge){return console.error("Erreur parsing photos:",Ge,ee),null}})(),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[ee.bus_numero&&a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(rt,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Bus"})]}),a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:ee.bus_numero})]}),a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(bo,{className:`w-4 h-4 ${Re.icon}`}),a.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Urgence"})]}),a.jsx("p",{className:`text-sm font-semibold ${Re.text}`,children:ee.urgence==="haute"?"Haute":ee.urgence==="moyenne"?"Moyenne":"Faible"})]}),a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(it,{className:`w-4 h-4 ${ze.text}`}),a.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Statut"})]}),a.jsx("p",{className:`text-sm font-semibold ${ze.text}`,children:ee.statut==="resolu"?"Rsolu":ee.statut==="en_cours"?"En cours":"En attente"})]})]})]})},ee.id)})})})})()})]})]}),S&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-100 bg-gradient-to-r from-red-500 to-rose-500",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(tt,{className:"w-6 h-6"}),"Dclarer un Accident"]}),a.jsx("button",{onClick:()=>{z.forEach(L=>URL.revokeObjectURL(L.preview)),G([]),P(!1)},className:"text-white hover:text-red-100 transition-colors",children:a.jsx(Ke,{className:"w-6 h-6"})})]})}),a.jsxs("form",{onSubmit:async L=>{L.preventDefault();try{const ie=z.reduce((ee,D)=>ee+D.file.size,0),le=10*1024*1024;if(ie>le){qe("La taille totale des photos dpasse 10 MB. Veuillez rduire le nombre ou la taille des images.","error");return}const Z=await Promise.all(z.map(ee=>W(ee.file))),ce={date:T.date,heure:T.heure,bus_id:(n==null?void 0:n.id)||null,chauffeur_id:(t==null?void 0:t.id)||(t==null?void 0:t.type_id)||null,lieu:T.lieu,description:T.description,degats:T.degats||null,gravite:T.gravite,nombre_eleves:T.nombre_eleves?parseInt(T.nombre_eleves):null,nombre_blesses:T.nombre_blesses?parseInt(T.nombre_blesses):0,blesses:parseInt(T.nombre_blesses)>0,photos:Z.length>0?Z.map(ee=>ee.data):null};await Ia.create(ce),P(!1),R({date:Oe(new Date,"yyyy-MM-dd"),heure:Oe(new Date,"HH:mm"),lieu:"",description:"",degats:"",gravite:"Lgre",nombre_eleves:"",nombre_blesses:"0"}),z.forEach(ee=>URL.revokeObjectURL(ee.preview)),G([]),await ge(t),qe("Accident dclar avec succs ! L'administrateur a t notifi.","success")}catch(ie){console.error("Erreur dclaration accident:",ie),qe("Erreur lors de la dclaration: "+(ie.message||"Erreur inconnue"),"error")}},className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{children:"Date *"}),a.jsx(ue,{type:"date",value:T.date,onChange:L=>R({...T,date:L.target.value}),className:"mt-1 rounded-xl focus:ring-green-500 focus:border-green-500",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Heure *"}),a.jsx(ue,{type:"time",value:T.heure,onChange:L=>R({...T,heure:L.target.value}),className:"mt-1 rounded-xl focus:ring-green-500 focus:border-green-500",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Lieu *"}),a.jsx(ue,{value:T.lieu,onChange:L=>R({...T,lieu:L.target.value}),className:"mt-1 rounded-xl focus:ring-green-500 focus:border-green-500",placeholder:"Adresse de l'accident",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Gravit *"}),a.jsxs(Te,{value:T.gravite,onValueChange:L=>R({...T,gravite:L}),children:[a.jsx(Ee,{className:"mt-1 rounded-xl focus:ring-green-500 focus:border-green-500",children:a.jsx(Ce,{})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"Lgre",children:"Lgre"}),a.jsx(U,{value:"Moyenne",children:"Moyenne"}),a.jsx(U,{value:"Grave",children:"Grave"})]})]})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Nombre d'lves dans le bus"}),a.jsx(ue,{type:"number",value:T.nombre_eleves,onChange:L=>R({...T,nombre_eleves:L.target.value}),className:"mt-1 rounded-xl focus:ring-green-500 focus:border-green-500",min:"0",placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Nombre de blesss"}),a.jsx(ue,{type:"number",value:T.nombre_blesses,onChange:L=>R({...T,nombre_blesses:L.target.value}),className:"mt-1 rounded-xl focus:ring-green-500 focus:border-green-500",min:"0",placeholder:"0"})]})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Description *"}),a.jsx(ea,{value:T.description,onChange:L=>R({...T,description:L.target.value}),className:"mt-1 rounded-xl",rows:4,placeholder:"Dcrivez l'accident en dtail...",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Dgts"}),a.jsx(ea,{value:T.degats,onChange:L=>R({...T,degats:L.target.value}),className:"mt-1 rounded-xl focus:ring-green-500 focus:border-green-500",rows:2,placeholder:"Dcrivez les dgts matriels..."})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Photos (optionnel) - Max 5 photos, 5 MB par photo, 10 MB total"}),a.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:L=>{const ie=Array.from(L.target.files||[]),le=5-z.length;if(ie.length>le){qe(`Vous ne pouvez ajouter que ${le} photo(s) supplmentaire(s)`,"error");return}const Z=ie.slice(0,le),ce=5*1024*1024,D=Z.filter(de=>de.size>ce?(qe(`L'image ${de.name} est trop grande (max 5 MB)`,"error"),!1):!0).map(de=>({file:de,preview:URL.createObjectURL(de)}));G([...z,...D]),L.target.value=""},className:"hidden",id:"accident-photos-upload"}),a.jsxs("label",{htmlFor:"accident-photos-upload",className:"flex items-center justify-center gap-2 p-4 border-2 border-dashed border-gray-300 rounded-xl cursor-pointer hover:border-red-500 hover:bg-red-50 transition-colors",children:[a.jsx(ts,{className:"w-5 h-5 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Cliquez pour ajouter des photos"})]}),z.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[z.length," photo",z.length>1?"s":""," slectionne",z.length>1?"s":""]})}),a.jsx("div",{className:"grid grid-cols-4 gap-2 max-h-32 overflow-y-auto p-2 bg-gray-50 rounded-lg border border-gray-200",children:z.map((L,ie)=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:L.preview,alt:`Photo ${ie+1}`,className:"w-full h-16 object-cover rounded-lg border border-gray-300"}),a.jsx("button",{type:"button",onClick:()=>{URL.revokeObjectURL(L.preview),G(z.filter((le,Z)=>Z!==ie))},className:"absolute top-0.5 right-0.5 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center opacity-100 shadow-md hover:bg-red-600 transition-colors",children:a.jsx(Ke,{className:"w-3 h-3"})})]},ie))})]})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[a.jsxs(ne,{type:"button",variant:"outline",onClick:()=>{z.forEach(L=>URL.revokeObjectURL(L.preview)),G([]),P(!1)},className:"rounded-xl",children:[a.jsx(Ke,{className:"w-4 h-4 mr-2"}),"Annuler"]}),a.jsxs(ne,{type:"submit",className:"bg-red-500 hover:bg-red-600 text-white rounded-xl",children:[a.jsx(tt,{className:"w-4 h-4 mr-2"}),"Dclarer l'accident"]})]})]})]})}),X&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-2xl max-w-md w-full",children:[a.jsx("div",{className:"p-6 border-b border-gray-100 bg-gradient-to-r from-green-500 to-emerald-500",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(Yr,{className:"w-6 h-6"}),"Prise d'Essence"]}),a.jsx("button",{onClick:()=>F(!1),className:"text-white hover:text-green-100",children:a.jsx(Ke,{className:"w-6 h-6"})})]})}),a.jsxs("form",{onSubmit:async L=>{L.preventDefault();try{const ie={chauffeur_id:(t==null?void 0:t.id)||(t==null?void 0:t.type_id),bus_id:n==null?void 0:n.id,date:Le.date,heure:Le.heure,quantite_litres:parseFloat(Le.quantite_litres),prix_total:parseFloat(Le.prix_total),station_service:Le.station_service||null};if((await vo.create(ie)).success){const Z=await vo.getByChauffeur((t==null?void 0:t.id)||(t==null?void 0:t.type_id)),ce=(Z==null?void 0:Z.data)||Z||[];re(ce),qe("Prise d'essence enregistre avec succs ! L'administrateur a t notifi.","success"),F(!1),pt({date:Oe(new Date,"yyyy-MM-dd"),heure:Oe(new Date,"HH:mm"),quantite_litres:"",prix_total:"",station_service:""})}}catch(ie){qe("Erreur: "+(ie.message||"Erreur inconnue"),"error")}},className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{children:"Date *"}),a.jsx(ue,{type:"date",value:Le.date,onChange:L=>pt({...Le,date:L.target.value}),className:"mt-1 rounded-xl",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Heure *"}),a.jsx(ue,{type:"time",value:Le.heure,onChange:L=>pt({...Le,heure:L.target.value}),className:"mt-1 rounded-xl",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Quantit (litres) *"}),a.jsx(ue,{type:"number",step:"0.01",value:Le.quantite_litres,onChange:L=>pt({...Le,quantite_litres:L.target.value}),className:"mt-1 rounded-xl",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Prix total (DH) *"}),a.jsx(ue,{type:"number",step:"0.01",value:Le.prix_total,onChange:L=>pt({...Le,prix_total:L.target.value}),className:"mt-1 rounded-xl",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Station-service"}),a.jsx(ue,{value:Le.station_service,onChange:L=>pt({...Le,station_service:L.target.value}),className:"mt-1 rounded-xl"})]})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[a.jsxs(ne,{type:"button",variant:"outline",onClick:()=>F(!1),className:"rounded-xl",children:[a.jsx(Ke,{className:"w-4 h-4 mr-2"})," Annuler"]}),a.jsxs(ne,{type:"submit",className:"bg-green-500 hover:bg-green-600 text-white rounded-xl",children:[a.jsx(Yr,{className:"w-4 h-4 mr-2"})," Enregistrer"]})]})]})]})}),oe&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[85vh] flex flex-col",children:[a.jsx("div",{className:"p-6 border-b border-gray-100 bg-gradient-to-r from-green-500 to-emerald-600 flex-shrink-0",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(Hn,{className:"w-6 h-6"}),"Signaler un Problme"]}),a.jsx("button",{onClick:()=>{Ie.forEach(L=>URL.revokeObjectURL(L.preview)),H([]),B(!1)},className:"text-white hover:text-green-100",children:a.jsx(Ke,{className:"w-6 h-6"})})]})}),a.jsxs("form",{onSubmit:async L=>{L.preventDefault();try{const ie=Ie.reduce((D,de)=>D+de.file.size,0),le=10*1024*1024;if(ie>le){qe("La taille totale des photos dpasse 10 MB. Veuillez rduire le nombre ou la taille des images.","error");return}const Z=await Promise.all(Ie.map(D=>W(D.file))),ce={chauffeur_id:(t==null?void 0:t.id)||(t==null?void 0:t.type_id),bus_id:n==null?void 0:n.id,type_probleme:rr.type_probleme,description:rr.description,urgence:rr.urgence,photos:Z.length>0?Z.map(D=>D.data):null};if((await Sa.create(ce)).success){const D=await Sa.getByChauffeur((t==null?void 0:t.id)||(t==null?void 0:t.type_id)),de=(D==null?void 0:D.data)||D||[];Ne(de),qe("Problme signal avec succs ! L'administrateur a t notifi.","success"),B(!1),on({type_probleme:"mecanique",description:"",urgence:"moyenne"}),Ie.forEach(Re=>URL.revokeObjectURL(Re.preview)),H([])}}catch(ie){qe("Erreur: "+(ie.message||"Erreur inconnue"),"error")}},className:"flex flex-col flex-1 min-h-0 overflow-hidden",children:[a.jsxs("div",{className:"p-6 space-y-4 overflow-y-auto flex-1 min-h-0 pb-2",children:[a.jsxs("div",{children:[a.jsx(Q,{children:"Type de problme *"}),a.jsxs(Te,{value:rr.type_probleme,onValueChange:L=>on({...rr,type_probleme:L}),children:[a.jsx(Ee,{className:"mt-1 rounded-xl focus:ring-green-500 focus:border-green-500",children:a.jsx(Ce,{})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"mecanique",children:"Mcanique"}),a.jsx(U,{value:"eclairage",children:"clairage"}),a.jsx(U,{value:"portes",children:"Portes"}),a.jsx(U,{value:"climatisation",children:"Climatisation"}),a.jsx(U,{value:"pneus",children:"Pneus"}),a.jsx(U,{value:"autre",children:"Autre"})]})]})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Urgence *"}),a.jsxs(Te,{value:rr.urgence,onValueChange:L=>on({...rr,urgence:L}),children:[a.jsx(Ee,{className:"mt-1 rounded-xl focus:ring-green-500 focus:border-green-500",children:a.jsx(Ce,{})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"faible",children:"Faible"}),a.jsx(U,{value:"moyenne",children:"Moyenne"}),a.jsx(U,{value:"haute",children:"Haute"})]})]})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Description *"}),a.jsx(ea,{value:rr.description,onChange:L=>on({...rr,description:L.target.value}),className:"mt-1 rounded-xl focus:ring-green-500 focus:border-green-500",rows:4,required:!0,placeholder:"Dcrivez le problme en dtail..."})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Photos (optionnel) - Max 5 photos, 5 MB par photo, 10 MB total"}),a.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:L=>{const ie=Array.from(L.target.files||[]),le=5-Ie.length;if(ie.length>le){qe(`Vous ne pouvez ajouter que ${le} photo(s) supplmentaire(s)`,"error");return}const Z=ie.slice(0,le),ce=5*1024*1024,D=Z.filter(de=>de.size>ce?(qe(`L'image ${de.name} est trop grande (max 5 MB)`,"error"),!1):!0).map(de=>({file:de,preview:URL.createObjectURL(de)}));H([...Ie,...D]),L.target.value=""},className:"hidden",id:"signalement-photos-upload"}),a.jsxs("label",{htmlFor:"signalement-photos-upload",className:"flex items-center justify-center gap-2 p-4 border-2 border-dashed border-gray-300 rounded-xl cursor-pointer hover:border-green-500 hover:bg-green-50 transition-colors",children:[a.jsx(ts,{className:"w-5 h-5 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Cliquez pour ajouter des photos"})]}),Ie.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[Ie.length," photo",Ie.length>1?"s":""," slectionne",Ie.length>1?"s":""]})}),a.jsx("div",{className:"grid grid-cols-4 gap-2 max-h-32 overflow-y-auto p-2 bg-gray-50 rounded-lg border border-gray-200",children:Ie.map((L,ie)=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:L.preview,alt:`Photo ${ie+1}`,className:"w-full h-16 object-cover rounded-lg border border-gray-300"}),a.jsx("button",{type:"button",onClick:()=>{URL.revokeObjectURL(L.preview),H(Ie.filter((le,Z)=>Z!==ie))},className:"absolute top-0.5 right-0.5 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center opacity-100 shadow-md hover:bg-red-600 transition-colors",children:a.jsx(Ke,{className:"w-3 h-3"})})]},ie))})]})]})]}),a.jsxs("div",{className:"p-4 border-t-2 border-gray-200 bg-gradient-to-r from-gray-50 to-white rounded-b-3xl flex gap-3 justify-end flex-shrink-0 sticky bottom-0 z-10 shadow-lg",children:[a.jsxs(ne,{type:"button",variant:"outline",onClick:()=>{Ie.forEach(L=>URL.revokeObjectURL(L.preview)),H([]),B(!1)},className:"rounded-xl border-2 border-gray-300 hover:border-gray-400 px-6 py-2.5 font-semibold shadow-sm hover:shadow-md transition-all",children:[a.jsx(Ke,{className:"w-4 h-4 mr-2"})," Annuler"]}),a.jsxs(ne,{type:"submit",className:"bg-green-500 hover:bg-green-600 text-white rounded-xl px-6 py-2.5 font-semibold shadow-lg hover:shadow-xl transition-all",children:[a.jsx(Hn,{className:"w-4 h-4 mr-2"})," Signaler"]})]})]})]})}),ve&&a.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>De(null),children:a.jsxs(te.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"relative max-w-5xl max-h-[90vh] w-full",onClick:L=>L.stopPropagation(),children:[a.jsx("button",{onClick:()=>De(null),className:"absolute top-4 right-4 z-10 bg-white/90 hover:bg-white text-gray-800 rounded-full p-2 shadow-lg transition-colors",children:a.jsx(Ke,{className:"w-6 h-6"})}),a.jsx("img",{src:ve,alt:"Photo problme",className:"w-full h-auto rounded-lg shadow-2xl"})]})}),a.jsx(en,{children:$e&&a.jsx(te.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},className:`fixed bottom-6 right-6 z-50 max-w-md w-full shadow-2xl rounded-xl overflow-hidden ${je==="success"?"bg-green-500":je==="error"?"bg-red-500":"bg-blue-500"}`,children:a.jsxs("div",{className:"p-4 flex items-center gap-3",children:[je==="success"&&a.jsx(it,{className:"w-5 h-5 text-white flex-shrink-0"}),je==="error"&&a.jsx(tt,{className:"w-5 h-5 text-white flex-shrink-0"}),je==="info"&&a.jsx(tt,{className:"w-5 h-5 text-white flex-shrink-0"}),a.jsx("p",{className:"text-white font-medium flex-1",children:$e}),a.jsx("button",{onClick:()=>Qe(null),className:"text-white hover:text-gray-200 transition-colors",children:a.jsx(Ke,{className:"w-4 h-4"})})]})})})]})}function VR(){return a.jsx(FR,{children:a.jsx(zR,{})})}function UR(){const e=nt(),[t,r]=_.useState(!1),[n,i]=_.useState(""),s=(l,c)=>{var f;if(((f=l==null?void 0:l.response)==null?void 0:f.status)===401)return"Email ou mot de passe incorrect.";const u=((c==null?void 0:c.message)||(l==null?void 0:l.message)||"").toLowerCase();return u.includes("credentials")||u.includes("invalid")||u.includes("incorrect")?"Email ou mot de passe incorrect.":u.includes("not found")||u.includes("introuvable")?"Aucun compte responsable trouv avec cet email.":u.includes("inactive")||u.includes("inactif")?"Votre compte est inactif. Contactez l'administration.":"Email ou mot de passe incorrect."},o=async l=>{r(!0),i("");try{const c=await na.login(l.email,l.password,"responsable");c.success?(localStorage.setItem("responsable_session",JSON.stringify(c.user)),na.saveUser(c.user),e(ke("ResponsableDashboard"))):i(s(null,c))}catch(c){console.error("Erreur de connexion:",c),i(s(c,null))}finally{r(!1)}};return a.jsx(rh,{title:"Espace Responsable Bus",icon:rt,onLogin:o,showRegister:!1,loading:t,error:n})}function WR({eleves:e,presences:t,onTogglePresence:r,selectedDate:n,onDateChange:i,readOnly:s=!1,onNotifyAbsence:o=null}){const l=()=>new Date().getHours()<13?"matin":"soir",[c,u]=_.useState("all"),[f,d]=_.useState(""),m=l(),[p,v]=_.useState(new Set),[g,w]=_.useState(new Set),[x,y]=_.useState(new Set),h=S=>{const P=t.find(A=>A.eleve_id===S&&A.date===n);return P?{matin:P.present_matin,soir:P.present_soir,hasRecord:!0}:{matin:null,soir:null,hasRecord:!1}},N=e.filter(S=>{if(x.has(S.id))return!1;const P=c==="all"||S.groupe===c,A=S.nom.toLowerCase().includes(f.toLowerCase())||S.prenom.toLowerCase().includes(f.toLowerCase());if(!P||!A)return!1;const E=h(S.id);return E.hasRecord?!(m==="matin"?E.matin:E.soir):!0}),j=async S=>{s||(v(P=>new Set(P).add(S)),setTimeout(async()=>{await r(S,m,!0),setTimeout(()=>{v(A=>{const E=new Set(A);return E.delete(S),E})},500)},300))},b=async S=>{if(s)return;const P=e.find(A=>A.id===S);P&&(w(A=>new Set(A).add(S)),setTimeout(async()=>{await r(S,m,!1),y(E=>new Set(E).add(S)),setTimeout(()=>{w(E=>{const O=new Set(E);return O.delete(S),O}),o&&o(P,m)},500)},300))};return a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"p-6 bg-gradient-to-r from-purple-500 to-purple-600",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(vi,{className:"w-6 h-6"}),"Gestion des Prsences"]}),a.jsx("div",{className:"flex items-center gap-2 bg-white/20 px-3 py-1.5 rounded-full",children:a.jsxs("span",{className:"text-white text-sm font-medium",children:["Priode: ",a.jsx("span",{className:"font-bold",children:l()==="matin"?"Matin":"Soir"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsx(ue,{placeholder:"Rechercher un lve...",value:f,onChange:S=>d(S.target.value),className:"bg-white/90 border-0 rounded-xl focus:ring-purple-500 focus:border-purple-500"}),a.jsxs(Te,{value:c,onValueChange:u,children:[a.jsx(Ee,{className:"bg-white/90 border-0 rounded-xl focus:ring-purple-500 focus:border-purple-500",children:a.jsx(Ce,{placeholder:"Groupe"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"all",children:"Tous les groupes"}),a.jsx(U,{value:"A",children:"Groupe A"}),a.jsx(U,{value:"B",children:"Groupe B"})]})]})]})]}),a.jsxs("div",{className:"p-4 max-h-[600px] overflow-y-auto",children:[!1,a.jsx(en,{mode:"popLayout",children:a.jsx("div",{className:"space-y-2",children:N.map((S,P)=>{h(S.id);const A=p.has(S.id),E=g.has(S.id);x.has(S.id);let O="white",C="rgb(243 244 246)",T=S.sexe==="Masculin"?"bg-purple-100":"bg-pink-100",R=a.jsx(xt,{className:`w-6 h-6 ${S.sexe==="Masculin"?"text-purple-500":"text-pink-500"}`});return A?(O="rgb(220 252 231)",C="rgb(34 197 94)",T="bg-green-200",R=a.jsx(te.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30},children:a.jsx(vi,{className:"w-6 h-6 text-green-600",strokeWidth:3})})):E&&(O="rgb(254 242 242)",C="rgb(239 68 68)",T="bg-red-200",R=a.jsx(te.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30},children:a.jsx(Ke,{className:"w-6 h-6 text-red-600",strokeWidth:3})})),a.jsxs(te.div,{initial:{opacity:0,x:-20},animate:{opacity:A||E?.7:1,x:0,backgroundColor:O,borderColor:C},exit:{opacity:0,x:20,scale:.9,backgroundColor:A?"rgb(220 252 231)":"rgb(254 242 242)"},transition:{duration:.3},className:`flex items-center justify-between p-4 rounded-2xl border-2 transition-all ${A?"bg-green-100 border-green-500":E?"bg-red-100 border-red-500":"bg-white border-gray-100 hover:border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center transition-colors ${T}`,children:R}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold text-gray-800",children:[S.nom," ",S.prenom]}),a.jsxs("div",{className:"flex gap-3 text-sm text-gray-500",children:[a.jsx("span",{children:S.classe}),a.jsxs("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:["Groupe ",S.groupe]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(te.button,{onClick:()=>j(S.id),disabled:s||A,whileHover:!s&&!A?{scale:1.1}:{},whileTap:!s&&!A?{scale:.95}:{},className:`w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 ${s||A?"cursor-default opacity-50":"cursor-pointer"} bg-green-500 text-white shadow-lg shadow-green-200 hover:bg-green-600`,title:"Marquer comme prsent",children:a.jsx(vi,{className:"w-6 h-6",strokeWidth:3})}),a.jsx(te.button,{onClick:()=>b(S.id),disabled:s||A||E,whileHover:!s&&!A&&!E?{scale:1.1}:{},whileTap:!s&&!A&&!E?{scale:.95}:{},className:`w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 ${s||A||E?"cursor-default opacity-50":"cursor-pointer"} bg-red-500 text-white shadow-lg shadow-red-200 hover:bg-red-600`,title:"Marquer comme absent et envoyer un message",children:a.jsx(Ke,{className:"w-6 h-6",strokeWidth:3})})]})]},S.id)})})}),N.length===0&&e.length>0&&a.jsxs("div",{className:"text-center py-12 text-gray-400",children:[a.jsx(xt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{className:"mb-2",children:"Tous les lves sont marqus comme prsents pour cette priode"}),a.jsxs("p",{className:"text-sm text-gray-400",children:["(",e.length," lve",e.length>1?"s":""," prsent",e.length>1?"s":"",")"]})]}),e.length===0&&a.jsxs("div",{className:"text-center py-12 text-gray-400",children:[a.jsx(xt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"Aucun lve assign  ce bus"})]})]}),a.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100",children:a.jsxs("div",{className:"flex justify-around text-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.filter(S=>{const P=h(S.id);return P.hasRecord&&(m==="matin"?P.matin:P.soir)}).length}),a.jsx("p",{className:"text-sm text-gray-500",children:"Prsents"})]}),a.jsx("div",{className:"w-px bg-gray-200"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-red-500",children:e.filter(S=>{const P=h(S.id);return P.hasRecord&&(m==="matin"?!P.matin:!P.soir)}).length}),a.jsx("p",{className:"text-sm text-gray-500",children:"Absents"})]}),a.jsx("div",{className:"w-px bg-gray-200"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-700",children:e.length}),a.jsx("p",{className:"text-sm text-gray-500",children:"Total"})]})]})})]})}function HR(){var on;const e=nt(),[t,r]=_.useState(null),[n,i]=_.useState(null),[s,o]=_.useState(null),[l,c]=_.useState([]),[u,f]=_.useState([]),[d,m]=_.useState([]),[p,v]=_.useState(!1),[g,w]=_.useState(Oe(new Date,"yyyy-MM-dd")),[x,y]=_.useState(!0),[h,N]=_.useState("presence"),[j,b]=_.useState("today"),[S,P]=_.useState(""),[A,E]=_.useState("all"),[O,C]=_.useState(""),[T,R]=_.useState(()=>new Date().getHours()<13?"matin":"soir"),[z,G]=_.useState([]),[X,F]=_.useState(!1),[Y,J]=_.useState(null),[k,K]=_.useState(null),[oe,B]=_.useState({date:Oe(new Date,"yyyy-MM-dd"),heure:Oe(new Date,"HH:mm"),lieu:"",description:"",degats:"",gravite:"Lgre",nombre_eleves:"",nombre_blesses:"0"}),[M,re]=_.useState([]),[we,be]=_.useState(!1),[$,ae]=_.useState({destinataire:"tous",bus_id:null,eleve_id:null,titre:"",message:"",type:"info"}),[fe,q]=_.useState([]),[ye,Ne]=_.useState(null),[V,me]=_.useState([]),[Se,We]=_.useState({show:!1,messageId:null});_.useEffect(()=>{const W=localStorage.getItem("responsable_session");if(!W){e(ke("ResponsableLogin"));return}const ge=JSON.parse(W);r(ge),Ie(ge)},[e]),_.useEffect(()=>{if(!n||!ye)return;const W=async()=>{try{const L=Oe(new Date,"yyyy-MM-dd"),ie={},le=[];if(n&&n.chauffeur_id)try{const Z=await ev.getByChauffeur(n.chauffeur_id),ee=((Z==null?void 0:Z.data)||Z||[]).find(D=>D.date===L);if(ee&&ee.heure_depart_reelle&&ye&&ye.id===n.trajet_id){const D=ee.periode,de=D==="matin"?ye.heure_depart_matin_a:ye.heure_depart_soir_a;if(de){const[Re,ze]=de.split(":").map(Number),[Ge,Be]=ee.heure_depart_reelle.split(":").map(Number),Ye=Ge*60+Be-(Re*60+ze);Ye>10&&le.push({bus:n,retard:Ye,periode:D})}}}catch(Z){console.warn("Erreur vrification retard bus",n.id,Z)}if(le.length>0&&t){for(const Z of le)if(!d.some(ee=>{var D,de;return((D=ee.titre)==null?void 0:D.includes(`Retard Bus ${Z.bus.numero}`))&&((de=ee.date)==null?void 0:de.startsWith(L))}))try{const ee=await bn.getAll(),de=((ee==null?void 0:ee.data)||ee||[]).filter(Be=>Be.bus_id===Z.bus.id&&Be.statut==="Active").map(Be=>Be.eleve_id),Re=await kt.getAll(),Ge=((Re==null?void 0:Re.data)||Re||[]).filter(Be=>de.includes(Be.id)&&Be.tuteur_id).map(Be=>ut.create({destinataire_id:Be.tuteur_id,destinataire_type:"tuteur",titre:`Retard Bus ${Z.bus.numero}`,message:`Le bus ${Z.bus.numero} a un retard de ${Z.retard} minutes pour le trajet ${Z.periode==="matin"?"du matin":"du soir"}.`,type:"alerte",date:new Date().toISOString()}));await Promise.all(Ge)}catch(ee){console.error("Erreur envoi notification retard:",ee)}}}catch(L){console.error("Erreur vrification retards:",L)}};W();const ge=setInterval(W,5*60*1e3);return()=>clearInterval(ge)},[n,ye,t]);const Ie=async W=>{try{let ge=W;if(W.type_id)try{const D=await li.getById(W.type_id);ge=(D==null?void 0:D.data)||D||W,r(ge)}catch(D){console.warn("Erreur chargement donnes responsable:",D)}const L=await Sr.getAll(),ie=(L==null?void 0:L.data)||L||[],le=W.type_id||W.id,Z=ie.find(D=>D.responsable_id===le);if(i(Z||null),console.log("Responsable ID:",le),console.log("Bus trouv:",Z),Z){if(Z.chauffeur_id)try{const D=await $n.getById(Z.chauffeur_id),de=(D==null?void 0:D.data)||D;o(de)}catch(D){console.warn("Chauffeur non trouv:",D)}try{console.log("Chargement lves pour bus_id:",Z.id);const D=await kt.getByBus(Z.id);console.log("Rponse lves:",D);const de=(D==null?void 0:D.data)||D||[];console.log("lves chargs:",de),c(Array.isArray(de)?de:[])}catch(D){console.error("Erreur chargement lves:",D),c([])}}else console.warn("Aucun bus trouv pour le responsable_id:",le),c([]);try{const D=await Wn.getByDate(g,Z==null?void 0:Z.id),Re=((D==null?void 0:D.data)||D||[]).filter(ze=>!ze.bus_id||ze.bus_id===Z.id||!ze.responsable_id||ze.responsable_id===le);f(Re)}catch(D){console.warn("Prsences non disponibles:",D),f([])}const ce=await ut.getByUser(le,"responsable"),ee=(ce==null?void 0:ce.data)||ce||[];m(ee.sort((D,de)=>new Date(de.date||0)-new Date(D.date||0)));try{const D=await ut.getSentByResponsable(le),de=(D==null?void 0:D.data)||D||[];me(de.sort((Re,ze)=>new Date(ze.date||0)-new Date(Re.date||0)))}catch(D){console.warn("Erreur chargement messages envoys:",D),me([])}try{console.log("Chargement accidents pour responsable_id:",le);const D=await Ia.getByResponsable(le);console.log("Rponse accidents:",D);const de=(D==null?void 0:D.data)||D||[];console.log("Accidents chargs:",de),G(Array.isArray(de)?de.sort((Re,ze)=>new Date(ze.date||0)-new Date(Re.date||0)):[])}catch(D){console.error("Erreur chargement accidents:",D),G([])}if(Z&&Z.trajet_id)try{const D=await Kn.getById(Z.trajet_id),de=(D==null?void 0:D.data)||D;Ne(de)}catch(D){console.warn("Erreur chargement trajet:",D)}try{const D=await ki.getAll(),de=(D==null?void 0:D.data)||D||[];q(de)}catch(D){console.warn("Erreur chargement tuteurs:",D)}}catch(ge){console.error("Erreur lors du chargement:",ge)}y(!1)},H=()=>{localStorage.removeItem("responsable_session"),e(ke("Home"))},[ve,De]=_.useState(null),[$e,Qe]=_.useState("success"),je=(W,ge="success")=>{De(W),Qe(ge),setTimeout(()=>{De(null)},4e3)},Ct=(W,ge=1200,L=1200,ie=.7)=>new Promise(le=>{const Z=new FileReader;Z.onload=ce=>{const ee=new Image;ee.onload=()=>{const D=document.createElement("canvas");let de=ee.width,Re=ee.height;de>Re?de>ge&&(Re=Re*ge/de,de=ge):Re>L&&(de=de*L/Re,Re=L),D.width=de,D.height=Re,D.getContext("2d").drawImage(ee,0,0,de,Re);const Ge=D.toDataURL("image/jpeg",ie);le({data:Ge,name:W.name,type:"image/jpeg"})},ee.src=ce.target.result},Z.readAsDataURL(W)}),qe=()=>{const W=new Date;switch(W.setHours(0,0,0,0),j){case"yesterday":return Oe(Of(W,1),"yyyy-MM-dd");case"dayBefore":return Oe(Of(W,2),"yyyy-MM-dd");case"lastMonth":const ge=wo(W,1);return Oe(Ud(ge),"yyyy-MM-dd");case"custom":return S||Oe(W,"yyyy-MM-dd");default:return Oe(W,"yyyy-MM-dd")}},Le=_.useMemo(()=>l.filter(W=>{const ge=A==="all"||W.groupe===A,L=W.nom.toLowerCase().includes(O.toLowerCase())||W.prenom.toLowerCase().includes(O.toLowerCase());return ge&&L}),[l,A,O]);_.useEffect(()=>{h==="eleves"&&n&&t&&(async()=>{try{const ge=qe(),L=(t==null?void 0:t.type_id)||(t==null?void 0:t.id);console.log("Chargement prsences pour date:",ge,"bus:",n.id);const ie=await Wn.getByDate(ge,n==null?void 0:n.id),le=(ie==null?void 0:ie.data)||ie||[];console.log("Prsences reues:",le);const Z=le.filter(ce=>!ce.bus_id||ce.bus_id===n.id||!ce.responsable_id||ce.responsable_id===L);console.log("Prsences filtres:",Z),f(Z)}catch(ge){console.error("Erreur chargement prsences pour date filtre:",ge),f([])}})()},[j,S,h,n==null?void 0:n.id,t==null?void 0:t.type_id,t==null?void 0:t.id]);const pt=({dateFilter:W,setDateFilter:ge,customDate:L,setCustomDate:ie,groupFilter:le,setGroupFilter:Z,searchTerm:ce,setSearchTerm:ee,periodeFilter:D,setPeriodeFilter:de})=>{const Re=()=>new Date().getHours()<13?"matin":"soir";return a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[a.jsxs(Te,{value:W,onValueChange:ge,children:[a.jsx(Ee,{className:"bg-white/90 border-0 rounded-xl focus:ring-purple-500 focus:border-purple-500",children:a.jsx(Ce,{placeholder:"Date"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"today",children:"Aujourd'hui"}),a.jsx(U,{value:"yesterday",children:"Hier"}),a.jsx(U,{value:"dayBefore",children:"Avant-hier"}),a.jsx(U,{value:"lastMonth",children:"Mois dernier"}),a.jsx(U,{value:"custom",children:"Jour spcifique"})]})]}),W==="custom"&&a.jsxs("div",{className:"relative",children:[a.jsx(Mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-purple-600"}),a.jsx(ue,{type:"date",value:L,onChange:ze=>ie(ze.target.value),className:"pl-10 bg-white/90 border-0 rounded-xl focus:ring-purple-500 focus:border-purple-500"})]}),a.jsxs(Te,{value:le,onValueChange:Z,children:[a.jsx(Ee,{className:"bg-white/90 border-0 rounded-xl focus:ring-purple-500 focus:border-purple-500",children:a.jsx(Ce,{placeholder:"Groupe"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"all",children:"Tous les groupes"}),a.jsx(U,{value:"A",children:"Groupe A"}),a.jsx(U,{value:"B",children:"Groupe B"})]})]}),a.jsxs(Te,{value:D,onValueChange:de,children:[a.jsx(Ee,{className:"bg-white/90 border-0 rounded-xl focus:ring-purple-500 focus:border-purple-500",children:a.jsx(Ce,{placeholder:"Priode"})}),a.jsxs(Pe,{children:[a.jsxs(U,{value:"matin",children:["Matin ",Re()==="matin"&&"(Actuel)"]}),a.jsxs(U,{value:"soir",children:["Soir ",Re()==="soir"&&"(Actuel)"]})]})]}),a.jsx(ue,{placeholder:"Rechercher un lve...",value:ce,onChange:ze=>ee(ze.target.value),className:"bg-white/90 border-0 rounded-xl focus:ring-purple-500 focus:border-purple-500"})]})},et=async W=>{try{await ut.marquerLue(W),m(ge=>ge.map(L=>L.id===W?{...L,lue:!0}:L))}catch(ge){console.error("Erreur lors de la mise  jour:",ge)}},pr=async(W,ge,L)=>{try{const ie=u.find(Z=>Z.eleve_id===W&&Z.date===g);let le;if(ie){const Z={...ie,[ge==="matin"?"present_matin":"present_soir"]:L},ce=await Wn.marquer(Z);le=(ce==null?void 0:ce.data)||ce,f(ee=>ee.map(D=>D.id===ie.id?{...D,...le}:D))}else{const Z={eleve_id:W,date:g,present_matin:ge==="matin"?L:!1,present_soir:ge==="soir"?L:!1,bus_id:n==null?void 0:n.id,responsable_id:(t==null?void 0:t.type_id)||(t==null?void 0:t.id)},ce=await Wn.marquer(Z);le=(ce==null?void 0:ce.data)||ce,f(ee=>[...ee,le])}try{const Z=await Wn.getByDate(g),ce=(Z==null?void 0:Z.data)||Z||[];f(ce)}catch(Z){console.warn("Erreur rechargement prsences:",Z)}if(!L){const Z=l.find(ce=>ce.id===W);if(Z&&Z.tuteur_id)try{await ut.create({destinataire_id:Z.tuteur_id,destinataire_type:"tuteur",titre:"Absence signale",message:`${Z.prenom} ${Z.nom} a t marqu(e) absent(e) le ${Oe(new Date(g),"dd/MM/yyyy")} (${ge}).`,type:"alerte",date:new Date().toISOString()})}catch(ce){console.warn("Erreur envoi notification:",ce)}}}catch(ie){console.error("Erreur lors de la modification de prsence:",ie),je("Erreur lors de la modification de prsence: "+(ie.message||"Erreur inconnue"),"error")}},da=async(W,ge="matin")=>{try{if(!W.tuteur_id){je("Aucun tuteur trouv pour cet lve","error");return}N("communication"),be(!0),ae({destinataire:"eleve",bus_id:(n==null?void 0:n.id)||null,eleve_id:W.id,titre:`Absence de ${W.prenom} ${W.nom}`,message:`Bonjour,

Je vous informe que ${W.prenom} ${W.nom} a t marqu(e) absent(e) le ${Oe(new Date(g),"dd/MM/yyyy")} (${ge==="matin"?"matin":"soir"}).

Veuillez nous contacter si vous avez des questions.

Cordialement.`,type:"alerte"})}catch(L){console.error("Erreur lors de la redirection:",L),je("Erreur lors de la redirection vers Communication","error")}},Ga=d.filter(W=>!W.lue).length,rr=(s==null?void 0:s.nombre_accidents)||0;return x?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full animate-spin"})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-purple-50 p-4 md:p-8",children:[a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-xl p-6 mb-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(ro,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-800",children:[t==null?void 0:t.prenom," ",t==null?void 0:t.nom]}),a.jsx("p",{className:"text-gray-500",children:"Responsable Bus"}),(t==null?void 0:t.zone_responsabilite)&&a.jsx("p",{className:"text-sm text-gray-400",children:t.zone_responsabilite})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(ne,{variant:"outline",onClick:()=>v(!0),className:"relative rounded-xl border-purple-500 text-purple-600 hover:bg-purple-50 focus:ring-purple-500",children:[a.jsx(aa,{className:"w-5 h-5"}),Ga>0&&a.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:Ga})]}),a.jsx(ne,{variant:"ghost",onClick:H,className:"text-red-500 hover:text-red-600 hover:bg-red-50 rounded-xl",children:a.jsx(cs,{className:"w-5 h-5"})})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(xn,{title:"Mon Bus",value:(n==null?void 0:n.numero)||"-",icon:rt,color:"purple"}),a.jsx(xn,{title:"lves",value:l.length,icon:Zt,color:"purple"}),a.jsx(xn,{title:"Accidents chauffeur",value:rr,icon:tt,color:rr>=3?"red":"purple"}),a.jsx(xn,{title:"Mon Salaire",value:`${(t==null?void 0:t.salaire)||0} DH`,icon:Fd,color:"purple"})]}),a.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:["presence","eleves","bus","communication","accidents"].map(W=>a.jsxs(ne,{type:"button",variant:h===W?"default":"outline",onClick:ge=>{ge.preventDefault(),ge.stopPropagation(),N(W)},className:`rounded-xl whitespace-nowrap ${W==="accidents"?h===W?"bg-red-500 hover:bg-red-600 text-white":"border-red-500 text-red-600 hover:bg-red-50 focus:ring-red-500":h===W?"bg-purple-500 hover:bg-purple-600 text-white":"border-purple-500 text-purple-600 hover:bg-purple-50 focus:ring-purple-500"}`,children:[W==="presence"&&"Prsences",W==="eleves"&&"lves",W==="bus"&&"Mon Bus",W==="communication"&&"Communication",W==="accidents"&&"Accidents"]},W))}),h==="presence"&&a.jsx(WR,{eleves:l,presences:u,onTogglePresence:pr,selectedDate:g,onDateChange:w,onNotifyAbsence:da}),h==="eleves"&&a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"p-6 bg-gradient-to-r from-purple-500 to-purple-600",children:[a.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[a.jsx(Zt,{className:"w-6 h-6"}),"Liste des lves"]}),a.jsx(pt,{dateFilter:j,setDateFilter:b,customDate:S,setCustomDate:P,groupFilter:A,setGroupFilter:E,searchTerm:O,setSearchTerm:C,periodeFilter:T,setPeriodeFilter:R})]}),a.jsxs("div",{className:"divide-y divide-gray-100 max-h-[600px] overflow-y-auto",children:[Le.map(W=>{const ge=qe(),L=u.find(ce=>ce.eleve_id===W.id&&ce.date===ge),ie=j!=="today"||S;let le=!1,Z=!1;if(L){Z=!0;const ce=L.present_matin===!0||L.present_matin===1||L.present_matin==="1",ee=L.present_soir===!0||L.present_soir===1||L.present_soir==="1";le=T==="matin"?ce:ee}return a.jsx("div",{className:"p-4 hover:bg-purple-50/50 transition-colors",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-100 flex items-center justify-center",children:a.jsx(xt,{className:"w-6 h-6 text-purple-500"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold text-gray-800",children:[W.nom," ",W.prenom]}),a.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[a.jsx("span",{children:W.classe||"N/A"}),a.jsxs("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:["Groupe ",W.groupe||"N/A"]})]})]})]}),ie?a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${Z?le?"bg-green-500":"bg-red-500":"bg-gray-200"}`,children:Z?le?a.jsx(vi,{className:"w-4 h-4 text-white",strokeWidth:3}):a.jsx(Ke,{className:"w-4 h-4 text-white",strokeWidth:3}):a.jsx("span",{className:"text-gray-400 text-xs",children:"-"})}):a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${Z?le?"bg-green-500":"bg-red-500":"bg-gray-200"}`,children:Z?le?a.jsx(vi,{className:"w-4 h-4 text-white",strokeWidth:3}):a.jsx(Ke,{className:"w-4 h-4 text-white",strokeWidth:3}):a.jsx("span",{className:"text-gray-400 text-xs",children:"-"})})]})},W.id)}),Le.length===0&&a.jsxs("div",{className:"p-12 text-center text-gray-400",children:[a.jsx(Zt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"Aucun lve trouv"})]})]})]}),h==="bus"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6",children:[a.jsxs("h2",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(rt,{className:"w-5 h-5 text-purple-500"}),"Mon Bus"]}),n?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-purple-50 rounded-2xl p-6 text-center",children:[a.jsx("p",{className:"text-5xl font-bold text-purple-600",children:n.numero}),a.jsxs("p",{className:"text-gray-500 mt-2",children:[n.marque," ",n.modele]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between py-2 border-b",children:[a.jsx("span",{className:"text-gray-500",children:"Capacit"}),a.jsxs("span",{className:"font-medium",children:[n.capacite," places"]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b",children:[a.jsx("span",{className:"text-gray-500",children:"Places occupes"}),a.jsx("span",{className:"font-medium",children:l.length})]}),a.jsxs("div",{className:"flex justify-between py-2",children:[a.jsx("span",{className:"text-gray-500",children:"Statut"}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n.statut==="Actif"?"bg-purple-100 text-purple-700":"bg-red-100 text-red-700"}`,children:n.statut})]})]})]}):a.jsx("p",{className:"text-center text-gray-400 py-8",children:"Aucun bus assign"})]}),a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6",children:[a.jsxs("h2",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(to,{className:"w-5 h-5 text-purple-500"}),"Mon Trajet"]}),ye?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-purple-50 rounded-2xl p-4",children:[a.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Trajet"}),a.jsx("p",{className:"text-xl font-bold text-gray-800",children:ye.nom})]}),ye.zones&&a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-gray-500 mb-2 flex items-center gap-1",children:[a.jsx(Ot,{className:"w-4 h-4"}),"Zones desservies"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:(Array.isArray(ye.zones)?ye.zones:JSON.parse(ye.zones||"[]")).map((W,ge)=>a.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm",children:W},ge))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[a.jsxs("div",{className:"bg-purple-50 rounded-xl p-3",children:[a.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Groupe A - Matin"}),a.jsxs("p",{className:"font-semibold text-gray-800",children:[ye.heure_depart_matin_a," - ",ye.heure_arrivee_matin_a]})]}),a.jsxs("div",{className:"bg-purple-50 rounded-xl p-3",children:[a.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Groupe A - Soir"}),a.jsxs("p",{className:"font-semibold text-gray-800",children:[ye.heure_depart_soir_a," - ",ye.heure_arrivee_soir_a]})]}),a.jsxs("div",{className:"bg-purple-50 rounded-xl p-3",children:[a.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Groupe B - Matin"}),a.jsxs("p",{className:"font-semibold text-gray-800",children:[ye.heure_depart_matin_b," - ",ye.heure_arrivee_matin_b]})]}),a.jsxs("div",{className:"bg-purple-50 rounded-xl p-3",children:[a.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Groupe B - Soir"}),a.jsxs("p",{className:"font-semibold text-gray-800",children:[ye.heure_depart_soir_b," - ",ye.heure_arrivee_soir_b]})]})]})]}):a.jsx("p",{className:"text-center text-gray-400 py-8",children:"Aucun trajet assign"})]}),n&&a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6 md:col-span-2",children:[a.jsxs("h2",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(xt,{className:"w-5 h-5 text-purple-500"}),"Chauffeur"]}),s?a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center",children:a.jsx(xt,{className:"w-8 h-8 text-gray-400"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:[s.prenom," ",s.nom]}),a.jsx("p",{className:"text-gray-500",children:s.telephone}),a.jsx("p",{className:"text-gray-400 text-sm",children:s.email})]}),a.jsxs("div",{className:"ml-auto",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-500",children:"Accidents:"}),a.jsxs("span",{className:`font-bold ${s.nombre_accidents>=3?"text-red-500":"text-purple-500"}`,children:[s.nombre_accidents," / 3"]})]}),s.nombre_accidents>=3&&a.jsxs("div",{className:"mt-2 bg-red-50 border border-red-200 rounded-xl p-2 text-red-700 text-xs",children:[a.jsx(tt,{className:"w-4 h-4 inline mr-1"}),"Attention: 3 accidents = licenciement + amende 1000 DH"]})]})]}):a.jsx("p",{className:"text-center text-gray-400 py-4",children:"Aucun chauffeur assign"})]})]}),h==="communication"&&a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(Sp,{className:"w-6 h-6 text-purple-500"}),"Communication avec les Parents"]}),a.jsxs(ne,{onClick:()=>be(!0),className:"bg-purple-500 hover:bg-purple-600 text-white rounded-xl",children:[a.jsx(m0,{className:"w-4 h-4 mr-2"}),"Nouveau message"]})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4 mb-6",children:a.jsxs("p",{className:"text-sm text-purple-800",children:[a.jsx("strong",{children:" Astuce:"})," Envoyez des notifications groupes pour informer tous les parents d'un bus, ou des messages personnaliss  un parent spcifique."]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-4",children:[a.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Messages envoys"}),a.jsx("p",{className:"text-2xl font-bold text-purple-800",children:V.length})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-4",children:[a.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Parents notifis"}),a.jsx("p",{className:"text-2xl font-bold text-purple-800",children:fe.length})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-4",children:[a.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"lves concerns"}),a.jsx("p",{className:"text-2xl font-bold text-purple-800",children:l.length})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Historique des messages"}),a.jsx("div",{className:"space-y-3",children:V.length>0?V.slice(0,20).map(W=>a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 hover:bg-gray-100 transition-colors relative",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"flex-1 pr-12",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:W.titre}),a.jsx("p",{className:"text-sm text-gray-600 mt-1 whitespace-pre-wrap",children:W.message}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[a.jsx("p",{className:"text-xs font-semibold text-gray-800 mb-2",children:"Destinataire :"}),W.tuteur_nom||W.tuteur_prenom?a.jsxs("div",{className:"bg-white rounded-lg p-3 space-y-2",children:[(W.tuteur_prenom||W.tuteur_nom)&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xt,{className:"w-4 h-4 text-purple-600"}),a.jsxs("span",{className:"text-sm font-medium text-gray-800",children:[W.tuteur_prenom||""," ",W.tuteur_nom||""]})]}),W.tuteur_telephone&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bs,{className:"w-4 h-4 text-purple-600"}),a.jsx("span",{className:"text-sm text-gray-700",children:W.tuteur_telephone})]}),W.tuteur_email&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Io,{className:"w-4 h-4 text-purple-600"}),a.jsx("span",{className:"text-sm text-gray-700",children:W.tuteur_email})]})]}):a.jsx("div",{className:"bg-gray-100 rounded-lg p-3",children:a.jsx("p",{className:"text-xs text-gray-500 italic",children:"Informations du destinataire non disponibles"})})]})]}),a.jsx("button",{onClick:()=>We({show:!0,messageId:W.id}),className:"absolute top-4 right-4 p-2 hover:bg-red-100 rounded-lg text-red-600 hover:text-red-700 transition-colors",title:"Supprimer ce message",children:a.jsx(Wr,{className:"w-5 h-5"})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:Oe(new Date(W.date||new Date),"dd MMMM yyyy  HH:mm")})]},W.id)):a.jsxs("div",{className:"text-center py-8 text-gray-400",children:[a.jsx(Sp,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"Aucun message envoy"}),a.jsx("p",{className:"text-xs mt-1",children:"Les messages que vous envoyez aux parents apparatront ici"})]})})]})]})]})]}),h==="accidents"&&a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gradient-to-r from-red-50 to-rose-50",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(tt,{className:"w-6 h-6 text-red-500"}),"Historique des Accidents",a.jsxs("span",{className:"ml-3 text-sm font-normal text-gray-500",children:["(",z.length,")"]})]}),a.jsxs(ne,{onClick:()=>F(!0),className:"bg-red-500 hover:bg-red-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all",children:[a.jsx(Aa,{className:"w-4 h-4 mr-2"}),"Dclarer un accident"]})]}),z.length===0?a.jsx("div",{className:"p-12 text-center",children:a.jsxs(te.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},children:[a.jsx(it,{className:"w-16 h-16 mx-auto text-purple-300 mb-4"}),a.jsx("p",{className:"text-gray-500 font-medium",children:"Aucun accident enregistr"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Continuez  tre vigilant !"})]})}):a.jsx("div",{className:"p-6 space-y-4",children:a.jsx(en,{children:z.map((W,ge)=>{let L=[];try{W.photos&&(Array.isArray(W.photos)?L=W.photos:typeof W.photos=="string"&&(L=JSON.parse(W.photos)))}catch(ce){console.error("Erreur parsing photos:",ce)}const ie=k===W.id,le={Grave:{bg:"bg-red-50",border:"border-red-200",text:"text-red-700",badge:"bg-red-100 text-red-700",icon:"text-red-500"},Moyenne:{bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-700",badge:"bg-orange-100 text-orange-700",icon:"text-orange-500"},Lgre:{bg:"bg-purple-50",border:"border-purple-200",text:"text-purple-700",badge:"bg-purple-100 text-purple-700",icon:"text-purple-500"}},Z=le[W.gravite]||le.Lgre;return a.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:ge*.05},className:`${Z.bg} ${Z.border} border-2 rounded-2xl shadow-md hover:shadow-lg transition-all overflow-hidden`,children:a.jsxs("div",{className:"p-5",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${Z.bg} ${Z.icon}`,children:a.jsx(bo,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${Z.badge} border ${Z.border}`,children:W.gravite}),W.statut&&a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${W.statut==="Trait"?"bg-green-100 text-green-700":W.statut==="En cours"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:W.statut})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mt-1",children:[a.jsx(vs,{className:"w-4 h-4"}),a.jsxs("span",{children:[W.date?Oe(new Date(W.date),"dd MMMM yyyy",{locale:kr}):"Date inconnue",W.heure&&`  ${W.heure}`]})]})]})]}),a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>K(ie?null:W.id),className:"text-gray-500 hover:text-gray-700",children:ie?a.jsx(Ke,{className:"w-4 h-4"}):a.jsx(_a,{className:"w-4 h-4"})})]}),a.jsx("p",{className:`font-semibold ${Z.text} mb-4 text-base leading-relaxed`,children:W.description}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[W.lieu&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Ot,{className:"w-4 h-4 text-gray-400"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-xs",children:"Lieu"}),a.jsx("p",{className:"font-medium text-gray-800",children:W.lieu})]})]}),W.bus_numero&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(rt,{className:"w-4 h-4 text-gray-400"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-xs",children:"Bus"}),a.jsx("p",{className:"font-medium text-gray-800",children:W.bus_numero})]})]}),W.nombre_eleves!==null&&W.nombre_eleves!==void 0&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Zt,{className:"w-4 h-4 text-gray-400"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-xs",children:"lves"}),a.jsx("p",{className:"font-medium text-gray-800",children:W.nombre_eleves})]})]}),W.nombre_blesses>0&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(tt,{className:"w-4 h-4 text-red-400"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-xs",children:"Blesss"}),a.jsx("p",{className:"font-medium text-red-600",children:W.nombre_blesses})]})]})]}),a.jsx(en,{children:ie&&a.jsx(te.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:a.jsxs("div",{className:"pt-4 border-t border-gray-200 space-y-3",children:[W.degats&&a.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[a.jsx(_a,{className:"w-4 h-4 text-gray-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Dgts: "}),a.jsx("span",{className:"font-medium text-gray-800",children:W.degats})]})]}),W.chauffeur_nom&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(xt,{className:"w-4 h-4 text-gray-400"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Chauffeur: "}),a.jsxs("span",{className:"font-medium text-gray-800",children:[W.chauffeur_prenom," ",W.chauffeur_nom]})]})]}),W.eleves_concernees&&a.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[a.jsx(Zt,{className:"w-4 h-4 text-gray-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"lves concerns: "}),a.jsx("span",{className:"font-medium text-gray-800",children:W.eleves_concernees})]})]})]})})}),L.length>0&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(ts,{className:"w-4 h-4"}),a.jsxs("span",{className:"font-medium",children:["Photos (",L.length,")"]})]})}),a.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-3",children:L.map((ce,ee)=>{const D=typeof ce=="string"?ce:(ce==null?void 0:ce.data)||(ce==null?void 0:ce.src)||ce;return D?a.jsx(te.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative group cursor-pointer",onClick:()=>J(D),children:a.jsxs("div",{className:"relative overflow-hidden rounded-lg border-2 border-gray-200 group-hover:border-purple-400 transition-colors",children:[a.jsx("img",{src:D,alt:`Photo accident ${ee+1}`,className:"w-full h-24 object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:a.jsx(zc,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]})},ee):null})})]})]})},W.id)})})})]}),Y&&a.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>J(null),children:a.jsxs(te.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"relative max-w-5xl max-h-[90vh] w-full",onClick:W=>W.stopPropagation(),children:[a.jsx("button",{onClick:()=>J(null),className:"absolute top-4 right-4 z-10 bg-white/90 hover:bg-white text-gray-800 rounded-full p-2 shadow-lg transition-colors",children:a.jsx(Ke,{className:"w-6 h-6"})}),a.jsx("img",{src:Y,alt:"Photo accident",className:"w-full h-auto rounded-lg shadow-2xl"})]})})]}),X&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-100 bg-gradient-to-r from-red-500 to-rose-500",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(tt,{className:"w-6 h-6"}),"Dclarer un Accident"]}),a.jsx("button",{type:"button",onClick:()=>{M.forEach(W=>URL.revokeObjectURL(W.preview)),re([]),F(!1)},className:"text-white hover:text-red-100 transition-colors",children:a.jsx(Ke,{className:"w-6 h-6"})})]})}),a.jsxs("form",{onSubmit:async W=>{W.preventDefault();try{const ge=M.reduce((de,Re)=>de+Re.file.size,0),L=10*1024*1024;if(ge>L){je("La taille totale des photos dpasse 10 MB. Veuillez rduire le nombre ou la taille des images.","error");return}const ie=await Promise.all(M.map(de=>Ct(de.file))),le=localStorage.getItem("responsable_session"),Z=le?JSON.parse(le):t,ce=(Z==null?void 0:Z.type_id)||(Z==null?void 0:Z.id)||(t==null?void 0:t.type_id)||(t==null?void 0:t.id)||null,ee={date:oe.date,heure:oe.heure,bus_id:(n==null?void 0:n.id)||null,responsable_id:ce,lieu:oe.lieu,description:oe.description,degats:oe.degats||null,gravite:oe.gravite,nombre_eleves:oe.nombre_eleves?parseInt(oe.nombre_eleves):null,nombre_blesses:oe.nombre_blesses?parseInt(oe.nombre_blesses):0,blesses:parseInt(oe.nombre_blesses)>0,photos:ie.length>0?ie:null};await Ia.create(ee),M.forEach(de=>URL.revokeObjectURL(de.preview)),F(!1),re([]),B({date:Oe(new Date,"yyyy-MM-dd"),heure:Oe(new Date,"HH:mm"),lieu:"",description:"",degats:"",gravite:"Lgre",nombre_eleves:"",nombre_blesses:"0"});const D=localStorage.getItem("responsable_session");if(D){const de=JSON.parse(D);await Ie(de)}else await Ie(t);je("Accident dclar avec succs","success")}catch(ge){console.error("Erreur dclaration accident:",ge),je("Erreur lors de la dclaration: "+(ge.message||"Erreur inconnue"),"error")}},className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{children:"Date *"}),a.jsx(ue,{type:"date",value:oe.date,onChange:W=>B({...oe,date:W.target.value}),className:"mt-1 rounded-xl focus:ring-purple-500 focus:border-purple-500",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Heure *"}),a.jsx(ue,{type:"time",value:oe.heure,onChange:W=>B({...oe,heure:W.target.value}),className:"mt-1 rounded-xl focus:ring-purple-500 focus:border-purple-500",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Lieu *"}),a.jsx(ue,{value:oe.lieu,onChange:W=>B({...oe,lieu:W.target.value}),className:"mt-1 rounded-xl focus:ring-purple-500 focus:border-purple-500",placeholder:"Adresse de l'accident",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Gravit *"}),a.jsxs(Te,{value:oe.gravite,onValueChange:W=>B({...oe,gravite:W}),children:[a.jsx(Ee,{className:"mt-1 rounded-xl focus:ring-purple-500 focus:border-purple-500",children:a.jsx(Ce,{})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"Lgre",children:"Lgre"}),a.jsx(U,{value:"Moyenne",children:"Moyenne"}),a.jsx(U,{value:"Grave",children:"Grave"})]})]})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Nombre d'lves dans le bus"}),a.jsx(ue,{type:"number",value:oe.nombre_eleves,onChange:W=>B({...oe,nombre_eleves:W.target.value}),className:"mt-1 rounded-xl focus:ring-purple-500 focus:border-purple-500",min:"0",placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Nombre de blesss"}),a.jsx(ue,{type:"number",value:oe.nombre_blesses,onChange:W=>B({...oe,nombre_blesses:W.target.value}),className:"mt-1 rounded-xl focus:ring-purple-500 focus:border-purple-500",min:"0",placeholder:"0"})]})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Description *"}),a.jsx(ea,{value:oe.description,onChange:W=>B({...oe,description:W.target.value}),className:"mt-1 rounded-xl focus:ring-purple-500 focus:border-purple-500",rows:4,placeholder:"Dcrivez l'accident en dtail...",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Dgts"}),a.jsx(ea,{value:oe.degats,onChange:W=>B({...oe,degats:W.target.value}),className:"mt-1 rounded-xl focus:ring-purple-500 focus:border-purple-500",rows:2,placeholder:"Dcrivez les dgts matriels..."})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Photos (optionnel - max 5 photos, 5 MB chacune)"}),a.jsxs("div",{className:"mt-2",children:[a.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:W=>{const ge=Array.from(W.target.files),L=5-M.length;if(L<=0){je("Vous ne pouvez ajouter que 5 photos maximum","error"),W.target.value="";return}const ie=ge.slice(0,L),le=5*1024*1024,ce=ie.filter(ee=>ee.size>le?(je(`L'image ${ee.name} est trop grande (max 5 MB)`,"error"),!1):!0).map(ee=>({file:ee,preview:URL.createObjectURL(ee)}));re([...M,...ce]),W.target.value=""},className:"hidden",id:"accident-photos-upload"}),a.jsxs("label",{htmlFor:"accident-photos-upload",className:"flex items-center justify-center gap-2 p-4 border-2 border-dashed border-gray-300 rounded-xl cursor-pointer hover:border-purple-500 hover:bg-purple-50 transition-colors",children:[a.jsx(ts,{className:"w-5 h-5 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Cliquez pour ajouter des photos"})]}),M.length>0&&a.jsx("div",{className:"mt-4 grid grid-cols-3 gap-3",children:M.map((W,ge)=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:W.preview,alt:`Photo ${ge+1}`,className:"w-full h-24 object-cover rounded-xl border border-gray-200"}),a.jsx("button",{type:"button",onClick:()=>{URL.revokeObjectURL(W.preview),re(M.filter((L,ie)=>ie!==ge))},className:"absolute top-1 right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(Wr,{className:"w-4 h-4"})})]},ge))})]})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[a.jsxs(ne,{type:"button",variant:"outline",onClick:()=>F(!1),className:"rounded-xl border-purple-500 text-purple-600 hover:bg-purple-50 focus:ring-purple-500",children:[a.jsx(Ke,{className:"w-4 h-4 mr-2"}),"Annuler"]}),a.jsxs(ne,{type:"submit",className:"bg-red-500 hover:bg-red-600 text-white rounded-xl",children:[a.jsx(tt,{className:"w-4 h-4 mr-2"}),"Dclarer l'accident"]})]})]})]})}),we&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-100 bg-gradient-to-r from-purple-500 to-purple-600",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(Sp,{className:"w-6 h-6"}),"Envoyer un Message aux Parents"]}),a.jsx("button",{onClick:()=>be(!1),className:"text-white hover:text-purple-100 transition-colors",children:a.jsx(Ke,{className:"w-6 h-6"})})]})}),a.jsxs("form",{onSubmit:async W=>{W.preventDefault();try{let ge=[];if($.destinataire==="tous"){const D=await bn.getAll(),Re=((D==null?void 0:D.data)||D||[]).filter(Be=>Be.bus_id===(n==null?void 0:n.id)&&Be.statut==="Active").map(Be=>Be.eleve_id),ze=await kt.getAll();ge=((ze==null?void 0:ze.data)||ze||[]).filter(Be=>Re.includes(Be.id)&&Be.tuteur_id).map(Be=>Be.tuteur_id)}else if($.destinataire==="bus"&&n){const D=await bn.getAll(),Re=((D==null?void 0:D.data)||D||[]).filter(Be=>Be.bus_id===n.id&&Be.statut==="Active").map(Be=>Be.eleve_id),ze=await kt.getAll();ge=((ze==null?void 0:ze.data)||ze||[]).filter(Be=>Re.includes(Be.id)&&Be.tuteur_id).map(Be=>Be.tuteur_id)}else if($.destinataire==="eleve"&&$.eleve_id){const D=l.find(de=>de.id===parseInt($.eleve_id));D&&D.tuteur_id&&(ge=[D.tuteur_id])}const L=ge.map(D=>ut.create({destinataire_id:D,destinataire_type:"tuteur",titre:$.titre,message:$.message,type:$.type,date:new Date().toISOString()}));await Promise.all(L),je(`Message envoy  ${ge.length} parent(s) avec succs !`,"success"),be(!1),ae({destinataire:"tous",bus_id:null,eleve_id:null,titre:"",message:"",type:"info"});const ie=(t==null?void 0:t.type_id)||(t==null?void 0:t.id),le=await ut.getByUser(ie,"responsable"),Z=(le==null?void 0:le.data)||le||[];m(Z.sort((D,de)=>new Date(de.date||0)-new Date(D.date||0)));const ce=await ut.getSentByResponsable(ie),ee=(ce==null?void 0:ce.data)||ce||[];me(ee.sort((D,de)=>new Date(de.date||0)-new Date(D.date||0)))}catch(ge){console.error("Erreur envoi message:",ge),je("Erreur lors de l'envoi: "+(ge.message||"Erreur inconnue"),"error")}},className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx(Q,{children:"Destinataire *"}),a.jsxs(Te,{value:$.destinataire,onValueChange:W=>ae({...$,destinataire:W,bus_id:null,eleve_id:null}),children:[a.jsx(Ee,{className:"mt-1 rounded-xl focus:ring-purple-500 focus:border-purple-500",children:a.jsx(Ce,{})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"tous",children:"Tous les parents du bus"}),a.jsx(U,{value:"bus",children:"Parents du bus"}),a.jsx(U,{value:"eleve",children:"Parent d'un lve spcifique"})]})]})]}),$.destinataire==="bus"&&n&&a.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-3",children:a.jsxs("p",{className:"text-sm text-purple-800",children:[a.jsx("strong",{children:"Bus slectionn:"})," Bus ",n.numero]})}),$.destinataire==="eleve"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(Q,{children:"Slectionner un lve *"}),a.jsxs(Te,{value:((on=$.eleve_id)==null?void 0:on.toString())||"",onValueChange:W=>ae({...$,eleve_id:parseInt(W)}),children:[a.jsx(Ee,{className:"mt-1 rounded-xl focus:ring-purple-500 focus:border-purple-500",children:a.jsx(Ce,{placeholder:"Choisir un lve"})}),a.jsx(Pe,{children:l.map(W=>a.jsxs(U,{value:W.id.toString(),children:[W.nom," ",W.prenom]},W.id))})]})]}),$.eleve_id&&(()=>{const W=l.find(le=>le.id===$.eleve_id);if(!W||!W.tuteur_id)return null;const ge=fe.find(le=>le.id===W.tuteur_id),L=ge?`${ge.prenom||""} ${ge.nom||""}`.trim():"Non disponible",ie=(ge==null?void 0:ge.telephone)||W.telephone_parent||"Non disponible";return a.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:a.jsx(xt,{className:"w-5 h-5 text-purple-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Tuteur"}),a.jsx("p",{className:"text-base font-semibold text-gray-800",children:L}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(bs,{className:"w-4 h-4 text-purple-500"}),a.jsx("p",{className:"text-sm text-gray-600",children:ie})]})]})]})})})()]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Type de message *"}),a.jsxs(Te,{value:$.type,onValueChange:W=>ae({...$,type:W}),children:[a.jsx(Ee,{className:"mt-1 rounded-xl focus:ring-purple-500 focus:border-purple-500",children:a.jsx(Ce,{})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"info",children:"Information"}),a.jsx(U,{value:"alerte",children:"Alerte"}),a.jsx(U,{value:"urgence",children:"Urgence"})]})]})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Titre *"}),a.jsx(ue,{value:$.titre,onChange:W=>ae({...$,titre:W.target.value}),className:"mt-1 rounded-xl focus:ring-purple-500 focus:border-purple-500",placeholder:"Ex: Retard du bus, Changement d'horaires...",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{children:"Message *"}),a.jsx(ea,{value:$.message,onChange:W=>ae({...$,message:W.target.value}),className:"mt-1 rounded-xl focus:ring-purple-500 focus:border-purple-500",rows:6,placeholder:"Rdigez votre message aux parents...",required:!0})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[a.jsxs(ne,{type:"button",variant:"outline",onClick:()=>be(!1),className:"rounded-xl border-purple-500 text-purple-600 hover:bg-purple-50 focus:ring-purple-500",children:[a.jsx(Ke,{className:"w-4 h-4 mr-2"}),"Annuler"]}),a.jsxs(ne,{type:"submit",className:"bg-purple-500 hover:bg-purple-600 text-white rounded-xl",children:[a.jsx(m0,{className:"w-4 h-4 mr-2"}),"Envoyer"]})]})]})]})}),a.jsx(QI,{isOpen:p,onClose:()=>v(!1),notifications:d,onMarkAsRead:et,onDelete:async W=>{try{await ut.delete(W),m(ge=>ge.filter(L=>L.id!==W))}catch(ge){console.error("Erreur lors de la suppression de la notification:",ge)}}}),Se.show&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[100] p-4",children:a.jsxs(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx(tt,{className:"w-6 h-6 text-red-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Confirmer la suppression"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Cette action est irrversible"})]})]}),a.jsx("p",{className:"text-gray-700 mb-6",children:"tes-vous sr de vouloir supprimer ce message ?"}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx(ne,{onClick:()=>We({show:!1,messageId:null}),variant:"outline",className:"rounded-xl border-gray-300 text-gray-700 hover:bg-gray-50",children:"Annuler"}),a.jsxs(ne,{onClick:async()=>{try{await ut.delete(Se.messageId),me(W=>W.filter(ge=>ge.id!==Se.messageId)),We({show:!1,messageId:null}),je("Message supprim avec succs","success")}catch(W){console.error("Erreur suppression message:",W),je("Erreur lors de la suppression: "+(W.message||"Erreur inconnue"),"error"),We({show:!1,messageId:null})}},className:"bg-red-500 hover:bg-red-600 text-white rounded-xl",children:[a.jsx(Wr,{className:"w-4 h-4 mr-2"}),"Supprimer"]})]})]})}),a.jsx(en,{children:ve&&a.jsxs(te.div,{initial:{opacity:0,y:-50,x:"-50%"},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:`fixed top-4 left-1/2 transform -translate-x-1/2 z-[100] ${$e==="success"?"bg-green-500":$e==="error"?"bg-red-500":"bg-purple-500"} text-white px-6 py-4 rounded-xl shadow-2xl flex items-center gap-3 min-w-[300px] max-w-[500px]`,children:[$e==="success"?a.jsx(it,{className:"w-5 h-5 flex-shrink-0"}):$e==="error"?a.jsx(Ke,{className:"w-5 h-5 flex-shrink-0"}):a.jsx(aa,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("p",{className:"flex-1 font-medium",children:ve}),a.jsx("button",{onClick:()=>De(null),className:"text-white/80 hover:text-white transition-colors",children:a.jsx(Ke,{className:"w-4 h-4"})})]})})]})}function qR(){const e=nt(),[t,r]=_.useState(!1),[n,i]=_.useState(""),s=async l=>{r(!0),i("");try{const c=await na.login(l.email,l.password,"tuteur");c.success?(c.token&&localStorage.setItem("token",c.token),na.saveUser(c.user),localStorage.setItem("tuteur_session",JSON.stringify(c.user)),e(ke("TuteurDashboard"))):i(c.message||"Identifiants incorrects")}catch(c){console.error("Erreur de connexion:",c),i("Erreur de connexion. Veuillez vrifier vos identifiants.")}r(!1)},o=()=>{e(ke("TuteurRegister"))};return a.jsx(rh,{title:"Espace Tuteur",icon:Zt,onLogin:s,onRegister:o,showRegister:!0,loading:t,error:n})}function GR({tuteur:e,notifications:t=[],onLogout:r}){var p,v;const n=nt(),i=Bn(),[s,o]=_.useState(!1),[l,c]=_.useState(!1);_.useEffect(()=>{const g=()=>{window.innerWidth>=1024&&c(!1)};return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]);const u=[{title:"Dashboard",icon:CP,link:"TuteurDashboard",path:"/TuteurDashboard"},{title:"Inscrire un lve",icon:Gm,link:"TuteurInscription",path:"/TuteurInscription"},{title:"Mes Demandes",icon:_a,link:"TuteurDemandes",path:"/TuteurDemandes"},{title:"Notifications",icon:aa,link:"TuteurNotifications",path:"/TuteurNotifications"},{title:"Profil",icon:xt,link:"TuteurProfile",path:"/TuteurProfile"}],f=g=>{g.path?n(g.path):n(ke(g.link)),c(!1)},d=g=>i.pathname===g||i.pathname.startsWith(g+"/"),m=t.filter(g=>!g.lue).length;return a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>c(!l),className:"lg:hidden fixed top-4 left-4 z-50 p-2 bg-lime-500 text-white rounded-xl shadow-lg hover:bg-lime-600 transition-colors",children:l?a.jsx(Ke,{className:"w-6 h-6"}):a.jsx(Lo,{className:"w-6 h-6"})}),a.jsx(en,{children:l&&a.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>c(!1),className:"lg:hidden fixed inset-0 bg-black/50 z-40"})}),a.jsxs(te.aside,{initial:!1,animate:{width:s?"80px":"280px",x:l?0:typeof window<"u"&&window.innerWidth<1024?"-100%":0},transition:{duration:.3,ease:"easeInOut"},className:`
          fixed left-0 top-0 h-full bg-gradient-to-b from-lime-50 to-white
          border-r-2 border-lime-200 shadow-2xl z-40
          flex flex-col
          ${s?"items-center":""}
        `,children:[a.jsx("div",{className:"p-4 border-b border-lime-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[!s&&a.jsxs(te.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-lime-500 to-lime-600 rounded-xl flex items-center justify-center shadow-lg",children:a.jsx(fr,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-bold text-gray-800 text-sm",children:"Espace Tuteur"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Transport Scolaire"})]})]}),s&&a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-lime-500 to-lime-600 rounded-xl flex items-center justify-center shadow-lg mx-auto",children:a.jsx(fr,{className:"w-6 h-6 text-white"})}),a.jsx("button",{onClick:()=>o(!s),className:"hidden lg:block p-2 hover:bg-lime-100 rounded-lg transition-colors text-gray-600 hover:text-lime-600",children:s?a.jsx(Lo,{className:"w-5 h-5"}):a.jsx(Ke,{className:"w-5 h-5"})})]})}),!s&&e&&a.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 border-b border-lime-200",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-lime-500 rounded-full flex items-center justify-center text-white font-bold",children:((p=e.prenom)==null?void 0:p[0])||((v=e.nom)==null?void 0:v[0])||"T"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"font-semibold text-gray-800 text-sm truncate",children:[e.prenom," ",e.nom]}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.email})]})]})}),a.jsx("nav",{className:"flex-1 overflow-y-auto py-4 px-2",children:a.jsx("div",{className:"space-y-1",children:u.map((g,w)=>{const x=d(g.path),y=g.icon;let h=0;g.link==="TuteurNotifications"&&(h=m);const N=h>0;return a.jsxs(te.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:w*.05},onClick:()=>f(g),className:`
                    w-full flex items-center gap-3 px-4 py-3 rounded-xl
                    transition-all duration-200
                    ${x?"bg-gradient-to-r from-lime-500 to-lime-600 text-white shadow-lg":"text-gray-700 hover:bg-lime-100 hover:text-lime-700"}
                    ${s?"justify-center":""}
                  `,title:s?g.title:"",children:[a.jsxs("div",{className:"relative",children:[a.jsx(y,{className:`w-5 h-5 ${x?"text-white":"text-gray-600"}`}),N&&a.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-bold",children:h>99?"99+":h})]}),!s&&a.jsx("span",{className:"font-medium text-sm flex-1 text-left",children:g.title})]},g.link)})})}),a.jsx("div",{className:"p-4 border-t border-lime-200 space-y-2",children:a.jsxs(te.button,{onClick:r,className:`
              w-full flex items-center gap-3 px-4 py-3 rounded-xl
              text-red-600 hover:bg-red-50 transition-all
              ${s?"justify-center":""}
            `,title:s?"Dconnexion":"",children:[a.jsx(cs,{className:"w-5 h-5"}),!s&&a.jsx("span",{className:"font-medium text-sm",children:"Dconnexion"})]})})]}),a.jsx("div",{className:`
          hidden lg:block transition-all duration-300
          ${s?"ml-[80px]":"ml-[280px]"}
        `})]})}function KR({children:e,title:t="Espace Tuteur"}){const r=nt(),n=Bn(),[i,s]=_.useState(null),[o,l]=_.useState([]),[c,u]=_.useState(!0);_.useEffect(()=>{const m=localStorage.getItem("tuteur_session");if(!m){r(ke("TuteurLogin"));return}const p=JSON.parse(m);s(p),f(p.id),u(!1)},[r]),_.useEffect(()=>{i&&n.pathname==="/TuteurNotifications"&&f(i.id)},[n.pathname,i]),_.useEffect(()=>{if(!i)return;const m=async()=>{await f(i.id)};m();const p=setInterval(m,3e4);return()=>clearInterval(p)},[i]);const f=async m=>{try{const p=await ut.getByUser(m,"tuteur"),v=(p==null?void 0:p.data)||p||[];l(v.sort((g,w)=>new Date(w.date||w.date_creation||0)-new Date(g.date||g.date_creation||0)))}catch(p){console.warn("Erreur lors du chargement des notifications:",p),l([])}},d=()=>{localStorage.removeItem("tuteur_session"),localStorage.removeItem("token"),localStorage.removeItem("user"),r(ke("Home"))};return c?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"w-12 h-12 border-4 border-lime-500 border-t-transparent rounded-full animate-spin"})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-lime-50 via-white to-lime-50",children:[a.jsx(GR,{tuteur:i,notifications:o,onLogout:d}),a.jsx("main",{className:"lg:ml-[280px] min-h-screen p-4 md:p-8",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})}function YR(){var Ie;const e=nt(),[t,r]=_.useState(null),[n,i]=_.useState([]),[s,o]=_.useState([]),[l,c]=_.useState(!0),[u,f]=_.useState("all"),[d,m]=_.useState("eleves"),[p,v]=_.useState(!1),[g,w]=_.useState(null),[x,y]=_.useState(""),[h,N]=_.useState(!1),[j,b]=_.useState(""),[S,P]=_.useState([]),[A,E]=_.useState(!1),[O,C]=_.useState(!1),[T,R]=_.useState(!1),[z,G]=_.useState(null),[X,F]=_.useState(null),[Y,J]=_.useState(""),[k,K]=_.useState({zone:"",type_transport:"",abonnement:""}),[oe,B]=_.useState([]),[M,re]=_.useState(""),[we,be]=_.useState("");_.useEffect(()=>{const H=localStorage.getItem("tuteur_session");if(!H){e(ke("TuteurLogin"));return}const ve=JSON.parse(H);r(ve);const De=ve.type_id||ve.id;ae(De,ve.id),$()},[e]);const $=async()=>{try{const H=await ya.getAll(),ve=(H==null?void 0:H.data)||H||[];B(Array.isArray(ve)?ve:[])}catch(H){console.error("Erreur lors du chargement des zones:",H)}},ae=async(H,ve)=>{var De,$e,Qe,je,Ct;c(!0);try{const[qe,Le,pt,et,pr]=await Promise.allSettled([kt.getAll(),ut.getByUser(ve,"tuteur"),qt.getAll(),bn.getAll(),Hm.getByTuteur(H)]),da=qe.status==="fulfilled"?Array.isArray((De=qe.value)==null?void 0:De.data)?qe.value.data:Array.isArray(qe.value)?qe.value:[]:[],Ga=Le.status==="fulfilled"?Array.isArray(($e=Le.value)==null?void 0:$e.data)?Le.value.data:Array.isArray(Le.value)?Le.value:[]:[],rr=pt.status==="fulfilled"?Array.isArray((Qe=pt.value)==null?void 0:Qe.data)?pt.value.data:Array.isArray(pt.value)?pt.value:[]:[],on=et.status==="fulfilled"?Array.isArray((je=et.value)==null?void 0:je.data)?et.value.data:Array.isArray(et.value)?et.value:[]:[],W=pr.status==="fulfilled"?Array.isArray((Ct=pr.value)==null?void 0:Ct.data)?pr.value.data:Array.isArray(pr.value)?pr.value:[]:[],ge=Array.isArray(da)?da.filter(le=>le.tuteur_id===H):[];P(Array.isArray(W)?W:[]);const L=Array.isArray(rr)?rr.filter(le=>le.type_demande==="inscription"&&le.tuteur_id===H):[],ie=ge.map(le=>{const Z=L.filter(D=>D.eleve_id===le.id).sort((D,de)=>new Date(de.date_creation||0)-new Date(D.date_creation||0))[0],ce=Array.isArray(on)?on.find(D=>D.eleve_id===le.id&&(D.statut==="Active"||D.statut==="Dsabonn")):null;let ee=null;if(ce)ce.statut==="Dsabonn"?ee="Dsabonn":ee="Inscrit";else if(Z){const D=Z.statut||"En attente";D==="En attente"?ee="En cours de traitement":D==="Valide"||D==="En attente de paiement"?ee="En attente de paiement":D==="Refuse"?ee="Refuse":ee=D}else ee="En cours de traitement";return{...le,demande_inscription:Z,inscription:ce,statut_demande:ee}});i(ie),o(Ga.sort((le,Z)=>new Date(Z.date||Z.date_creation||0)-new Date(le.date||le.date_creation||0)))}catch(qe){console.error("Erreur lors du chargement:",qe)}finally{c(!1),E(!1)}},fe=H=>{const ve="px-4 py-2 rounded-xl text-sm font-medium border";return H==="En cours de traitement"?`${ve} bg-[#64B5F6] text-white border-[#64B5F6]`:H==="Inscrit"?`${ve} bg-[#A5D6A7] text-[#1B5E20] border-[#A5D6A7]`:H==="Dsabonn"?`${ve} bg-[#E57373] text-white border-[#E57373]`:H==="En attente de paiement"?`${ve} bg-orange-100 text-orange-700 border-orange-200`:H==="Paye"?`${ve} bg-amber-100 text-amber-700 border-amber-200`:H==="Refuse"?`${ve} bg-red-100 text-red-700 border-red-200`:H==="En attente"?`${ve} bg-yellow-100 text-yellow-700 border-yellow-200`:`${ve} bg-gray-100 text-gray-700 border-gray-200`},q=async H=>{var ve;if(confirm(`tes-vous sr de vouloir annuler la demande d'inscription de ${H.prenom} ${H.nom}?`))try{(ve=H.demande_inscription)!=null&&ve.id?H.statut_demande==="En cours de traitement"&&await kt.delete(H.id):await kt.delete(H.id);const De=t.type_id||t.id;ae(De,t.id),re("Demande annule avec succs"),setTimeout(()=>re(""),5e3)}catch(De){console.error("Erreur lors de l'annulation:",De),be("Erreur lors de l'annulation de la demande"),setTimeout(()=>be(""),5e3)}},ye=async H=>{if(window.confirm(`tes-vous sr de vouloir supprimer dfinitivement l'inscription de ${H.prenom} ${H.nom} ?`))try{await kt.delete(H.id);const ve=t.type_id||t.id;await ae(ve,t.id),re("Inscription supprime avec succs"),setTimeout(()=>re(""),5e3)}catch(ve){console.error("Erreur lors de la suppression:",ve),be("Erreur lors de la suppression de l'inscription"),setTimeout(()=>be(""),5e3)}},Ne=async()=>{if(!z||!Y.trim()){be("Veuillez saisir la raison du dsabonnement"),setTimeout(()=>be(""),5e3);return}try{be("");const H=t.type_id||t.id;await qt.create({eleve_id:z.id,tuteur_id:H,type_demande:"desinscription",description:JSON.stringify({raison:Y}),statut:"Valide"}),await kt.delete(z.id),re("Dsabonnement effectu avec succs. L'lve a t supprim."),C(!1),G(null),J(""),await ae(H,t.id),setTimeout(()=>re(""),5e3)}catch(H){console.error("Erreur lors du dsabonnement:",H),be("Erreur lors du dsabonnement"),setTimeout(()=>be(""),5e3)}},V=async()=>{if(X){if(!k.zone&&!k.type_transport&&!k.abonnement){be("Veuillez slectionner au moins un lment  modifier"),setTimeout(()=>be(""),5e3);return}try{const H=t.type_id||t.id,ve=X.demande_inscription;let De={};if(ve!=null&&ve.description)try{De=typeof ve.description=="string"?JSON.parse(ve.description):ve.description}catch(Qe){console.warn("Erreur parsing description:",Qe)}const $e={...De,type_transport:k.type_transport||De.type_transport,abonnement:k.abonnement||De.abonnement,zone:k.zone||De.zone};await qt.create({eleve_id:X.id,tuteur_id:H,type_demande:"modification",zone_geographique:k.zone||(ve==null?void 0:ve.zone_geographique),description:JSON.stringify($e),statut:"En attente"}),re("Demande de modification envoye avec succs"),R(!1),F(null),K({zone:"",type_transport:"",abonnement:""}),await ae(H,t.id),setTimeout(()=>re(""),5e3)}catch(H){console.error("Erreur lors de la demande de changement:",H),be("Erreur lors de l'envoi de la demande de modification"),setTimeout(()=>be(""),5e3)}}},me=n.filter(H=>H.statut_demande!=="Refuse"),Se=n.filter(H=>H.statut_demande==="Refuse"),We=me.filter(H=>u==="all"?!0:u==="inscrit"?H.statut_demande==="Inscrit":u==="en_attente"?H.statut_demande==="En attente de paiement":u==="en_traitement"?H.statut_demande==="En cours de traitement":!0);return s.filter(H=>!H.lue).length,l?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"w-12 h-12 border-4 border-lime-500 border-t-transparent rounded-full animate-spin"})}):a.jsxs(a.Fragment,{children:[M&&a.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl flex items-center justify-between gap-2 text-green-700 shadow-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(it,{className:"w-5 h-5"}),a.jsx("span",{children:M})]}),a.jsx("button",{onClick:()=>re(""),className:"text-green-600 hover:text-green-800 transition-colors",children:a.jsx(Ir,{className:"w-5 h-5"})})]}),we&&a.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-center justify-between gap-2 text-red-600 shadow-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tt,{className:"w-5 h-5"}),a.jsx("span",{children:we})]}),a.jsx("button",{onClick:()=>be(""),className:"text-red-600 hover:text-red-800 transition-colors",children:a.jsx(Ir,{className:"w-5 h-5"})})]}),a.jsx(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-xl p-6 mb-8",children:a.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-lime-400 to-lime-500 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Zt,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-800",children:["Bienvenue, ",t==null?void 0:t.prenom," ",t==null?void 0:t.nom]}),a.jsx("p",{className:"text-gray-500",children:t==null?void 0:t.email})]})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(xn,{title:"Mes Enfants",value:n.length,icon:fr,color:"lime"}),a.jsx(xn,{title:"En attente",value:n.filter(H=>H.statut_demande==="En cours de traitement"||H.statut_demande==="En attente").length,icon:vs,color:"orange"}),a.jsx(xn,{title:"Inscrits",value:n.filter(H=>H.statut_demande==="Inscrit"||H.statut_demande==="En attente de paiement").length,icon:it,color:"green"}),a.jsx(xn,{title:"Total Paiements",value:`${S.filter(H=>H.statut==="Pay").reduce((H,ve)=>H+(parseFloat(ve.montant)||0),0).toFixed(2)} DH`,icon:br,color:"blue"})]}),a.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-6",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-2 flex gap-2 flex-wrap",children:[a.jsxs(ne,{onClick:()=>m("eleves"),className:`rounded-xl px-6 py-3 transition-all font-semibold ${d==="eleves"?"bg-lime-500 hover:bg-lime-600 text-white border-2 border-lime-600 shadow-md":"bg-lime-500 hover:bg-lime-600 text-white border-2 border-lime-600 opacity-75 hover:opacity-100"}`,children:[a.jsx(fr,{className:"w-5 h-5 mr-2"}),"Mes Enfants"]}),a.jsxs(ne,{onClick:()=>m("historique"),className:`rounded-xl px-6 py-3 transition-all font-semibold ${d==="historique"?"bg-lime-500 hover:bg-lime-600 text-white border-2 border-lime-600 shadow-md":"bg-lime-500 hover:bg-lime-600 text-white border-2 border-lime-600 opacity-75 hover:opacity-100"}`,children:[a.jsx(Ir,{className:"w-5 h-5 mr-2"}),"Demandes refuses (",Se.length,")"]}),a.jsxs(ne,{onClick:()=>m("paiements"),className:`rounded-xl px-6 py-3 transition-all font-semibold ${d==="paiements"?"bg-lime-500 hover:bg-lime-600 text-white border-2 border-lime-600 shadow-md":"bg-lime-500 hover:bg-lime-600 text-white border-2 border-lime-600 opacity-75 hover:opacity-100"}`,children:[a.jsx(br,{className:"w-5 h-5 mr-2"}),"Paiements"]})]})}),d==="eleves"&&a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-3xl shadow-xl overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-100",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(fr,{className:"w-6 h-6 text-lime-500"}),"Mes Enfants"]}),a.jsxs(Te,{value:u,onValueChange:f,children:[a.jsx(Ee,{className:"w-48 rounded-xl",children:a.jsx(Ce,{})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"all",children:"Tous les lves"}),a.jsx(U,{value:"inscrit",children:"Inscrits"}),a.jsx(U,{value:"en_attente",children:"En attente de paiement"}),a.jsx(U,{value:"en_traitement",children:"En cours de traitement"})]})]})]})}),We.length===0?a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(fr,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Aucun lve inscrit pour le moment"}),a.jsx(eo,{to:ke("TuteurInscription"),children:a.jsx(ne,{className:"mt-4 bg-lime-500 hover:bg-lime-600 text-white rounded-xl",children:"Inscrire un lve"})})]}):a.jsx("div",{className:"divide-y divide-gray-100",children:We.map((H,ve)=>{var De;return a.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*ve},className:"p-6 hover:bg-lime-50/50 transition-colors",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-14 h-14 rounded-2xl bg-blue-100 flex items-center justify-center",children:a.jsx(fr,{className:"w-7 h-7 text-blue-500"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold text-gray-800 text-lg",children:[H.nom," ",H.prenom]}),a.jsxs("div",{className:"flex flex-wrap gap-2 mt-1 text-sm text-gray-500",children:[a.jsx("span",{children:H.classe}),H.adresse&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsxs("span",{children:[H.adresse.substring(0,30),"..."]})]})]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsx("span",{className:fe(H.statut_demande),children:H.statut_demande}),a.jsx(eo,{to:ke(`TuteurEleveDetails?eleveId=${H.id}`),children:a.jsxs(ne,{className:"rounded-xl bg-lime-500 hover:bg-lime-600 text-white border-2 border-lime-600",children:[a.jsx(ia,{className:"w-4 h-4 mr-2"}),"Dtails"]})}),(H.statut_demande==="En cours de traitement"||H.statut_demande==="En attente")&&a.jsxs(a.Fragment,{children:[a.jsx(eo,{to:ke("TuteurDemandes"),children:a.jsxs(ne,{className:"rounded-xl bg-lime-500 hover:bg-lime-600 text-white border-2 border-lime-600",children:[a.jsx(La,{className:"w-4 h-4 mr-2"}),"Modifier"]})}),a.jsxs(ne,{onClick:()=>q(H),className:"rounded-xl bg-lime-500 hover:bg-lime-600 text-white border-2 border-lime-600",children:[a.jsx(Ir,{className:"w-4 h-4 mr-2"}),"Annuler"]})]}),H.statut_demande==="En attente de paiement"&&((De=H.demande_inscription)==null?void 0:De.id)&&a.jsxs(ne,{onClick:()=>{w(H),v(!0),y(""),b("")},className:"bg-gradient-to-r from-lime-600 to-lime-600 hover:from-lime-700 hover:to-lime-700 text-white rounded-xl font-semibold shadow-md",children:[a.jsx(br,{className:"w-4 h-4 mr-2"}),"Payer"]}),H.statut_demande==="Inscrit"&&a.jsxs(a.Fragment,{children:[a.jsxs(ne,{onClick:()=>{G(H),C(!0),J("")},className:"rounded-xl text-white border-2",style:{backgroundColor:"#E57373",borderColor:"#E57373"},onMouseEnter:$e=>$e.target.style.backgroundColor="#EF5350",onMouseLeave:$e=>$e.target.style.backgroundColor="#E57373",children:[a.jsx(cs,{className:"w-4 h-4 mr-2"}),"Dsabonnement"]}),a.jsxs(ne,{onClick:()=>{F(H),R(!0);const $e=H.demande_inscription;let Qe={};if($e!=null&&$e.description)try{Qe=typeof $e.description=="string"?JSON.parse($e.description):$e.description}catch(je){console.warn("Erreur parsing description:",je)}K({zone:"",type_transport:Qe.type_transport||"",abonnement:Qe.abonnement||""})},className:"rounded-xl text-white border-2",style:{backgroundColor:"#4CAF50",borderColor:"#4CAF50"},onMouseEnter:$e=>$e.target.style.backgroundColor="#45a049",onMouseLeave:$e=>$e.target.style.backgroundColor="#4CAF50",children:[a.jsx(_p,{className:"w-4 h-4 mr-2"}),"Demande de changement"]})]})]})]})},H.id)})})]}),d==="historique"&&a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-3xl shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(Ir,{className:"w-6 h-6 text-lime-500"}),"Demandes Refuses"]}),a.jsxs("p",{className:"text-gray-500 mt-1",children:[Se.length," demande(s) refuse(s)"]})]}),Se.length===0?a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(Ir,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Aucune demande refuse"})]}):a.jsx("div",{className:"divide-y divide-gray-100",children:Se.map((H,ve)=>{var De;return a.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*ve},className:"p-6 hover:bg-red-50/50 transition-colors",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-14 h-14 rounded-2xl bg-red-100 flex items-center justify-center",children:a.jsx(Ir,{className:"w-7 h-7 text-red-500"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold text-gray-800 text-lg",children:[H.nom," ",H.prenom]}),a.jsxs("div",{className:"flex flex-wrap gap-2 mt-1 text-sm text-gray-500",children:[a.jsx("span",{children:H.classe}),H.adresse&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsxs("span",{children:[H.adresse.substring(0,30),"..."]})]})]}),a.jsxs("div",{className:"mt-2",children:[a.jsx("span",{className:"px-3 py-1 rounded-xl text-sm font-medium border border-red-300 bg-red-50 text-red-700",children:"Refuse"}),((De=H.demande_inscription)==null?void 0:De.date_creation)&&a.jsxs("span",{className:"ml-3 text-xs text-gray-500",children:["Le ",new Date(H.demande_inscription.date_creation).toLocaleDateString("fr-FR")]})]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsx(eo,{to:ke(`TuteurEleveDetails?eleveId=${H.id}`),children:a.jsxs(ne,{className:"rounded-xl bg-lime-500 hover:bg-lime-600 text-white border-2 border-lime-600",children:[a.jsx(ia,{className:"w-4 h-4 mr-2"}),"Dtails"]})}),a.jsxs(ne,{onClick:()=>ye(H),className:"rounded-xl bg-lime-500 hover:bg-lime-600 text-white border-2 border-lime-600",children:[a.jsx(Wr,{className:"w-4 h-4 mr-2"}),"Supprimer"]})]})]})},H.id)})})]}),d==="demandes"&&a.jsx(XR,{tuteur:t,eleves:n}),d==="paiements"&&a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-3xl shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(br,{className:"w-6 h-6 text-lime-500"}),"Mes Paiements"]}),a.jsxs("p",{className:"text-gray-500 mt-1",children:["Total: ",S.filter(H=>H.statut==="Pay").reduce((H,ve)=>H+(parseFloat(ve.montant)||0),0).toFixed(2)," DH"]})]}),S.length===0?a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(br,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Aucun paiement enregistr"})]}):a.jsx("div",{className:"divide-y divide-gray-100",children:S.map((H,ve)=>a.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*ve},className:"p-6 hover:bg-lime-50/50 transition-colors",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center ${H.type_paiement==="initial"?"bg-blue-100":"bg-green-100"}`,children:a.jsx(br,{className:`w-7 h-7 ${H.type_paiement==="initial"?"text-blue-500":"text-green-500"}`})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold text-gray-800 text-lg",children:[H.eleve_prenom," ",H.eleve_nom]}),a.jsxs("div",{className:"flex flex-wrap gap-2 mt-1 text-sm text-gray-500",children:[a.jsx("span",{children:H.eleve_classe||"N/A"}),H.bus_numero&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsxs("span",{children:["Bus ",H.bus_numero]})]}),H.date_paiement&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsx("span",{children:new Date(H.date_paiement).toLocaleDateString("fr-FR")})]})]}),a.jsxs("div",{className:"mt-2 flex gap-2",children:[a.jsx("span",{className:`px-3 py-1 rounded-xl text-xs font-medium ${H.type_paiement==="initial"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:H.type_paiement==="initial"?"Paiement initial":`Mois ${H.mois}/${H.annee}`}),a.jsx("span",{className:`px-3 py-1 rounded-xl text-xs font-medium border ${H.statut==="Pay"?"bg-green-100 text-green-700 border-green-200":"bg-yellow-100 text-yellow-700 border-yellow-200"}`,children:H.statut})]})]})]}),a.jsx("div",{className:"flex items-center",children:a.jsxs("span",{className:"text-2xl font-bold text-lime-600",children:[parseFloat(H.montant||0).toFixed(2)," DH"]})})]})},H.id))})]}),p&&g&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-2xl max-w-md w-full overflow-hidden",children:[a.jsx("div",{className:"p-6 bg-gradient-to-r from-lime-600 to-lime-600",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[a.jsx(br,{className:"w-6 h-6"}),"Paiement"]}),a.jsx("button",{onClick:()=>{v(!1),w(null),y(""),b("")},className:"text-white/80 hover:text-white transition-colors",children:a.jsx(Ir,{className:"w-6 h-6"})})]})}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"bg-lime-50 rounded-xl p-4 mb-6 border border-lime-200",children:a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"lve:"}),a.jsxs("span",{className:"font-semibold",children:[g.prenom," ",g.nom]})]}),((Ie=g.demande_inscription)==null?void 0:Ie.montant_facture)&&a.jsxs("div",{className:"flex justify-between pt-2 border-t border-lime-200",children:[a.jsx("span",{className:"text-gray-700 font-medium",children:"Montant:"}),a.jsxs("span",{className:"text-lg font-bold text-lime-700",children:[parseFloat(g.demande_inscription.montant_facture).toFixed(2)," DH"]})]})]})}),a.jsx("div",{className:"bg-blue-50 rounded-xl p-4 mb-6 border border-blue-200",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Instructions:"})," Veuillez consulter l'cole pour effectuer le paiement et rcuprer le code de vrification  saisir ci-dessous."]})}),j&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-center gap-2 text-red-600",children:[a.jsx(tt,{className:"w-5 h-5"}),j]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-semibold mb-2 block",children:"Code de vrification (fourni par l'cole)"}),a.jsx(ue,{value:x,onChange:H=>y(H.target.value.toUpperCase()),placeholder:"Entrez le code de vrification",className:"h-12 rounded-xl text-center text-xl tracking-widest font-mono uppercase",maxLength:10,disabled:h,autoFocus:!0})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ne,{type:"button",onClick:()=>{v(!1),w(null),y(""),b("")},className:"flex-1 rounded-xl bg-lime-500 hover:bg-lime-600 text-white border-2 border-lime-600",disabled:h,children:"Annuler"}),a.jsx(ne,{onClick:async()=>{if(!x||x.length<4){b("Veuillez saisir le code de vrification");return}N(!0),b("");try{const H=await qt.verifierCode(g.demande_inscription.id,x);if(!H.success){b(H.message||"Code de vrification incorrect"),N(!1);return}v(!1),w(null),y("");const ve=t.type_id||t.id;await ae(ve,t.id)}catch(H){console.error("Erreur lors de la vrification:",H),b(H.message||"Erreur lors de la vrification du code. Veuillez ressayer.")}N(!1)},disabled:h,className:"flex-1 bg-gradient-to-r from-lime-600 to-lime-600 hover:from-lime-700 hover:to-lime-700 text-white rounded-xl font-semibold",children:h?a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(it,{className:"w-5 h-5 mr-2"}),"Confirmer"]})})]})]})]})]})}),O&&z&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-2xl max-w-lg w-full overflow-hidden",children:[a.jsx("div",{className:"p-6 bg-gradient-to-r from-red-500 to-red-600",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(cs,{className:"w-6 h-6"}),"Dsabonnement"]}),a.jsx("button",{onClick:()=>{C(!1),G(null),J("")},className:"text-white hover:text-red-100 transition-colors",children:a.jsx(Ir,{className:"w-6 h-6"})})]})}),a.jsxs("form",{onSubmit:H=>{H.preventDefault(),Ne()},className:"p-6 space-y-4",children:[a.jsx("div",{className:"bg-red-50 rounded-xl p-4 border border-red-200",children:a.jsxs("p",{className:"text-sm text-red-800",children:[a.jsx("strong",{children:"Attention :"})," Vous tes sur le point de dsabonner ",a.jsxs("strong",{children:[z.prenom," ",z.nom]}),". Cette action est irrversible et supprimera dfinitivement toutes les donnes de l'lve."]})}),a.jsxs("div",{children:[a.jsx(Q,{className:"block text-sm font-medium text-gray-600 mb-1",children:"Raison du dsabonnement *"}),a.jsx(ea,{value:Y,onChange:H=>J(H.target.value),className:"rounded-xl border-2 border-gray-200 focus:border-red-500 min-h-[100px]",placeholder:"Veuillez indiquer la raison du dsabonnement...",required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[a.jsx(ne,{type:"button",onClick:()=>{C(!1),G(null),J("")},className:"rounded-xl bg-gray-500 hover:bg-gray-600 text-white border-2 border-gray-600",children:"Annuler"}),a.jsxs(ne,{type:"submit",className:"rounded-xl bg-red-500 hover:bg-red-600 text-white border-2 border-red-600",children:[a.jsx(cs,{className:"w-4 h-4 mr-2"}),"Confirmer le dsabonnement"]})]})]})]})}),T&&X&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 bg-gradient-to-r from-lime-500 to-lime-600",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(_p,{className:"w-6 h-6"}),"Demande de changement"]}),a.jsx("button",{onClick:()=>{R(!1),F(null),K({zone:"",type_transport:"",abonnement:""})},className:"text-white hover:text-lime-100 transition-colors",children:a.jsx(Ir,{className:"w-6 h-6"})})]})}),a.jsxs("form",{onSubmit:H=>{H.preventDefault(),V()},className:"p-6 space-y-4",children:[a.jsxs("div",{className:"bg-lime-50 rounded-xl p-4 border border-lime-200",children:[a.jsxs("p",{className:"text-sm text-lime-800",children:["Demande de changement pour ",a.jsxs("strong",{children:[X.prenom," ",X.nom]}),"."]}),a.jsx("p",{className:"text-xs text-lime-700 mt-2",children:"Slectionnez uniquement les lments que vous souhaitez modifier."})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"block text-sm font-medium text-gray-600 mb-1",children:"Zone gographique"}),a.jsxs(Te,{value:k.zone,onValueChange:H=>K({...k,zone:H}),children:[a.jsx(Ee,{className:"rounded-xl border-2 border-gray-200 focus:border-lime-500",children:a.jsx(Ce,{placeholder:"Slectionnez une nouvelle zone (optionnel)"})}),a.jsx(Pe,{children:oe.filter(H=>H.actif!==!1).map(H=>a.jsx(U,{value:H.nom,children:H.nom},H.id))})]})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"block text-sm font-medium text-gray-600 mb-1",children:"Type de transport"}),a.jsxs(Te,{value:k.type_transport,onValueChange:H=>K({...k,type_transport:H}),children:[a.jsx(Ee,{className:"rounded-xl border-2 border-gray-200 focus:border-lime-500",children:a.jsx(Ce,{placeholder:"Slectionnez un nouveau type (optionnel)"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"Aller-Retour",children:"Aller-Retour"}),a.jsx(U,{value:"Aller",children:"Aller uniquement"}),a.jsx(U,{value:"Retour",children:"Retour uniquement"})]})]})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"block text-sm font-medium text-gray-600 mb-1",children:"Type d'abonnement"}),a.jsxs(Te,{value:k.abonnement,onValueChange:H=>K({...k,abonnement:H}),children:[a.jsx(Ee,{className:"rounded-xl border-2 border-gray-200 focus:border-lime-500",children:a.jsx(Ce,{placeholder:"Slectionnez un nouveau type d'abonnement (optionnel)"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"Mensuel",children:"Mensuel"}),a.jsx(U,{value:"Annuel",children:"Annuel"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[a.jsx(ne,{type:"button",onClick:()=>{R(!1),F(null),K({zone:"",type_transport:"",abonnement:""})},className:"rounded-xl bg-gray-500 hover:bg-gray-600 text-white border-2 border-gray-600",children:"Annuler"}),a.jsxs(ne,{type:"submit",className:"rounded-xl bg-lime-500 hover:bg-lime-600 text-white border-2 border-lime-600",children:[a.jsx(_p,{className:"w-4 h-4 mr-2"}),"Envoyer la demande"]})]})]})]})})]})}function XR({tuteur:e,eleves:t}){const r=["agdal","(takaddoum-haynahda)","hay riad","temara","medina","hay el fath","hay lmohit","yaakoub al mansour"],[n,i]=_.useState(!1),[s,o]=_.useState(!1),[l,c]=_.useState({eleve_id:"",nouvelle_adresse:"",nouvelle_zone:"",date_demenagement:"",raisons:""}),u=async d=>{d.preventDefault(),i(!0);try{await qt.create({eleve_id:parseInt(l.eleve_id),tuteur_id:e.id,type_demande:"Dmnagement",nouvelle_adresse:l.nouvelle_adresse,nouvelle_zone:l.nouvelle_zone,date_demenagement:l.date_demenagement,raisons:l.raisons,statut:"En attente"}),await ut.create({destinataire_id:1,destinataire_type:"admin",titre:"Nouvelle demande de changement d'adresse/zone",message:`${e.prenom} ${e.nom} a fait une demande de changement d'adresse/zone pour un lve.`,type:"info"}),o(!0),c({eleve_id:"",nouvelle_adresse:"",nouvelle_zone:"",date_demenagement:"",raisons:""}),setTimeout(()=>o(!1),3e3)}catch(m){console.error("Erreur lors de l'envoi de la demande:",m),alert("Erreur lors de l'envoi de la demande")}finally{i(!1)}},f=t.find(d=>d.id===parseInt(l.eleve_id));return a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-xl p-6",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[a.jsx(Fc,{className:"w-6 h-6 text-lime-500"}),"Demande de changement d'adresse / Zone (Dmnagement)"]}),s&&a.jsxs(te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl flex items-center gap-2 text-green-700",children:[a.jsx(it,{className:"w-5 h-5"}),"Demande envoye avec succs !"]}),a.jsxs("form",{onSubmit:u,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium mb-2",children:"Slectionner l'lve"}),a.jsxs(Te,{value:l.eleve_id,onValueChange:d=>c({...l,eleve_id:d}),children:[a.jsx(Ee,{className:"mt-1 h-12 rounded-xl",children:a.jsx(Ce,{placeholder:"Slectionnez un lve"})}),a.jsx(Pe,{children:t.map(d=>a.jsxs(U,{value:d.id.toString(),children:[d.prenom," ",d.nom," - ",d.classe]},d.id))})]})]}),f&&a.jsxs("div",{className:"bg-lime-50 rounded-xl p-4 border border-lime-100",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Informations actuelles"}),a.jsxs("p",{className:"font-medium",children:["Adresse actuelle: ",a.jsx("span",{className:"text-gray-700",children:f.adresse||"Non renseigne"})]})]}),a.jsxs("div",{children:[a.jsxs(Q,{className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:[a.jsx(Ot,{className:"w-4 h-4 text-lime-500"}),"Nouvelle adresse"]}),a.jsx(ue,{value:l.nouvelle_adresse,onChange:d=>c({...l,nouvelle_adresse:d.target.value}),className:"mt-1 h-12 rounded-xl",placeholder:"Nouvelle adresse complte",required:!0})]}),a.jsxs("div",{children:[a.jsxs(Q,{className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:[a.jsx(Ot,{className:"w-4 h-4 text-lime-500"}),"Nouvelle zone"]}),a.jsxs(Te,{value:l.nouvelle_zone,onValueChange:d=>c({...l,nouvelle_zone:d}),children:[a.jsx(Ee,{className:"mt-1 h-12 rounded-xl",children:a.jsx(Ce,{placeholder:"Slectionnez la nouvelle zone"})}),a.jsx(Pe,{children:r.map(d=>a.jsx(U,{value:d,children:d},d))})]})]}),a.jsxs("div",{children:[a.jsxs(Q,{className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:[a.jsx(Mr,{className:"w-4 h-4 text-lime-500"}),"Date de dmnagement"]}),a.jsx(ue,{type:"date",value:l.date_demenagement,onChange:d=>c({...l,date_demenagement:d.target.value}),className:"mt-1 h-12 rounded-xl",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium mb-2",children:"Raisons / Justification"}),a.jsx(ea,{value:l.raisons,onChange:d=>c({...l,raisons:d.target.value}),className:"mt-1 rounded-xl min-h-[120px]",placeholder:"Expliquez les raisons du dmnagement...",required:!0})]}),a.jsx(ne,{type:"submit",disabled:n||!l.eleve_id,className:"w-full h-12 bg-gradient-to-r from-lime-500 to-lime-500 hover:from-lime-600 hover:to-lime-600 text-white rounded-xl",children:n?a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Envoyer la demande"})]})]})}function JR(){return a.jsx(KR,{children:a.jsx(YR,{})})}function ZR(){const e=nt(),[t,r]=_.useState(!1),[n,i]=_.useState(""),[s,o]=_.useState(!1),[l,c]=_.useState({nom:"",prenom:"",email:"",telephone:"",mot_de_passe:"",confirm_password:"",adresse:""}),u=(d,m)=>{c(p=>({...p,[d]:m}))},f=async d=>{if(d.preventDefault(),i(""),l.mot_de_passe!==l.confirm_password){i("Les mots de passe ne correspondent pas");return}if(l.mot_de_passe.length<6){i("Le mot de passe doit contenir au moins 6 caractres");return}r(!0);try{const{confirm_password:m,adresse:p,...v}=l;v.role="tuteur";const g=await na.register(v);g.success?e(ke("TuteurLogin")):i(g.message||"Erreur lors de la cration du compte")}catch(m){console.error("Erreur lors de l'inscription:",m);const p=m.message||"";p.toLowerCase().includes("email")||p.toLowerCase().includes("dj")?i("Un compte existe dj avec cet email"):i(p||"Erreur lors de la cration du compte. Veuillez ressayer.")}r(!1)};return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-amber-50 via-white to-yellow-50",children:a.jsx(te.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.5},className:"w-full max-w-lg",children:a.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 border border-amber-100",children:[a.jsxs("button",{onClick:()=>e(ke("TuteurLogin")),className:"flex items-center gap-2 text-gray-500 hover:text-amber-600 mb-6 transition-colors",children:[a.jsx(Kt,{className:"w-4 h-4"}),"Retour  la connexion"]}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-amber-400 to-yellow-500 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:a.jsx(Zt,{className:"w-10 h-10 text-white"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Crer un compte"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Inscription Espace Tuteur"})]}),n&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm text-center",children:n}),a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:"Nom"}),a.jsx(ue,{value:l.nom,onChange:d=>u("nom",d.target.value),className:"mt-1 h-11 rounded-xl border-gray-200",placeholder:"Votre nom",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:"Prnom"}),a.jsx(ue,{value:l.prenom,onChange:d=>u("prenom",d.target.value),className:"mt-1 h-11 rounded-xl border-gray-200",placeholder:"Votre prnom",required:!0})]})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:"Email"}),a.jsx(ue,{type:"email",value:l.email,onChange:d=>u("email",d.target.value),className:"mt-1 h-11 rounded-xl border-gray-200",placeholder:"exemple@email.com",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:"Tlphone"}),a.jsx(ue,{value:l.telephone,onChange:d=>u("telephone",d.target.value),className:"mt-1 h-11 rounded-xl border-gray-200",placeholder:"06XXXXXXXX",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:"Adresse"}),a.jsx(ue,{value:l.adresse,onChange:d=>u("adresse",d.target.value),className:"mt-1 h-11 rounded-xl border-gray-200",placeholder:"Votre adresse"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:"Mot de passe"}),a.jsx("div",{className:"relative mt-1",children:a.jsx(ue,{type:s?"text":"password",value:l.mot_de_passe,onChange:d=>u("mot_de_passe",d.target.value),className:"h-11 rounded-xl border-gray-200",placeholder:"",required:!0,minLength:6})})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:"Confirmer"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx(ue,{type:s?"text":"password",value:l.confirm_password,onChange:d=>u("confirm_password",d.target.value),className:"h-11 rounded-xl border-gray-200",placeholder:"",required:!0,minLength:6}),a.jsx("button",{type:"button",onClick:()=>o(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s?a.jsx(yf,{className:"w-4 h-4"}):a.jsx(ia,{className:"w-4 h-4"})})]})]})]}),a.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Le mot de passe doit contenir au moins 6 caractres"}),a.jsx(ne,{type:"submit",disabled:t,className:"w-full h-12 bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-600 hover:to-yellow-600 text-white rounded-xl font-semibold shadow-lg mt-6",children:t?a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(Gm,{className:"w-5 h-5 mr-2"}),"Crer mon compte"]})})]}),a.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:["Vous avez dj un compte ?"," ",a.jsx("button",{onClick:()=>e(ke("TuteurLogin")),className:"text-amber-600 hover:text-amber-700 font-medium",children:"Se connecter"})]})]})})})}function QR(){const e=nt(),[t,r]=_.useState(!1),[n,i]=_.useState(!1),[s,o]=_.useState(""),[l,c]=_.useState(null),[u,f]=_.useState({nom:"",prenom:"",email:"",telephone:"",adresse:""});_.useEffect(()=>{const p=localStorage.getItem("tuteur_session");if(!p){e(ke("TuteurLogin"));return}const v=JSON.parse(p);c(v.id),f({nom:v.nom||"",prenom:v.prenom||"",email:v.email||"",telephone:v.telephone||"",adresse:v.adresse||""})},[e]);const d=(p,v)=>{f(g=>({...g,[p]:v}))},m=async p=>{var v,g;p.preventDefault(),r(!0),o(""),i(!1);try{const w=await ki.update(l,u);if(!w.success)throw new Error(w.message||"Erreur lors de la mise  jour");const x=JSON.parse(localStorage.getItem("tuteur_session")),y={...x,...w.data||u,...x.type_id?{type_id:x.type_id}:{}};localStorage.setItem("tuteur_session",JSON.stringify(y)),i(!0),setTimeout(()=>i(!1),3e3)}catch(w){console.error("Erreur lors de la mise  jour:",w);const x=((g=(v=w.response)==null?void 0:v.data)==null?void 0:g.message)||w.message||"Erreur lors de la mise  jour du profil. Veuillez ressayer.";o(x)}finally{r(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-lime-50 via-white to-lime-50 p-4 md:p-8",children:a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-xl p-8",children:[a.jsxs("button",{onClick:()=>e(ke("TuteurDashboard")),className:"flex items-center gap-2 text-gray-500 hover:text-lime-600 mb-6 transition-colors",children:[a.jsx(Kt,{className:"w-4 h-4"}),"Retour au tableau de bord"]}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-lime-400 to-lime-500 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:a.jsx(Zt,{className:"w-10 h-10 text-white"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Mon Profil"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Modifiez vos informations personnelles"})]}),n&&a.jsxs(te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl flex items-center gap-2 text-green-700",children:[a.jsx(it,{className:"w-5 h-5"}),"Profil mis  jour avec succs !"]}),s&&a.jsxs(te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-center gap-2 text-red-600",children:[a.jsx(tt,{className:"w-5 h-5"}),s]}),a.jsxs("form",{onSubmit:m,className:"space-y-5",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:"Nom"}),a.jsx(ue,{value:u.nom,onChange:p=>d("nom",p.target.value),className:"mt-1 h-12 rounded-xl",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:"Prnom"}),a.jsx(ue,{value:u.prenom,onChange:p=>d("prenom",p.target.value),className:"mt-1 h-12 rounded-xl",required:!0})]})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:"Email"}),a.jsx(ue,{type:"email",value:u.email,onChange:p=>d("email",p.target.value),className:"mt-1 h-12 rounded-xl",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:"Tlphone"}),a.jsx(ue,{value:u.telephone,onChange:p=>d("telephone",p.target.value),className:"mt-1 h-12 rounded-xl",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:"Adresse"}),a.jsx(ue,{value:u.adresse,onChange:p=>d("adresse",p.target.value),className:"mt-1 h-12 rounded-xl"})]}),a.jsx(ne,{type:"submit",disabled:t,className:"w-full h-12 bg-gradient-to-r from-lime-500 to-lime-600 hover:from-lime-600 hover:to-lime-700 text-white rounded-xl font-semibold shadow-lg mt-4",children:t?a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(js,{className:"w-5 h-5 mr-2"}),"Enregistrer les modifications"]})})]})]})})})}const _v=(e,t)=>{const r=e==="Aller-Retour"?400:250;return t==="Annuel"?r*10:r},eB=(e,t)=>{const r=_v(e,t);return t==="Mensuel"?`${r} DH/mois`:`${r} DH/an`},P0=e=>{try{const t=typeof e=="string"?JSON.parse(e):e;return{type_transport:(t==null?void 0:t.type_transport)||"Aller-Retour",abonnement:(t==null?void 0:t.abonnement)||"Mensuel",groupe:(t==null?void 0:t.groupe)||null,zone:(t==null?void 0:t.zone)||null,niveau:(t==null?void 0:t.niveau)||null,lien_parente:(t==null?void 0:t.lien_parente)||null,sexe:(t==null?void 0:t.sexe)||null}}catch(t){return console.warn("Erreur parsing description:",t),{type_transport:"Aller-Retour",abonnement:"Mensuel",groupe:null,zone:null,niveau:null,lien_parente:null,sexe:null}}},tB=async()=>{const e=await fetch("http://localhost/backend/api/utilisateurs/getAdmins.php");return e.ok?await e.json():{success:!1,data:[]}};function rB(){const e=nt(),[t,r]=_.useState(!1),[n,i]=_.useState(""),[s,o]=_.useState(null),[l,c]=_.useState(1),[u,f]=_.useState({nom:"",prenom:"",date_naissance:"",sexe:"",classe:"",niveau:"",ville:"",zone:"",adresse:"",lien_parente:"",lien_parente_custom:"",type_transport:"",abonnement:"",groupe:""}),d=["Rabat","Sal","Temara"],[m,p]=_.useState([]),[v,g]=_.useState([]),w={Primaire:["1AP","2AP","3AP","4AP","5AP","6AP"],Collge:["1AC","2AC","3AC"],Lyce:["TC","1BAC","2BAC"]},x=u.niveau?w[u.niveau]||[]:[];_.useEffect(()=>{const b=localStorage.getItem("tuteur_session");if(!b){e(ke("TuteurLogin"));return}o(JSON.parse(b)),y()},[e]),_.useEffect(()=>{if(u.ville){const b=m.filter(S=>S.ville===u.ville&&S.actif!==!1);g(b),u.zone&&!b.some(S=>S.nom===u.zone)&&f(S=>({...S,zone:""}))}else g([]),f(b=>({...b,zone:""}))},[u.ville,m]);const y=async()=>{try{const b=await ya.getAll(),S=(b==null?void 0:b.data)||b||[];p(Array.isArray(S)?S:[])}catch(b){console.error("Erreur lors du chargement des zones:",b)}},h=(b,S)=>{f(P=>({...P,[b]:S}))},N=async b=>{var S;b.preventDefault(),r(!0),i("");try{if(!u.nom||!u.prenom||!u.classe||!u.ville||!u.zone||!u.adresse){i("Veuillez remplir tous les champs obligatoires"),r(!1);return}if(!u.type_transport||!u.abonnement||!u.groupe){i("Veuillez remplir tous les champs de transport"),r(!1);return}const P=s.type_id||s.id,A={nom:u.nom,prenom:u.prenom,date_naissance:u.date_naissance||null,adresse:u.adresse,telephone_parent:s.telephone,email_parent:s.email,classe:u.classe,tuteur_id:P,statut:"Inactif"},E=await kt.create(A);if(!E||!E.success||!E.data){const R=(E==null?void 0:E.message)||"Erreur lors de la cration de l'lve";throw console.error("Erreur cration lve:",E),new Error(R)}const O=E.data,C=u.lien_parente==="Autre"?u.lien_parente_custom.trim():u.lien_parente,T=await qt.create({eleve_id:O.id,tuteur_id:P,type_demande:"inscription",zone_geographique:u.zone,description:JSON.stringify({type_transport:u.type_transport,abonnement:u.abonnement,groupe:u.groupe,zone:u.zone,niveau:u.niveau,lien_parente:C,sexe:u.sexe}),statut:"En attente"});if(!T||!T.success){const R=(T==null?void 0:T.message)||"Erreur lors de la cration de la demande";throw console.error("Erreur cration demande:",T),new Error(R)}try{await ut.create({destinataire_id:s.id,destinataire_type:"tuteur",titre:"Inscription envoye",message:`L'inscription de ${u.prenom} ${u.nom} a t envoye et est en attente de validation.`,type:"info"})}catch(R){console.warn("Erreur notification tuteur:",R)}try{const R=await tB();if(R.success&&R.data&&R.data.length>0){const z=R.data.map(G=>ut.create({destinataire_id:G.id,destinataire_type:"admin",titre:"Nouvelle demande d'inscription",message:`Nouvelle demande d'inscription pour ${u.prenom} ${u.nom} de ${s.prenom} ${s.nom}`,type:"info"}));await Promise.all(z)}}catch(R){console.warn("Impossible de rcuprer les admins pour la notification:",R)}setTimeout(()=>{e(ke("TuteurDashboard"))},500)}catch(P){console.error("Erreur lors de l'inscription:",P);const A=P.message||((S=P.response)==null?void 0:S.message)||"Erreur lors de l'envoi de l'inscription. Veuillez ressayer.";i(A),r(!1)}finally{r(!1)}},j=[{num:1,title:"Infos Tuteur",icon:xt},{num:2,title:"Infos lve",icon:fr},{num:3,title:"Transport",icon:rt}];return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-lime-50 via-white to-lime-50 p-4 md:p-8",children:a.jsx("div",{className:"max-w-3xl mx-auto",children:a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"p-6 bg-gradient-to-r from-lime-500 to-lime-600",children:[a.jsxs("button",{onClick:()=>e(ke("TuteurDashboard")),className:"flex items-center gap-2 text-white/80 hover:text-white mb-4 transition-colors",children:[a.jsx(Kt,{className:"w-4 h-4"}),"Retour"]}),a.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[a.jsx(Gm,{className:"w-7 h-7"}),"Inscription d'un lve"]})]}),a.jsx("div",{className:"p-6 border-b border-gray-100",children:a.jsx("div",{className:"flex justify-between",children:j.map((b,S)=>a.jsxs("div",{className:"flex items-center",children:[a.jsxs("div",{className:`flex items-center gap-2 cursor-pointer ${l>=b.num?"text-amber-600":"text-gray-400"}`,onClick:()=>l>b.num&&c(b.num),children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${l>=b.num?"bg-lime-500 text-white":"bg-gray-100 text-gray-400"}`,children:l>b.num?a.jsx(it,{className:"w-5 h-5"}):a.jsx(b.icon,{className:"w-5 h-5"})}),a.jsx("span",{className:"hidden sm:block font-medium",children:b.title})]}),S<j.length-1&&a.jsx("div",{className:`w-12 sm:w-24 h-1 mx-2 rounded ${l>b.num?"bg-lime-500":"bg-gray-200"}`})]},b.num))})}),n&&a.jsx("div",{className:"mx-6 mt-6 p-4 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm",children:n}),a.jsxs("form",{onSubmit:N,className:"p-6",children:[l===1&&a.jsxs(te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[a.jsxs("div",{className:"bg-lime-50 rounded-2xl p-6 border border-lime-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(xt,{className:"w-5 h-5 text-lime-500"}),"Informations du Tuteur"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-600",children:"Nom"}),a.jsx(ue,{value:(s==null?void 0:s.nom)||"",disabled:!0,className:"mt-1 bg-white border-gray-200"})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-600",children:"Prnom"}),a.jsx(ue,{value:(s==null?void 0:s.prenom)||"",disabled:!0,className:"mt-1 bg-white border-gray-200"})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-600",children:"Email"}),a.jsx(ue,{value:(s==null?void 0:s.email)||"",disabled:!0,className:"mt-1 bg-white border-gray-200"})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-600",children:"Tlphone"}),a.jsx(ue,{value:(s==null?void 0:s.telephone)||"",disabled:!0,className:"mt-1 bg-white border-gray-200"})]})]})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:"Lien de parent avec l'lve"}),a.jsxs(Te,{value:u.lien_parente,onValueChange:b=>{h("lien_parente",b),b!=="Autre"&&h("lien_parente_custom","")},children:[a.jsx(Ee,{className:"mt-1 h-12 rounded-xl",children:a.jsx(Ce,{placeholder:"Slectionnez le lien"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"Pre",children:"Pre"}),a.jsx(U,{value:"Mre",children:"Mre"}),a.jsx(U,{value:"Tuteur lgal",children:"Tuteur lgal"}),a.jsx(U,{value:"Grand-pre",children:"Grand-pre"}),a.jsx(U,{value:"Grand-mre",children:"Grand-mre"}),a.jsx(U,{value:"Oncle",children:"Oncle"}),a.jsx(U,{value:"Tante",children:"Tante"}),a.jsx(U,{value:"Frre",children:"Frre"}),a.jsx(U,{value:"Sur",children:"Sur"}),a.jsx(U,{value:"Autre",children:"Autre (prcisez)"})]})]}),u.lien_parente==="Autre"&&a.jsx(ue,{type:"text",placeholder:"Prcisez le lien de parent (ex: cousin, beau-pre, etc.)",value:u.lien_parente_custom,onChange:b=>h("lien_parente_custom",b.target.value),className:"mt-2 h-12 rounded-xl",required:!0})]}),a.jsx(ne,{type:"button",onClick:()=>c(2),disabled:!u.lien_parente||u.lien_parente==="Autre"&&!u.lien_parente_custom.trim(),className:"w-full h-12 bg-gradient-to-r from-lime-500 to-lime-600 hover:from-lime-600 hover:to-lime-700 text-white rounded-xl",children:"Continuer"})]}),l===2&&a.jsxs(te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-5",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[a.jsx(fr,{className:"w-5 h-5 text-lime-500"}),"Informations de l'lve"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:"Nom"}),a.jsx(ue,{value:u.nom,onChange:b=>h("nom",b.target.value),className:"mt-1 h-12 rounded-xl",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:"Prnom"}),a.jsx(ue,{value:u.prenom,onChange:b=>h("prenom",b.target.value),className:"mt-1 h-12 rounded-xl",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:"Date de naissance"}),a.jsx(ue,{type:"date",value:u.date_naissance,onChange:b=>h("date_naissance",b.target.value),className:"mt-1 h-12 rounded-xl"})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:"Sexe"}),a.jsxs(Te,{value:u.sexe,onValueChange:b=>h("sexe",b),children:[a.jsx(Ee,{className:"mt-1 h-12 rounded-xl",children:a.jsx(Ce,{placeholder:"Slectionnez"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"Masculin",children:"Masculin"}),a.jsx(U,{value:"Fminin",children:"Fminin"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:"Niveau"}),a.jsxs(Te,{value:u.niveau,onValueChange:b=>{h("niveau",b),h("classe","")},children:[a.jsx(Ee,{className:"mt-1 h-12 rounded-xl",children:a.jsx(Ce,{placeholder:"Slectionnez"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"Primaire",children:"Primaire"}),a.jsx(U,{value:"Collge",children:"Collge"}),a.jsx(U,{value:"Lyce",children:"Lyce"})]})]})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:"Classe"}),a.jsxs(Te,{value:u.classe,onValueChange:b=>h("classe",b),disabled:!u.niveau,children:[a.jsx(Ee,{className:"mt-1 h-12 rounded-xl",children:a.jsx(Ce,{placeholder:u.niveau?"Slectionnez":"Slectionnez d'abord le niveau"})}),a.jsx(Pe,{children:x.length>0?x.map(b=>a.jsx(U,{value:b,children:b},b)):a.jsx(U,{value:"",disabled:!0,children:"Aucune classe disponible"})})]}),u.niveau&&x.length===0&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:"Niveau non reconnu"})]})]}),a.jsxs("div",{children:[a.jsxs(Q,{className:"text-gray-700 font-medium flex items-center gap-2",children:[a.jsx(Ot,{className:"w-4 h-4 text-lime-500"}),"Ville *"]}),a.jsxs(Te,{value:u.ville,onValueChange:b=>{h("ville",b),h("zone","")},children:[a.jsx(Ee,{className:"mt-1 h-12 rounded-xl",children:a.jsx(Ce,{placeholder:"Slectionnez votre ville"})}),a.jsx(Pe,{children:d.map(b=>a.jsx(U,{value:b,children:b},b))})]})]}),a.jsxs("div",{children:[a.jsxs(Q,{className:"text-gray-700 font-medium flex items-center gap-2",children:[a.jsx(Ot,{className:"w-4 h-4 text-lime-500"}),"Zone gographique *"]}),a.jsxs(Te,{value:u.zone,onValueChange:b=>h("zone",b),disabled:!u.ville||v.length===0,children:[a.jsx(Ee,{className:"mt-1 h-12 rounded-xl",children:a.jsx(Ce,{placeholder:u.ville?"Slectionnez votre zone":"Slectionnez d'abord la ville"})}),a.jsx(Pe,{children:v.length>0?v.map(b=>a.jsx(U,{value:b.nom,children:b.nom},b.id||b.nom)):a.jsx(U,{value:"",disabled:!0,children:u.ville?"Aucune zone disponible":"Slectionnez d'abord la ville"})})]})]}),a.jsxs("div",{children:[a.jsxs(Q,{className:"text-gray-700 font-medium flex items-center gap-2",children:[a.jsx(Ot,{className:"w-4 h-4 text-lime-500"}),"Adresse *"]}),a.jsx(ue,{value:u.adresse,onChange:b=>h("adresse",b.target.value),className:"mt-1 h-12 rounded-xl",placeholder:"Ex: Quartier Hay Riad, Rue Mohammed V, Maison N12",required:!0}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Veuillez entrer le quartier, la rue et le nom/numro de la maison"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ne,{type:"button",variant:"outline",onClick:()=>c(1),className:"flex-1 h-12 rounded-xl",children:"Retour"}),a.jsx(ne,{type:"button",onClick:()=>c(3),disabled:!u.nom||!u.prenom||!u.niveau||!u.classe||!u.ville||!u.zone||!u.adresse,className:"flex-1 h-12 bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-600 hover:to-yellow-600 text-white rounded-xl",children:"Continuer"})]})]}),l===3&&a.jsxs(te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-5",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[a.jsx(rt,{className:"w-5 h-5 text-lime-500"}),"Informations de Transport"]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:"Type de transport"}),a.jsxs(Te,{value:u.type_transport,onValueChange:b=>h("type_transport",b),children:[a.jsx(Ee,{className:"mt-1 h-12 rounded-xl",children:a.jsx(Ce,{placeholder:"Slectionnez"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"Aller",children:"Aller uniquement"}),a.jsx(U,{value:"Retour",children:"Retour uniquement"}),a.jsx(U,{value:"Aller-Retour",children:"Aller-Retour"})]})]})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:"Type d'abonnement"}),a.jsxs(Te,{value:u.abonnement,onValueChange:b=>h("abonnement",b),children:[a.jsx(Ee,{className:"mt-1 h-12 rounded-xl",children:a.jsx(Ce,{placeholder:"Slectionnez"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"Mensuel",children:"Mensuel"}),a.jsx(U,{value:"Annuel",children:"Annuel"})]})]})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:"Groupe horaire"}),a.jsxs(Te,{value:u.groupe,onValueChange:b=>h("groupe",b),children:[a.jsx(Ee,{className:"mt-1 h-12 rounded-xl",children:a.jsx(Ce,{placeholder:"Slectionnez"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"A",children:"Groupe A (Matin: 7h30-8h00 / Soir: 17h00-17h30)"}),a.jsx(U,{value:"B",children:"Groupe B (Matin: 8h00-8h30 / Soir: 17h30-18h00)"})]})]})]}),a.jsxs("div",{className:"bg-lime-50 rounded-2xl p-6 border border-lime-100",children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Rcapitulatif"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Type de transport:"}),a.jsx("span",{className:"font-medium",children:u.type_transport||"-"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Abonnement:"}),a.jsx("span",{className:"font-medium",children:u.abonnement||"-"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Groupe:"}),a.jsx("span",{className:"font-medium",children:u.groupe||"-"})]}),a.jsxs("div",{className:"border-t border-amber-200 pt-2 mt-2 flex justify-between",children:[a.jsx("span",{className:"text-gray-800 font-semibold",children:"Montant estim:"}),a.jsx("span",{className:"font-bold text-amber-600",children:u.type_transport&&u.abonnement?eB(u.type_transport,u.abonnement):"-"})]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ne,{type:"button",variant:"outline",onClick:()=>c(2),className:"flex-1 h-12 rounded-xl",children:"Retour"}),a.jsx(ne,{type:"submit",disabled:t||!u.type_transport||!u.abonnement||!u.groupe,className:"flex-1 h-12 bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-600 hover:to-yellow-600 text-white rounded-xl",children:t?a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(it,{className:"w-5 h-5 mr-2"}),"Envoyer l'inscription"]})})]})]})]})]})})})}function nB(){const e=nt(),[t,r]=_.useState(!1),[n,i]=_.useState(""),[s,o]=_.useState(!1),[l,c]=_.useState(null),[u,f]=_.useState(null),[d,m]=_.useState(null),[p,v]=_.useState("");_.useEffect(()=>{const y=localStorage.getItem("tuteur_session");if(!y){e(ke("TuteurLogin"));return}const h=JSON.parse(y);m(h);const j=new URLSearchParams(window.location.search).get("demandeId");if(j){const b=h.type_id||h.id;g(j,b)}},[e]);const g=async(y,h)=>{try{const N=await qt.getByTuteur(h),b=((N==null?void 0:N.data)||[]).find(S=>S.id===parseInt(y));if(!b){i("Demande non trouve");return}if(b.statut!=="En attente de paiement"&&b.statut!=="Valide"){i("Cette demande n'est pas en attente de paiement");return}if(c(b),b.eleve_id)try{const S=await kt.getById(b.eleve_id);f(S)}catch(S){console.warn("Impossible de charger l'lve:",S)}}catch(N){console.error("Erreur lors du chargement de la demande:",N),i("Impossible de charger les informations de la demande")}},w=()=>{if(l!=null&&l.montant_facture)return parseFloat(l.montant_facture);if(l){const y=P0(l.description);return _v(y.type_transport,y.abonnement)}return 0},x=async y=>{if(y.preventDefault(),i(""),!p||p.length<4){i("Veuillez saisir le code de vrification");return}if(!l){i("Demande non trouve");return}r(!0);try{const h=await qt.verifierCode(l.id,p);if(!h.success){i(h.message||"Code de vrification incorrect"),r(!1);return}o(!0),setTimeout(()=>{e(ke("TuteurDashboard"))},2e3)}catch(h){console.error("Erreur lors de la vrification:",h),i(h.message||"Erreur lors de la vrification du code. Veuillez ressayer.")}r(!1)};return l?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-lime-50 via-white to-lime-50 p-4 md:p-8",children:a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"p-6 bg-gradient-to-r from-lime-500 to-lime-600",children:[a.jsxs("button",{onClick:()=>e(ke("TuteurDashboard")),className:"flex items-center gap-2 text-white/80 hover:text-white mb-4 transition-colors",children:[a.jsx(Kt,{className:"w-4 h-4"}),"Retour"]}),a.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[a.jsx(br,{className:"w-7 h-7"}),"Paiement"]})]}),s?a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(te.div,{initial:{scale:0},animate:{scale:1},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(it,{className:"w-10 h-10 text-green-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Paiement russi !"}),a.jsx("p",{className:"text-gray-500",children:"Redirection vers le tableau de bord..."})]}):a.jsxs("div",{className:"p-6",children:[(()=>{try{const y=typeof l.description=="string"?JSON.parse(l.description):l.description,h=(y==null?void 0:y.taux_reduction)??0,N=(y==null?void 0:y.montant_reduction)??0,j=(y==null?void 0:y.nombre_eleves_total)??0;if(h>0&&N>0){const b=Math.round(h*100);return a.jsxs(te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-green-50 rounded-xl p-4 mb-6 border border-green-200 flex items-center gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx(M4,{className:"w-6 h-6 text-green-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-bold text-green-800 mb-1",children:"Rduction familiale applique !"}),a.jsxs("div",{className:"text-sm text-green-700",children:[j," ",j===1?"lve inscrit":"lves inscrits","  -",b,"% sur ce paiement"]})]}),a.jsxs("div",{className:"flex-shrink-0 text-right",children:[a.jsx("div",{className:"text-xs text-green-600 mb-1",children:"conomie totale"}),a.jsxs("div",{className:"text-2xl font-bold text-green-700",children:[N.toFixed(2)," DH"]})]})]})}return null}catch{return null}})(),a.jsxs("div",{className:"bg-lime-50 rounded-2xl p-6 mb-6 border border-lime-100",children:[a.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(fr,{className:"w-5 h-5 text-lime-500"}),"Facture"]}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"lve:"}),a.jsxs("span",{className:"font-medium",children:[l.eleve_prenom," ",l.eleve_nom]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Classe:"}),a.jsx("span",{className:"font-medium",children:l.eleve_classe||"Non spcifie"})]}),l.zone_geographique&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Zone:"}),a.jsx("span",{className:"font-medium",children:l.zone_geographique})]}),(()=>{const y=typeof l.description=="string"?JSON.parse(l.description):l.description;return a.jsxs(a.Fragment,{children:[(y==null?void 0:y.type_transport)&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Type de transport:"}),a.jsx("span",{className:"font-medium",children:y.type_transport})]}),(y==null?void 0:y.abonnement)&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Abonnement:"}),a.jsx("span",{className:"font-medium",children:y.abonnement})]})]})})(),a.jsxs("div",{className:"border-t border-amber-200 pt-3 flex justify-between",children:[a.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Montant total:"}),a.jsxs("span",{className:"text-2xl font-bold text-amber-600",children:[w().toFixed(2)," DH"]})]})]})]}),a.jsx("div",{className:"bg-blue-50 rounded-2xl p-4 mb-6 border border-blue-100",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Instructions:"})," Veuillez consulter l'cole pour effectuer le paiement et rcuprer le code de vrification  saisir ci-dessous."]})}),n&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-center gap-2 text-red-600",children:[a.jsx(tt,{className:"w-5 h-5"}),n]}),a.jsxs("form",{onSubmit:x,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:"Code de validation (fourni par l'cole)"}),a.jsx(ue,{value:p,onChange:y=>v(y.target.value),placeholder:"Entrez le code de validation",className:"mt-1 h-12 rounded-xl text-center text-2xl tracking-widest font-mono",required:!0}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Ce code vous a t communiqu par l'administration de l'cole"})]}),a.jsx(ne,{type:"submit",disabled:t,className:"w-full h-14 bg-gradient-to-r from-lime-500 to-lime-600 hover:from-lime-600 hover:to-lime-700 text-white rounded-xl font-semibold text-lg shadow-lg",children:t?a.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(br,{className:"w-5 h-5 mr-2"}),"Confirmer le paiement"]})})]})]})]})})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"w-12 h-12 border-4 border-lime-500 border-t-transparent rounded-full animate-spin"})})}const aB="modulepreload",iB=function(e){return"/"+e},d1={},sB=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=iB(c),c in d1)return;d1[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":aB,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((m,p)=>{d.addEventListener("load",m),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};function oB(){const e=nt(),[t,r]=_.useState(null),[n,i]=_.useState(null),[s,o]=_.useState(null),[l,c]=_.useState([]),[u,f]=_.useState(!0);_.useEffect(()=>{if(!localStorage.getItem("tuteur_session")){e(ke("TuteurLogin"));return}const g=new URLSearchParams(window.location.search).get("eleveId");g&&d(g)},[e]);const d=async p=>{try{const v=await kt.getById(p),g=(v==null?void 0:v.data)||v;if(r(g),g){const x=await(await sB(()=>Promise.resolve().then(()=>S4),void 0).then(N=>N.inscriptionsAPI)).getAll(),h=((x==null?void 0:x.data)||x||[]).find(N=>N.eleve_id===parseInt(p)&&N.statut==="Active");if(h&&h.bus_id){const N=await Sr.getById(h.bus_id),j=(N==null?void 0:N.data)||N;if(i(j),j&&j.trajet_id){const b=await Kn.getById(j.trajet_id),S=(b==null?void 0:b.data)||b;o(S)}}try{const N=new Date().toISOString().split("T")[0],j=new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],b=await Wn.getByEleve(p,j,N),S=(b==null?void 0:b.data)||b||[];c(S.sort((P,A)=>new Date(A.date||0)-new Date(P.date||0)))}catch(N){console.warn("Prsences non disponibles:",N),c([])}}}catch(v){console.error("Erreur lors du chargement:",v)}f(!1)};if(u)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"w-12 h-12 border-4 border-lime-500 border-t-transparent rounded-full animate-spin"})});if(!t)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(tt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"lve non trouv"}),a.jsx(ne,{onClick:()=>e(ke("TuteurDashboard")),className:"mt-4 bg-lime-500 hover:bg-lime-600 rounded-xl",children:"Retour au tableau de bord"})]})});const m=p=>({Actif:"bg-green-100 text-green-700",Inactif:"bg-yellow-100 text-yellow-700",Suspendu:"bg-red-100 text-red-700"})[p]||"bg-gray-100 text-gray-700";return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-lime-50 via-white to-lime-50 p-4 md:p-8",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[a.jsxs("button",{onClick:()=>e(ke("TuteurDashboard")),className:"flex items-center gap-2 text-gray-500 hover:text-amber-600 mb-6 transition-colors",children:[a.jsx(Kt,{className:"w-4 h-4"}),"Retour au tableau de bord"]}),a.jsx("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden mb-6",children:a.jsx("div",{className:"p-6 bg-gradient-to-r from-lime-500 to-lime-600",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-20 h-20 rounded-2xl bg-white/20 flex items-center justify-center",children:a.jsx(fr,{className:"w-10 h-10 text-white"})}),a.jsxs("div",{className:"text-white",children:[a.jsxs("h1",{className:"text-2xl font-bold",children:[t.nom," ",t.prenom]}),a.jsx("p",{className:"opacity-90",children:t.classe}),a.jsx("span",{className:`inline-block mt-2 px-3 py-1 rounded-full text-sm font-medium ${m(t.statut)}`,children:t.statut})]})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6",children:[a.jsxs("h2",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(xt,{className:"w-5 h-5 text-lime-500"}),"Informations personnelles"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-500",children:"Classe"}),a.jsx("span",{className:"font-medium",children:t.classe})]}),t.date_naissance&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-500",children:"Date de naissance"}),a.jsx("span",{className:"font-medium",children:Oe(new Date(t.date_naissance),"dd/MM/yyyy")})]}),t.adresse&&a.jsxs("div",{className:"flex justify-between py-2",children:[a.jsx("span",{className:"text-gray-500",children:"Adresse"}),a.jsx("span",{className:"font-medium text-right max-w-[200px]",children:t.adresse})]})]})]}),a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6",children:[a.jsxs("h2",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(rt,{className:"w-5 h-5 text-lime-500"}),"Informations de transport"]}),n?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-lime-50 rounded-2xl p-4 border border-lime-100",children:[a.jsx("p",{className:"text-sm text-lime-600 font-medium",children:"Bus assign"}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:n.numero}),a.jsx("p",{className:"text-sm text-gray-500",children:n.immatriculation})]}),n.marque&&a.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-500",children:"Marque"}),a.jsxs("span",{className:"font-medium",children:[n.marque," ",n.modele]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[a.jsx("span",{className:"text-gray-500",children:"Capacit"}),a.jsxs("span",{className:"font-medium",children:[n.capacite," places"]})]}),s&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100 mb-3",children:[a.jsx("span",{className:"text-gray-500",children:"Trajet"}),a.jsx("span",{className:"font-medium",children:s.nom})]}),s.heure_depart_matin_a&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Horaires:"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-blue-50 rounded-xl p-3",children:[a.jsx("p",{className:"text-xs text-blue-600",children:"Matin"}),a.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:s.heure_depart_matin_a})]}),a.jsxs("div",{className:"bg-orange-50 rounded-xl p-3",children:[a.jsx("p",{className:"text-xs text-orange-600",children:"Soir"}),a.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:s.heure_depart_soir_a})]})]})]})]}),n.chauffeur&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(ew,{className:"w-5 h-5 text-lime-500"}),a.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Chauffeur"})]}),a.jsxs("div",{className:"bg-blue-50 rounded-xl p-3 space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600 text-sm",children:"Nom complet"}),a.jsxs("span",{className:"font-medium text-gray-800",children:[n.chauffeur.prenom," ",n.chauffeur.nom]})]}),n.chauffeur.numero_permis&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600 text-sm",children:"Numro de permis"}),a.jsx("span",{className:"font-medium text-gray-800",children:n.chauffeur.numero_permis})]}),n.chauffeur.telephone&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-gray-600 text-sm flex items-center gap-1",children:[a.jsx(bs,{className:"w-3 h-3"}),"Tlphone"]}),a.jsx("span",{className:"font-medium text-gray-800",children:n.chauffeur.telephone})]})]})]}),n.responsable&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(ew,{className:"w-5 h-5 text-lime-500"}),a.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Responsable"})]}),a.jsxs("div",{className:"bg-purple-50 rounded-xl p-3 space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600 text-sm",children:"Nom complet"}),a.jsxs("span",{className:"font-medium text-gray-800",children:[n.responsable.prenom," ",n.responsable.nom]})]}),n.responsable.zone_responsabilite&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600 text-sm",children:"Zone de responsabilit"}),a.jsx("span",{className:"font-medium text-gray-800",children:n.responsable.zone_responsabilite})]}),n.responsable.telephone&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-gray-600 text-sm flex items-center gap-1",children:[a.jsx(bs,{className:"w-3 h-3"}),"Tlphone"]}),a.jsx("span",{className:"font-medium text-gray-800",children:n.responsable.telephone})]})]})]})]}):a.jsxs("div",{className:"text-center py-8 text-gray-400",children:[a.jsx(rt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"Aucun bus affect"}),a.jsx("p",{className:"text-sm mt-1",children:"L'affectation sera faite aprs validation"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6 mt-6",children:[a.jsxs("h2",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(Mr,{className:"w-5 h-5 text-lime-500"}),"Historique des prsences (7 derniers jours)"]}),l.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-400",children:[a.jsx(vs,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"Aucun historique de prsence"})]}):a.jsx("div",{className:"space-y-2",children:l.slice(0,7).map(p=>a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors",children:[a.jsx("span",{className:"font-medium text-gray-700",children:Oe(new Date(p.date),"EEEE d MMMM",{locale:kr})}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Matin:"}),p.present_matin?a.jsx(it,{className:"w-5 h-5 text-green-500"}):a.jsx(tt,{className:"w-5 h-5 text-red-500"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Soir:"}),p.present_soir?a.jsx(it,{className:"w-5 h-5 text-green-500"}):a.jsx(tt,{className:"w-5 h-5 text-red-500"})]})]})]},p.id))})]})]})})})}const Bp=({className:e="",children:t,...r})=>a.jsx("div",{className:`rounded-2xl bg-white shadow-lg border border-gray-100 ${e}`,...r,children:t});function lB(){const e=nt(),[t,r]=_.useState(!0),[n,i]=_.useState([]),[s,o]=_.useState(null),[l,c]=_.useState(""),[u,f]=_.useState(null),[d,m]=_.useState({}),p={Primaire:["1AP","2AP","3AP","4AP","5AP","6AP"],Collge:["1AC","2AC","3AC"],Lyce:["TC","1BAC","2BAC"]},v=d.niveau?p[d.niveau]||[]:[];_.useEffect(()=>{const b=localStorage.getItem("tuteur_session");if(!b){e(ke("TuteurLogin"));return}const S=JSON.parse(b);o(S);const P=S.type_id||S.id;g(P)},[e]);const g=async b=>{try{r(!0);const S=await qt.getByTuteur(b);if(S.success){const P=(S.data||[]).filter(A=>A.type_demande==="inscription");i(P)}else c("Erreur lors du chargement des demandes")}catch(S){console.error("Erreur:",S),c("Erreur lors du chargement des demandes")}finally{r(!1)}},w=async b=>{if(window.confirm("tes-vous sr de vouloir supprimer cette demande ?"))try{const S=await qt.delete(b);S.success?(await g(s.id),await ut.create({destinataire_id:s.id,destinataire_type:"tuteur",titre:"Demande supprime",message:"Votre demande a t supprime avec succs.",type:"info"})):alert(S.message||"Erreur lors de la suppression")}catch(S){console.error("Erreur:",S),alert("Erreur lors de la suppression de la demande")}},x=async b=>{f(b.id);let S={};if(b.eleve_id)try{const A=await kt.getById(b.eleve_id);(A!=null&&A.success&&A.data||A!=null&&A.data)&&(S=A.data)}catch(A){console.error("Erreur lors du chargement de l'lve:",A)}let P={};if(b.description)try{P=typeof b.description=="string"?JSON.parse(b.description):b.description}catch(A){console.error("Erreur parsing description:",A)}m({nom:b.eleve_nom||S.nom||"",prenom:b.eleve_prenom||S.prenom||"",date_naissance:b.eleve_date_naissance||S.date_naissance||"",sexe:P.sexe||S.sexe||"",classe:b.eleve_classe||S.classe||"",niveau:P.niveau||"",adresse:S.adresse||"",zone_geographique:b.zone_geographique||P.zone||"",type_transport:P.type_transport||"",abonnement:P.abonnement||"",groupe:P.groupe||""})},y=async b=>{try{const S=n.find(E=>E.id===b);if(!S||!S.eleve_id){alert("Erreur: lve introuvable");return}await kt.update(S.eleve_id,{nom:d.nom,prenom:d.prenom,date_naissance:d.date_naissance||null,classe:d.classe,adresse:d.adresse});const P={type_transport:d.type_transport,abonnement:d.abonnement,groupe:d.groupe,zone:d.zone_geographique,niveau:d.niveau,sexe:d.sexe},A=await qt.update(b,{zone_geographique:d.zone_geographique,description:JSON.stringify(P)});A.success?(f(null),await g(s.type_id||s.id),await ut.create({destinataire_id:s.id,destinataire_type:"tuteur",titre:"Demande modifie",message:"Votre demande a t modifie avec succs.",type:"info"})):alert(A.message||"Erreur lors de la modification")}catch(S){console.error("Erreur:",S),alert("Erreur lors de la modification de la demande: "+(S.message||"Erreur inconnue"))}},h=b=>{switch(b){case"En attente":return a.jsx(vs,{className:"w-5 h-5 text-lime-500"});case"En cours de traitement":return a.jsx(_a,{className:"w-5 h-5 text-blue-500"});case"En attente de paiement":return a.jsx(br,{className:"w-5 h-5 text-orange-500"});case"Valide":case"Inscrit":return a.jsx(it,{className:"w-5 h-5 text-green-500"});case"Refuse":return a.jsx(Ir,{className:"w-5 h-5 text-red-500"});default:return a.jsx(vs,{className:"w-5 h-5 text-gray-500"})}},N=b=>{switch(b){case"En attente":return"bg-lime-50 border-lime-200 text-lime-800";case"En cours de traitement":return"bg-blue-50 border-blue-200 text-blue-800";case"En attente de paiement":return"bg-orange-50 border-orange-200 text-orange-800";case"Valide":case"Inscrit":return"bg-green-50 border-green-200 text-green-800";case"Refuse":return"bg-red-50 border-red-200 text-red-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}},j=b=>b?new Date(b).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return t?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-lime-50 via-white to-lime-50 flex items-center justify-center",children:a.jsx("div",{className:"w-12 h-12 border-4 border-lime-500 border-t-transparent rounded-full animate-spin"})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-lime-50 via-white to-lime-50 p-4 md:p-8",children:a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("button",{onClick:()=>e(ke("TuteurDashboard")),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 mb-4 transition-colors",children:[a.jsx(Kt,{className:"w-4 h-4"}),"Retour au tableau de bord"]}),a.jsxs("h1",{className:"text-3xl font-bold text-gray-800 flex items-center gap-3",children:[a.jsx(_a,{className:"w-8 h-8 text-lime-500"}),"Mes Demandes d'Inscription"]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Suivez l'tat de vos demandes d'inscription et grez vos demandes en attente"})]}),l&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl text-red-600 flex items-center gap-2",children:[a.jsx(tt,{className:"w-5 h-5"}),l]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:["En attente","En cours de traitement","En attente de paiement","Inscrit","Refuse"].map(b=>{const S=n.filter(P=>P.statut===b).length;return a.jsxs(Bp,{className:"p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-800",children:S}),a.jsx("div",{className:"text-xs text-gray-600 mt-1",children:b})]},b)})}),n.length===0?a.jsxs(Bp,{className:"p-12 text-center",children:[a.jsx(_a,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Aucune demande"}),a.jsx("p",{className:"text-gray-500 mb-6",children:"Vous n'avez pas encore de demandes d'inscription."}),a.jsx(ne,{onClick:()=>e(ke("TuteurInscription")),className:"bg-gradient-to-r from-lime-500 to-lime-600 hover:from-lime-600 hover:to-lime-700 text-white",children:"Crer une nouvelle demande"})]}):a.jsx("div",{className:"space-y-4",children:n.map(b=>a.jsxs(Bp,{className:"p-6 hover:shadow-lg transition-shadow",children:[a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h(b.statut),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:[b.eleve_prenom," ",b.eleve_nom]}),a.jsx("p",{className:"text-sm text-gray-500",children:b.type_demande==="inscription"?"Demande d'inscription":b.type_demande})]})]}),a.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium mb-4 ${N(b.statut)}`,children:[h(b.statut),b.statut]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[b.zone_geographique&&a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(Ot,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-sm",children:["Zone: ",b.zone_geographique]})]}),b.eleve_classe&&a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(xt,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-sm",children:["Classe: ",b.eleve_classe]})]}),b.bus_numero&&a.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[a.jsx(rt,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-sm font-medium",children:["Bus: ",b.bus_numero]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(Mr,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-sm",children:["Cre le: ",j(b.date_creation)]})]})]}),b.type_transport&&a.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Transport:"})," ",b.type_transport," |",a.jsx("span",{className:"font-medium ml-2",children:"Abonnement:"})," ",b.abonnement," |",a.jsx("span",{className:"font-medium ml-2",children:"Groupe:"})," ",b.groupe]})}),(b.statut==="En attente"||b.statut==="En cours de traitement")&&a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>x(b),className:"flex items-center gap-2",children:[a.jsx(La,{className:"w-4 h-4"}),"Modifier"]}),a.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>w(b.id),className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:border-red-300",children:[a.jsx(Wr,{className:"w-4 h-4"}),"Supprimer"]})]}),b.statut==="En attente de paiement"&&a.jsxs(ne,{onClick:()=>e(ke(`TuteurPaiement?demandeId=${b.id}`)),className:"mt-4 bg-gradient-to-r from-lime-500 to-lime-600 hover:from-lime-600 hover:to-lime-700 text-white",children:[a.jsx(br,{className:"w-4 h-4 mr-2"}),"Payer"]})]})}),u===b.id&&a.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-4",children:"Modifier les informations"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Nom"}),a.jsx(ue,{value:d.nom||"",onChange:S=>m({...d,nom:S.target.value}),className:"rounded-xl",placeholder:"Nom de l'lve"})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Prnom"}),a.jsx(ue,{value:d.prenom||"",onChange:S=>m({...d,prenom:S.target.value}),className:"rounded-xl",placeholder:"Prnom de l'lve"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Date de naissance"}),a.jsx(ue,{type:"date",value:d.date_naissance||"",onChange:S=>m({...d,date_naissance:S.target.value}),className:"rounded-xl"})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Sexe"}),a.jsxs(Te,{value:d.sexe||"",onValueChange:S=>m({...d,sexe:S}),children:[a.jsx(Ee,{className:"rounded-xl",children:a.jsx(Ce,{placeholder:"Slectionnez"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"Masculin",children:"Masculin"}),a.jsx(U,{value:"Fminin",children:"Fminin"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Niveau"}),a.jsxs(Te,{value:d.niveau||"",onValueChange:S=>{m({...d,niveau:S,classe:""})},children:[a.jsx(Ee,{className:"rounded-xl",children:a.jsx(Ce,{placeholder:"Slectionnez"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"Primaire",children:"Primaire"}),a.jsx(U,{value:"Collge",children:"Collge"}),a.jsx(U,{value:"Lyce",children:"Lyce"})]})]})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Classe"}),a.jsxs(Te,{value:d.classe||"",onValueChange:S=>m({...d,classe:S}),disabled:!d.niveau,children:[a.jsx(Ee,{className:"rounded-xl",children:a.jsx(Ce,{placeholder:d.niveau?"Slectionnez":"Slectionnez d'abord le niveau"})}),a.jsx(Pe,{children:v.length>0?v.map(S=>a.jsx(U,{value:S,children:S},S)):a.jsx(U,{value:"",disabled:!0,children:"Aucune classe disponible"})})]})]})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Adresse"}),a.jsx(ue,{value:d.adresse||"",onChange:S=>m({...d,adresse:S.target.value}),className:"rounded-xl",placeholder:"Adresse complte"})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Zone gographique"}),a.jsxs(Te,{value:d.zone_geographique||"",onValueChange:S=>m({...d,zone_geographique:S}),children:[a.jsx(Ee,{className:"rounded-xl",children:a.jsx(Ce,{placeholder:"Slectionnez une zone"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"Medina",children:"Medina"}),a.jsx(U,{value:"Hay Sina",children:"Hay Sina"}),a.jsx(U,{value:"Hay El Fath",children:"Hay El Fath"}),a.jsx(U,{value:"Souissi",children:"Souissi"}),a.jsx(U,{value:"Akkari",children:"Akkari"}),a.jsx(U,{value:"Manal",children:"Manal"}),a.jsx(U,{value:"Agdal",children:"Agdal"}),a.jsx(U,{value:"Nahda-Takkadoum",children:"Nahda-Takkadoum"}),a.jsx(U,{value:"Temara",children:"Temara"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Type de transport"}),a.jsxs(Te,{value:d.type_transport||"",onValueChange:S=>m({...d,type_transport:S}),children:[a.jsx(Ee,{className:"rounded-xl",children:a.jsx(Ce,{placeholder:"Slectionnez"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"Aller",children:"Aller uniquement"}),a.jsx(U,{value:"Retour",children:"Retour uniquement"}),a.jsx(U,{value:"Aller-Retour",children:"Aller-Retour"})]})]})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Type d'abonnement"}),a.jsxs(Te,{value:d.abonnement||"",onValueChange:S=>m({...d,abonnement:S}),children:[a.jsx(Ee,{className:"rounded-xl",children:a.jsx(Ce,{placeholder:"Slectionnez"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"Mensuel",children:"Mensuel"}),a.jsx(U,{value:"Annuel",children:"Annuel"})]})]})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Groupe horaire"}),a.jsxs(Te,{value:d.groupe||"",onValueChange:S=>m({...d,groupe:S}),children:[a.jsx(Ee,{className:"rounded-xl",children:a.jsx(Ce,{placeholder:"Slectionnez"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"A",children:"Groupe A"}),a.jsx(U,{value:"B",children:"Groupe B"})]})]})]})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx(ne,{onClick:()=>y(b.id),className:"flex-1 bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-600 hover:to-yellow-600 text-white rounded-xl",children:"Enregistrer"}),a.jsx(ne,{variant:"outline",onClick:()=>f(null),className:"flex-1 rounded-xl",children:"Annuler"})]})]})]})]},b.id))})]})})})}function cB(){const e=nt(),[t,r]=_.useState(null),[n,i]=_.useState([]),[s,o]=_.useState(!0),[l,c]=_.useState("all"),[u,f]=_.useState("all");_.useEffect(()=>{const h=localStorage.getItem("tuteur_session");if(!h){e(ke("TuteurLogin"));return}const N=JSON.parse(h);r(N),d(N.id)},[e]);const d=async h=>{o(!0);try{const N=await ut.getByUser(h,"tuteur"),b=(Array.isArray(N==null?void 0:N.data)?N.data:Array.isArray(N)?N:[]).sort((S,P)=>{const A=new Date(S.date||S.date_creation||0);return new Date(P.date||P.date_creation||0)-A});i(b)}catch(N){console.error("Erreur lors du chargement des notifications:",N)}finally{o(!1)}},m=async h=>{try{await ut.marquerLue(h),i(N=>N.map(j=>j.id===h?{...j,lue:!0}:j))}catch(N){console.error("Erreur lors de la mise  jour:",N)}},p=async h=>{try{await ut.delete(h),i(N=>N.filter(j=>j.id!==h))}catch(N){console.error("Erreur lors de la suppression:",N)}},v=h=>{if(!h)return"";const N=new Date(h),b=new Date-N,S=Math.floor(b/6e4),P=Math.floor(b/36e5),A=Math.floor(b/864e5);return S<1?" l'instant":S<60?`Il y a ${S} min`:P<24?`Il y a ${P}h`:A<7?`Il y a ${A}j`:N.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})},g=(h,N)=>{const j=(N==null?void 0:N.toLowerCase())||"",b=(h==null?void 0:h.toLowerCase())||"";return b==="alerte"||j.includes("accident")||j.includes("urgent")?a.jsx(tt,{className:"w-5 h-5 text-red-500"}):b==="warning"||j.includes("attention")||j.includes("avertissement")?a.jsx(bo,{className:"w-5 h-5 text-orange-500"}):j.includes("message")||j.includes("contact")?a.jsx(Io,{className:"w-5 h-5 text-blue-500"}):j.includes("rapport")||j.includes("rapports")?a.jsx(_a,{className:"w-5 h-5 text-purple-500"}):b==="success"||j.includes("confirm")||j.includes("valid")?a.jsx(it,{className:"w-5 h-5 text-green-500"}):a.jsx(tv,{className:"w-5 h-5 text-blue-500"})},w=(h,N)=>{const j=(h==null?void 0:h.toLowerCase())||"",b=(N==null?void 0:N.toLowerCase())||"";return j==="alerte"||b.includes("accident")||b.includes("urgent")?"bg-red-50 border-red-200":j==="warning"||b.includes("attention")?"bg-orange-50 border-orange-200":j==="success"||b.includes("confirm")||b.includes("valid")?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200"},x=n.filter(h=>{var N;return!(l==="unread"&&h.lue||l==="read"&&!h.lue||u!=="all"&&((N=h.type)==null?void 0:N.toLowerCase())!==u.toLowerCase())}),y=n.filter(h=>!h.lue).length;return s?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-lime-50 via-white to-lime-50",children:a.jsx("div",{className:"w-12 h-12 border-4 border-lime-500 border-t-transparent rounded-full animate-spin"})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-lime-50 via-white to-lime-50 p-4 md:p-8",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsx(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-xl p-6 mb-8",children:a.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(eo,{to:ke("TuteurDashboard"),children:a.jsxs(ne,{variant:"ghost",size:"sm",className:"rounded-xl",children:[a.jsx(Kt,{className:"w-5 h-5 mr-2"}),"Retour"]})}),a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-lime-400 to-lime-500 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(aa,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Mes Notifications"}),a.jsx("p",{className:"text-gray-500",children:y>0?`${y} notification${y>1?"s":""} non lue${y>1?"s":""}`:"Aucune notification non lue"})]})]})})}),a.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-lg p-4 mb-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Do,{className:"w-4 h-4 inline mr-1"}),"Filtrer par statut"]}),a.jsxs(Te,{value:l,onValueChange:c,children:[a.jsx(Ee,{className:"rounded-xl",children:a.jsx(Ce,{})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"all",children:"Toutes"}),a.jsxs(U,{value:"unread",children:["Non lues (",n.filter(h=>!h.lue).length,")"]}),a.jsxs(U,{value:"read",children:["Lues (",n.filter(h=>h.lue).length,")"]})]})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Do,{className:"w-4 h-4 inline mr-1"}),"Filtrer par type"]}),a.jsxs(Te,{value:u,onValueChange:f,children:[a.jsx(Ee,{className:"rounded-xl",children:a.jsx(Ce,{})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"all",children:"Tous les types"}),a.jsx(U,{value:"info",children:"Informations"}),a.jsx(U,{value:"alerte",children:"Alertes"}),a.jsx(U,{value:"warning",children:"Avertissements"}),a.jsx(U,{value:"success",children:"Succs"})]})]})]})]})}),a.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-4",children:x.length===0?a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-12 text-center",children:[a.jsx(aa,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Aucune notification"}),a.jsx("p",{className:"text-gray-500",children:l==="all"?"Vous n'avez aucune notification pour le moment.":`Aucune notification ${l==="unread"?"non lue":"lue"} trouve.`})]}):x.map((h,N)=>a.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:N*.05},className:`bg-white rounded-2xl shadow-lg overflow-hidden border-l-4 ${h.lue?"border-gray-300 opacity-75":"border-lime-500"} ${w(h.type,h.titre)}`,children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[a.jsx("div",{className:`mt-1 ${h.lue?"opacity-50":""}`,children:g(h.type,h.titre)}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[a.jsx("h3",{className:`font-semibold text-gray-800 ${h.lue?"line-through":""}`,children:h.titre}),!h.lue&&a.jsx("span",{className:"px-2 py-1 bg-lime-500 text-white text-xs font-semibold rounded-full whitespace-nowrap",children:"Nouveau"})]}),a.jsx("p",{className:"text-gray-700 mb-3 whitespace-pre-wrap",children:h.message}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[a.jsx("span",{children:v(h.date||h.date_creation)}),h.type&&a.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-lg text-xs font-medium",children:h.type})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[!h.lue&&a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>m(h.id),className:"rounded-xl text-lime-600 hover:text-lime-700 hover:bg-lime-50",title:"Marquer comme lu",children:a.jsx(it,{className:"w-5 h-5"})}),a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>p(h.id),className:"rounded-xl text-red-500 hover:text-red-600 hover:bg-red-50",title:"Supprimer",children:a.jsx(Wr,{className:"w-5 h-5"})})]})]})})},h.id))})]})})}function uB(){const e=nt(),[t,r]=_.useState(!1),[n,i]=_.useState(""),s=(l,c)=>{var f;if(((f=l==null?void 0:l.response)==null?void 0:f.status)===401||(c==null?void 0:c.status)===401)return"Email ou mot de passe incorrect.";const u=((c==null?void 0:c.message)||(l==null?void 0:l.message)||"").toLowerCase();return u.includes("credentials")||u.includes("invalid")||u.includes("incorrect")?"Email ou mot de passe incorrect.":u.includes("network")||u.includes("fetch")||u.includes("connexion au serveur")?"Impossible de joindre le serveur. Vrifiez votre connexion.":"Email ou mot de passe incorrect."},o=async l=>{r(!0),i("");try{const c=await na.login(l.email,l.password,"admin");c.success?(na.saveUser(c.user),localStorage.setItem("admin_session",JSON.stringify(c.user)),e(ke("AdminDashboard"))):i(s(null,c))}catch(c){console.error("Erreur de connexion:",c),i(s(c,null))}finally{r(!1)}};return a.jsx(rh,{title:"Espace Administrateur",icon:us,onLogin:o,showRegister:!1,loading:t,error:n})}function dB({admin:e,notifications:t=[],newItemsCount:r={inscriptions:0,accidents:0,problemes:0},onLogout:n,onNotificationClick:i}){var g,w;const s=nt(),o=Bn(),[l,c]=_.useState(!1),[u,f]=_.useState(!1);_.useEffect(()=>{const x=()=>{window.innerWidth>=1024&&f(!1)};return window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]);const d=[{title:"Dashboard",icon:us,link:"AdminDashboard",path:"/AdminDashboard"},{title:"Statistiques",icon:EP,link:"AdminStats",path:"/AdminStats"},{title:"lves",icon:fr,link:"AdminEleves",path:"/AdminEleves"},{title:"Inscriptions",icon:f0,link:"AdminInscriptions",path:"/AdminInscriptions"},{title:"Bus",icon:rt,link:"AdminBus",path:"/AdminBus"},{title:"Chauffeur & Responsable Bus",icon:Zt,link:"AdminChauffeurs",path:"/AdminChauffeurs"},{title:"Paiements",icon:br,link:"AdminPaiements",path:"/AdminPaiements"},{title:"Zones",icon:Ot,link:"AdminZones",path:"/AdminZones"},{title:"Accidents",icon:tt,link:"AdminAccidents",path:"/AdminAccidents"},{title:"Problmes",icon:Hn,link:"AdminProblemes",path:"/AdminProblemes"},{title:"Essence",icon:Yr,link:"AdminEssence",path:"/AdminEssence"},{title:"Profil",icon:xt,link:"AdminProfile",path:"/AdminProfile"},{title:"Notifications",icon:aa,link:"AdminNotifications",path:"/AdminNotifications"}],m=x=>{x.path?s(x.path):s(ke(x.link)),f(!1)},p=x=>o.pathname===x||o.pathname.startsWith(x+"/"),v=t.filter(x=>!x.lue).length;return a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>f(!u),className:"lg:hidden fixed top-4 left-4 z-50 p-2 bg-amber-500 text-white rounded-xl shadow-lg hover:bg-amber-600 transition-colors",children:u?a.jsx(Ke,{className:"w-6 h-6"}):a.jsx(Lo,{className:"w-6 h-6"})}),a.jsx(en,{children:u&&a.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>f(!1),className:"lg:hidden fixed inset-0 bg-black/50 z-40"})}),a.jsxs(te.aside,{initial:!1,animate:{width:l?"80px":"280px",x:u?0:typeof window<"u"&&window.innerWidth<1024?"-100%":0},transition:{duration:.3,ease:"easeInOut"},className:`
          fixed left-0 top-0 h-full bg-gradient-to-b from-amber-50 to-white
          border-r-2 border-amber-200 shadow-2xl z-40
          flex flex-col
          ${l?"items-center":""}
        `,children:[a.jsx("div",{className:"p-4 border-b border-amber-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[!l&&a.jsxs(te.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-amber-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-lg",children:a.jsx(us,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-bold text-gray-800 text-sm",children:"Mohammed 5"}),a.jsx("p",{className:"text-xs text-gray-500",children:"School Bus"})]})]}),l&&a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-amber-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-lg mx-auto",children:a.jsx(us,{className:"w-6 h-6 text-white"})}),a.jsx("button",{onClick:()=>c(!l),className:"hidden lg:block p-2 hover:bg-amber-100 rounded-lg transition-colors text-gray-600 hover:text-amber-600",children:l?a.jsx(Lo,{className:"w-5 h-5"}):a.jsx(Ke,{className:"w-5 h-5"})})]})}),!l&&e&&a.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 border-b border-amber-200",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-amber-500 rounded-full flex items-center justify-center text-white font-bold",children:((g=e.prenom)==null?void 0:g[0])||((w=e.nom)==null?void 0:w[0])||"A"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"font-semibold text-gray-800 text-sm truncate",children:[e.prenom," ",e.nom]}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.email})]})]})}),a.jsx("nav",{className:"flex-1 overflow-y-auto py-4 px-2",children:a.jsx("div",{className:"space-y-1",children:d.map((x,y)=>{const h=p(x.path),N=x.icon;let j=0;x.link==="AdminNotifications"?j=v:x.link==="AdminInscriptions"?j=r.inscriptions||0:x.link==="AdminAccidents"?j=r.accidents||0:x.link==="AdminProblemes"&&(j=r.problemes||0);const b=j>0;return a.jsxs(te.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:y*.05},onClick:()=>m(x),className:`
                    w-full flex items-center gap-3 px-4 py-3 rounded-xl
                    transition-all duration-200
                    ${h?"bg-gradient-to-r from-amber-500 to-yellow-500 text-white shadow-lg":"text-gray-700 hover:bg-amber-100 hover:text-amber-700"}
                    ${l?"justify-center":""}
                  `,title:l?x.title:"",children:[a.jsxs("div",{className:"relative",children:[a.jsx(N,{className:`w-5 h-5 ${h?"text-white":"text-gray-600"}`}),b&&a.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-bold",children:j>99?"99+":j})]}),!l&&a.jsx("span",{className:"font-medium text-sm flex-1 text-left",children:x.title})]},x.link)})})}),a.jsx("div",{className:"p-4 border-t border-amber-200 space-y-2",children:a.jsxs(te.button,{onClick:n,className:`
              w-full flex items-center gap-3 px-4 py-3 rounded-xl
              text-red-600 hover:bg-red-50 transition-all
              ${l?"justify-center":""}
            `,title:l?"Dconnexion":"",children:[a.jsx(cs,{className:"w-5 h-5"}),!l&&a.jsx("span",{className:"font-medium text-sm",children:"Dconnexion"})]})})]}),a.jsx("div",{className:`
          hidden lg:block transition-all duration-300
          ${l?"ml-[80px]":"ml-[280px]"}
        `})]})}function Et({children:e,title:t="Administration"}){const r=nt(),n=Bn(),[i,s]=_.useState(null),[o,l]=_.useState([]),[c,u]=_.useState(!0),[f,d]=_.useState({inscriptions:0,accidents:0,problemes:0});_.useEffect(()=>{const g=localStorage.getItem("admin_session");if(!g){r(ke("AdminLogin"));return}const w=JSON.parse(g);s(w),m(w.id),p(),u(!1)},[r]),_.useEffect(()=>{i&&n.pathname==="/AdminNotifications"&&m(i.id)},[n.pathname,i]),_.useEffect(()=>{if(!i)return;const g=async()=>{await m(i.id),await p()};g();const w=setInterval(g,3e4);return()=>clearInterval(w)},[i]);const m=async g=>{try{const w=await ut.getByUser(g,"admin"),x=(w==null?void 0:w.data)||w||[];l(x.sort((y,h)=>new Date(h.date||0)-new Date(y.date||0)))}catch(w){console.warn("Erreur lors du chargement des notifications:",w),l([])}},p=async()=>{try{const g=await qt.getAll(),x=((g==null?void 0:g.data)||g||[]).filter(P=>P.type_demande==="inscription"&&(P.statut==="En attente"||P.statut==="En cours de traitement")).length,y=await Ia.getAll(),N=((y==null?void 0:y.data)||y||[]).filter(P=>P.statut==="En attente").length,j=await Sa.getAll(),S=((j==null?void 0:j.data)||j||[]).filter(P=>P.statut==="En attente"||P.statut==="En cours").length;d({inscriptions:x,accidents:N,problemes:S})}catch(g){console.warn("Erreur lors du chargement des compteurs:",g),d({inscriptions:0,accidents:0,problemes:0})}},v=()=>{localStorage.removeItem("admin_session"),localStorage.removeItem("token"),localStorage.removeItem("user"),r(ke("Home"))};return c?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"w-12 h-12 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-white to-yellow-50",children:[a.jsx(dB,{admin:i,notifications:o,newItemsCount:f,onLogout:v,onNotificationClick:()=>{}}),a.jsx("main",{className:"lg:ml-[280px] min-h-screen p-4 md:p-8",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})}function fB(){return a.jsx(Et,{title:"Tableau de bord",children:a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsxs(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},className:"text-center",children:[a.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-amber-500 to-orange-600 rounded-3xl flex items-center justify-center shadow-xl mx-auto mb-6",children:a.jsx(us,{className:"w-12 h-12 text-white"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Bienvenue dans l'espace administrateur"}),a.jsx("p",{className:"text-gray-500",children:"Utilisez le menu latral pour accder aux diffrentes sections"})]})})})}function mB(){const e=nt(),[t,r]=_.useState([]),[n,i]=_.useState([]),[s,o]=_.useState([]),[l,c]=_.useState([]),[u,f]=_.useState(!0),[d,m]=_.useState("buses"),[p,v]=_.useState(!1),[g,w]=_.useState(!1),[x,y]=_.useState(null),[h,N]=_.useState(null),[j,b]=_.useState(null),[S,P]=_.useState([]),[A,E]=_.useState({numero:"",capacite:"",chauffeur_id:"",responsable_id:"",trajet_id:"",statut:"Actif"}),[O,C]=_.useState({nom:"",zones:[],heure_depart_matin_a:"07:30",heure_arrivee_matin_a:"08:00",heure_depart_soir_a:"17:00",heure_arrivee_soir_a:"17:30",heure_depart_matin_b:"08:00",heure_arrivee_matin_b:"08:30",heure_depart_soir_b:"17:30",heure_arrivee_soir_b:"18:00"});_.useEffect(()=>{R(),T()},[]);const T=async()=>{try{const B=await ya.getAll(),re=((B==null?void 0:B.data)||B||[]).filter(we=>we.actif!==!1).map(we=>we.nom);P(re)}catch(B){console.error("Erreur lors du chargement des zones:",B)}},R=async()=>{f(!0),b(null);try{const[B,M,re,we]=await Promise.all([Sr.getAll(),Kn.getAll(),$n.getAll(),li.getAll()]),be=Array.isArray(B==null?void 0:B.data)?B.data:Array.isArray(B)?B:[],$=Array.isArray(M==null?void 0:M.data)?M.data:Array.isArray(M)?M:[],ae=Array.isArray(re==null?void 0:re.data)?re.data:Array.isArray(re)?re:[],fe=Array.isArray(we==null?void 0:we.data)?we.data:Array.isArray(we)?we:[];r(be),i($),o(ae),c(fe)}catch(B){console.error("Erreur lors du chargement:",B),b("Erreur lors du chargement des donnes")}finally{f(!1)}},z=async B=>{B.preventDefault(),b(null);try{if(A.chauffeur_id){const re=t.find(we=>we.chauffeur_id===parseInt(A.chauffeur_id)&&(!x||we.id!==x.id));if(re){b(`Ce chauffeur est dj affect au bus ${re.numero}. Veuillez d'abord retirer son affectation de ce bus avant de l'affecter  un autre bus.`);return}}if(A.responsable_id){const re=t.find(we=>we.responsable_id===parseInt(A.responsable_id)&&(!x||we.id!==x.id));if(re){b(`Ce responsable est dj affect au bus ${re.numero}. Veuillez d'abord retirer son affectation de ce bus avant de l'affecter  un autre bus.`);return}}const M={numero:A.numero,capacite:parseInt(A.capacite),chauffeur_id:A.chauffeur_id||null,responsable_id:A.responsable_id||null,trajet_id:A.trajet_id||null,statut:A.statut||"Actif"};x?await Sr.update(x.id,M):await Sr.create(M),Y(),await R()}catch(M){console.error("Erreur lors de l'enregistrement:",M),b("Erreur lors de l'enregistrement du bus: "+(M.message||"Erreur inconnue"))}},G=async B=>{B.preventDefault(),b(null);try{if(O.zones.length===0){b("Veuillez slectionner au moins une zone");return}if(O.zones.length>2){b("Vous ne pouvez slectionner au maximum que 2 zones");return}const M={...O,zones:O.zones};h?await Kn.update(h.id,M):await Kn.create(M),J(),await R()}catch(M){console.error("Erreur lors de l'enregistrement:",M),b("Erreur lors de l'enregistrement du trajet")}},X=async B=>{if(confirm("tes-vous sr de vouloir supprimer ce bus ?"))try{await Sr.delete(B),await R()}catch(M){console.error("Erreur lors de la suppression:",M),b("Erreur lors de la suppression du bus")}},F=async B=>{if(confirm("tes-vous sr de vouloir supprimer ce trajet ?"))try{await Kn.delete(B),await R()}catch(M){console.error("Erreur lors de la suppression:",M),b("Erreur lors de la suppression du trajet")}},Y=()=>{E({numero:"",capacite:"",chauffeur_id:"",responsable_id:"",trajet_id:"",statut:"Actif"}),y(null),v(!1)},J=()=>{C({nom:"",zones:[],heure_depart_matin_a:"07:30",heure_arrivee_matin_a:"08:00",heure_depart_soir_a:"17:00",heure_arrivee_soir_a:"17:30",heure_depart_matin_b:"08:00",heure_arrivee_matin_b:"08:30",heure_depart_soir_b:"17:30",heure_arrivee_soir_b:"18:00"}),N(null),w(!1)},k=B=>{var M,re,we,be;E({numero:B.numero||"",capacite:((M=B.capacite)==null?void 0:M.toString())||"",chauffeur_id:((re=B.chauffeur_id)==null?void 0:re.toString())||"",responsable_id:((we=B.responsable_id)==null?void 0:we.toString())||"",trajet_id:((be=B.trajet_id)==null?void 0:be.toString())||"",statut:B.statut||"Actif"}),y(B),v(!0)},K=B=>{let M=[];Array.isArray(B.zones)?M=B.zones:typeof B.zones=="string"&&B.zones.trim()&&(M=B.zones.split(",").map(re=>re.trim()).filter(re=>re)),C({...B,zones:M}),N(B),w(!0)},oe=B=>{b(null),O.zones.includes(B)?C({...O,zones:O.zones.filter(M=>M!==B)}):O.zones.length<2&&C({...O,zones:[...O.zones,B]})};return u?a.jsx(Et,{children:a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsx("div",{className:"w-12 h-12 border-4 border-amber-700 border-t-transparent rounded-full animate-spin"})})}):a.jsxs(Et,{title:"Gestion des Bus et Trajets",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("button",{onClick:()=>e(ke("AdminDashboard")),className:"flex items-center gap-2 text-gray-600 hover:text-amber-800 transition-colors font-medium",children:[a.jsx(Kt,{className:"w-4 h-4"}),"Retour au tableau de bord"]})}),j&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 text-red-700 px-6 py-4 rounded-lg mb-6 shadow-sm",children:a.jsx("p",{className:"font-medium",children:j})}),a.jsxs("div",{className:"flex gap-3 mb-8",children:[a.jsxs(ne,{variant:d==="buses"?"default":"outline",onClick:()=>m("buses"),className:`rounded-xl font-semibold transition-all duration-300 ${d==="buses"?"bg-gradient-to-r from-amber-700 to-amber-800 hover:from-amber-800 hover:to-amber-900 text-white shadow-lg shadow-amber-200":"border-2 border-amber-200 hover:border-amber-300 text-amber-700 hover:bg-amber-50"}`,children:[a.jsx(rt,{className:"w-5 h-5 mr-2"}),"Bus (",t.length,")"]}),a.jsxs(ne,{variant:d==="trajets"?"default":"outline",onClick:()=>m("trajets"),className:`rounded-xl font-semibold transition-all duration-300 ${d==="trajets"?"bg-gradient-to-r from-amber-700 to-amber-800 hover:from-amber-800 hover:to-amber-900 text-white shadow-lg shadow-amber-200":"border-2 border-amber-200 hover:border-amber-300 text-amber-700 hover:bg-amber-50"}`,children:[a.jsx(to,{className:"w-5 h-5 mr-2"}),"Trajets (",n.length,")"]})]}),d==="buses"&&a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-2xl overflow-hidden border border-amber-100",children:[a.jsxs("div",{className:"p-8 bg-gradient-to-r from-amber-700 via-amber-800 to-amber-700 flex justify-between items-center",children:[a.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:a.jsx(rt,{className:"w-7 h-7 text-white"})}),"Gestion des Bus"]}),a.jsxs(ne,{onClick:()=>v(!0),className:"bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-700 hover:to-amber-800 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 px-6 py-3",children:[a.jsx(Aa,{className:"w-5 h-5 mr-2"}),"Ajouter un bus"]})]}),p&&a.jsx("div",{className:"p-8 bg-gradient-to-br from-amber-50 via-white to-amber-50 border-b-2 border-amber-200",children:a.jsxs("form",{onSubmit:z,className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-amber-900 font-semibold mb-2 block",children:"Numro du bus"}),a.jsx(ue,{value:A.numero,onChange:B=>E({...A,numero:B.target.value}),placeholder:"Ex: BUS-001",className:"mt-1 rounded-xl border-2 border-amber-200 focus:border-amber-500 focus:ring-2 focus:ring-amber-200 h-12",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-amber-900 font-semibold mb-2 block",children:"Capacit"}),a.jsx(ue,{type:"number",value:A.capacite,onChange:B=>E({...A,capacite:B.target.value}),placeholder:"Ex: 40",className:"mt-1 rounded-xl border-2 border-amber-200 focus:border-amber-500 focus:ring-2 focus:ring-amber-200 h-12",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-amber-900 font-semibold mb-2 block",children:"Chauffeur"}),a.jsxs(Te,{value:A.chauffeur_id,onValueChange:B=>E({...A,chauffeur_id:B}),children:[a.jsx(Ee,{className:"mt-1 rounded-xl border-2 border-amber-200 focus:border-amber-500 focus:ring-2 focus:ring-amber-200 h-12",children:a.jsx(Ce,{placeholder:"Slectionnez un chauffeur"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"",children:"Aucun"}),s.filter(B=>!t.some(re=>re.chauffeur_id===B.id&&(!x||re.id!==x.id))||x&&x.chauffeur_id===B.id).map(B=>{const M=x&&x.chauffeur_id===B.id?x:null;return a.jsxs(U,{value:B.id.toString(),children:[B.prenom," ",B.nom,M&&` (bus ${M.numero})`]},B.id)})]})]})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-amber-900 font-semibold mb-2 block",children:"Responsable"}),a.jsxs(Te,{value:A.responsable_id,onValueChange:B=>E({...A,responsable_id:B}),children:[a.jsx(Ee,{className:"mt-1 rounded-xl border-2 border-amber-200 focus:border-amber-500 focus:ring-2 focus:ring-amber-200 h-12",children:a.jsx(Ce,{placeholder:"Slectionnez un responsable"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"",children:"Aucun"}),l.filter(B=>!t.some(re=>re.responsable_id===B.id&&(!x||re.id!==x.id))||x&&x.responsable_id===B.id).map(B=>{const M=x&&x.responsable_id===B.id?x:null;return a.jsxs(U,{value:B.id.toString(),children:[B.prenom," ",B.nom,M&&` (bus ${M.numero})`]},B.id)})]})]})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-amber-900 font-semibold mb-2 block",children:"Trajet"}),a.jsxs(Te,{value:A.trajet_id,onValueChange:B=>E({...A,trajet_id:B}),children:[a.jsx(Ee,{className:"mt-1 rounded-xl border-2 border-amber-200 focus:border-amber-500 focus:ring-2 focus:ring-amber-200 h-12",children:a.jsx(Ce,{placeholder:"Slectionnez un trajet"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"",children:"Aucun"}),n.map(B=>a.jsx(U,{value:B.id.toString(),children:B.nom},B.id))]})]})]}),a.jsxs("div",{className:"md:col-span-3 flex gap-4 justify-end pt-4 border-t-2 border-amber-200",children:[a.jsxs(ne,{type:"button",variant:"outline",onClick:Y,className:"rounded-xl border-2 border-amber-300 text-amber-700 hover:bg-amber-50 font-semibold px-6",children:[a.jsx(Ke,{className:"w-5 h-5 mr-2"}),"Annuler"]}),a.jsxs(ne,{type:"submit",className:"bg-gradient-to-r from-amber-700 to-amber-800 hover:from-amber-800 hover:to-amber-900 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 px-6",children:[a.jsx(js,{className:"w-5 h-5 mr-2"}),x?"Modifier":"Enregistrer"]})]})]})}),a.jsxs("div",{className:"divide-y divide-amber-100",children:[t.map(B=>{const M=s.find(be=>be.id===B.chauffeur_id),re=l.find(be=>be.id===B.responsable_id),we=n.find(be=>be.id===B.trajet_id);return a.jsx(te.div,{className:"p-8 hover:bg-gradient-to-r hover:from-amber-50 hover:to-white transition-all duration-300",whileHover:{x:4},children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex items-start gap-6",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-amber-600 to-amber-700 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(rt,{className:"w-10 h-10 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-amber-900 mb-3",children:B.numero}),a.jsxs("div",{className:"flex flex-wrap gap-3 mt-2",children:[a.jsxs("span",{className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl font-semibold shadow-md",children:[B.capacite," places"]}),M&&a.jsxs("span",{className:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-xl font-semibold shadow-md",children:[M.prenom," ",M.nom]}),re&&a.jsxs("span",{className:"px-4 py-2 bg-gradient-to-r from-violet-500 to-violet-600 text-white rounded-xl font-semibold shadow-md",children:["Resp: ",re.prenom," ",re.nom]}),we&&a.jsx("span",{className:"px-4 py-2 bg-gradient-to-r from-indigo-500 to-indigo-600 text-white rounded-xl font-semibold shadow-md",children:we.nom})]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ne,{variant:"outline",size:"icon",onClick:()=>k(B),className:"rounded-xl border-2 border-amber-300 text-amber-700 hover:bg-amber-50 hover:border-amber-400 w-11 h-11 shadow-md",children:a.jsx(La,{className:"w-5 h-5"})}),a.jsx(ne,{variant:"outline",size:"icon",onClick:()=>X(B.id),className:"rounded-xl border-2 border-red-300 text-red-600 hover:bg-red-50 hover:border-red-400 w-11 h-11 shadow-md",children:a.jsx(Wr,{className:"w-5 h-5"})})]})]})},B.id)}),t.length===0&&a.jsxs("div",{className:"p-16 text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(rt,{className:"w-10 h-10 text-amber-600 opacity-60"})}),a.jsx("p",{className:"text-amber-700 font-semibold text-lg",children:"Aucun bus enregistr"}),a.jsx("p",{className:"text-amber-600 text-sm mt-2",children:'Cliquez sur "Ajouter un bus" pour commencer'})]})]})]}),d==="trajets"&&a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-2xl overflow-hidden border border-gray-200",children:[a.jsxs("div",{className:"p-8 bg-gradient-to-r from-gray-700 via-gray-800 to-gray-700 flex justify-between items-center",children:[a.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:a.jsx(to,{className:"w-7 h-7 text-white"})}),"Gestion des Trajets"]}),a.jsxs(ne,{onClick:()=>w(!0),className:"bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 px-6 py-3",children:[a.jsx(Aa,{className:"w-5 h-5 mr-2"}),"Ajouter un trajet"]})]}),g&&a.jsx("div",{className:"p-8 bg-gradient-to-br from-gray-50 via-white to-gray-50 border-b-2 border-gray-200",children:a.jsxs("form",{onSubmit:G,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-900 font-semibold mb-2 block",children:"Nom du trajet"}),a.jsx(ue,{value:O.nom,onChange:B=>C({...O,nom:B.target.value}),placeholder:"Ex: Trajet Nord",className:"mt-1 rounded-xl border-2 border-gray-200 focus:border-gray-500 focus:ring-2 focus:ring-gray-200 h-12",required:!0})]}),a.jsxs("div",{children:[a.jsxs(Q,{className:"text-gray-900 font-semibold flex items-center gap-2 mb-2",children:[a.jsx(Ot,{className:"w-5 h-5 text-gray-600"}),"Zones desservies (max 2)"]}),a.jsxs("div",{className:"mt-2 space-y-2",children:[O.zones.length>0&&a.jsx("div",{className:"flex flex-wrap gap-3 mb-4",children:O.zones.map((B,M)=>a.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-xl text-sm font-semibold shadow-md",children:[a.jsx(Ot,{className:"w-4 h-4"}),B,a.jsx("button",{type:"button",onClick:()=>oe(B),className:"ml-1 hover:bg-gray-800 rounded-full p-0.5 transition-colors",children:a.jsx(Ke,{className:"w-4 h-4"})})]},M))}),a.jsxs(Te,{value:"",onValueChange:B=>{B&&B!==""&&oe(B)},disabled:O.zones.length>=2,children:[a.jsx(Ee,{className:"rounded-xl border-2 border-gray-200 focus:border-gray-500 focus:ring-2 focus:ring-gray-200 h-12",children:a.jsx(Ce,{placeholder:O.zones.length>=2?"Maximum 2 zones slectionnes":"Slectionnez une zone"})}),a.jsx(Pe,{children:S.filter(B=>!O.zones.includes(B)).map(B=>a.jsx(U,{value:B,children:B},B))})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[O.zones.length,"/2 zones slectionnes"]})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border-2 border-gray-200 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Groupe A"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-800 font-semibold mb-2 block",children:"Dpart Matin"}),a.jsx(ue,{type:"time",value:O.heure_depart_matin_a,onChange:B=>C({...O,heure_depart_matin_a:B.target.value}),className:"mt-1 rounded-xl border-2 border-gray-200 focus:border-gray-500 focus:ring-2 focus:ring-gray-200 h-12"})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-800 font-semibold mb-2 block",children:"Arrive Matin"}),a.jsx(ue,{type:"time",value:O.heure_arrivee_matin_a,onChange:B=>C({...O,heure_arrivee_matin_a:B.target.value}),className:"mt-1 rounded-xl border-2 border-gray-200 focus:border-gray-500 focus:ring-2 focus:ring-gray-200 h-12"})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-800 font-semibold mb-2 block",children:"Dpart Soir"}),a.jsx(ue,{type:"time",value:O.heure_depart_soir_a,onChange:B=>C({...O,heure_depart_soir_a:B.target.value}),className:"mt-1 rounded-xl border-2 border-gray-200 focus:border-gray-500 focus:ring-2 focus:ring-gray-200 h-12"})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-800 font-semibold mb-2 block",children:"Arrive Soir"}),a.jsx(ue,{type:"time",value:O.heure_arrivee_soir_a,onChange:B=>C({...O,heure_arrivee_soir_a:B.target.value}),className:"mt-1 rounded-xl border-2 border-gray-200 focus:border-gray-500 focus:ring-2 focus:ring-gray-200 h-12"})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border-2 border-gray-200 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Groupe B"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-800 font-semibold mb-2 block",children:"Dpart Matin"}),a.jsx(ue,{type:"time",value:O.heure_depart_matin_b,onChange:B=>C({...O,heure_depart_matin_b:B.target.value}),className:"mt-1 rounded-xl border-2 border-gray-200 focus:border-gray-500 focus:ring-2 focus:ring-gray-200 h-12"})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-800 font-semibold mb-2 block",children:"Arrive Matin"}),a.jsx(ue,{type:"time",value:O.heure_arrivee_matin_b,onChange:B=>C({...O,heure_arrivee_matin_b:B.target.value}),className:"mt-1 rounded-xl border-2 border-gray-200 focus:border-gray-500 focus:ring-2 focus:ring-gray-200 h-12"})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-800 font-semibold mb-2 block",children:"Dpart Soir"}),a.jsx(ue,{type:"time",value:O.heure_depart_soir_b,onChange:B=>C({...O,heure_depart_soir_b:B.target.value}),className:"mt-1 rounded-xl border-2 border-gray-200 focus:border-gray-500 focus:ring-2 focus:ring-gray-200 h-12"})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-800 font-semibold mb-2 block",children:"Arrive Soir"}),a.jsx(ue,{type:"time",value:O.heure_arrivee_soir_b,onChange:B=>C({...O,heure_arrivee_soir_b:B.target.value}),className:"mt-1 rounded-xl border-2 border-gray-200 focus:border-gray-500 focus:ring-2 focus:ring-gray-200 h-12"})]})]})]}),a.jsxs("div",{className:"flex gap-4 justify-end pt-4 border-t-2 border-amber-200",children:[a.jsxs(ne,{type:"button",variant:"outline",onClick:J,className:"rounded-xl border-2 border-amber-300 text-amber-700 hover:bg-amber-50 font-semibold px-6",children:[a.jsx(Ke,{className:"w-5 h-5 mr-2"}),"Annuler"]}),a.jsxs(ne,{type:"submit",className:"bg-gradient-to-r from-amber-700 to-amber-800 hover:from-amber-800 hover:to-amber-900 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 px-6",children:[a.jsx(js,{className:"w-5 h-5 mr-2"}),h?"Modifier":"Enregistrer"]})]})]})}),a.jsxs("div",{className:"divide-y divide-gray-100",children:[n.map(B=>{const M=Array.isArray(B.zones)?B.zones:[];return a.jsx(te.div,{className:"p-8 hover:bg-gradient-to-r hover:from-gray-50 hover:to-white transition-all duration-300",whileHover:{x:4},children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-600 to-gray-700 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(to,{className:"w-9 h-9 text-white"})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:B.nom})]}),a.jsx("div",{className:"flex flex-wrap gap-3 mb-6",children:M.map((re,we)=>a.jsxs("span",{className:"px-4 py-2 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-xl text-sm font-semibold shadow-md flex items-center gap-2",children:[a.jsx(Ot,{className:"w-4 h-4"}),re]},we))}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-white p-5 rounded-xl border-2 border-blue-200 shadow-sm",children:[a.jsx("p",{className:"text-blue-900 font-bold text-lg mb-3",children:"Groupe A"}),a.jsxs("div",{className:"space-y-2 text-gray-900",children:[a.jsxs("p",{className:"font-semibold",children:[a.jsx("span",{className:"text-gray-700",children:"Matin:"})," ",B.heure_depart_matin_a," - ",B.heure_arrivee_matin_a]}),a.jsxs("p",{className:"font-semibold",children:[a.jsx("span",{className:"text-gray-700",children:"Soir:"})," ",B.heure_depart_soir_a," - ",B.heure_arrivee_soir_a]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-white p-5 rounded-xl border-2 border-indigo-200 shadow-sm",children:[a.jsx("p",{className:"text-indigo-900 font-bold text-lg mb-3",children:"Groupe B"}),a.jsxs("div",{className:"space-y-2 text-gray-900",children:[a.jsxs("p",{className:"font-semibold",children:[a.jsx("span",{className:"text-gray-700",children:"Matin:"})," ",B.heure_depart_matin_b," - ",B.heure_arrivee_matin_b]}),a.jsxs("p",{className:"font-semibold",children:[a.jsx("span",{className:"text-gray-700",children:"Soir:"})," ",B.heure_depart_soir_b," - ",B.heure_arrivee_soir_b]})]})]})]})]}),a.jsxs("div",{className:"flex gap-3 ml-6",children:[a.jsx(ne,{variant:"outline",size:"icon",onClick:()=>K(B),className:"rounded-xl border-2 border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400 w-11 h-11 shadow-md",children:a.jsx(La,{className:"w-5 h-5"})}),a.jsx(ne,{variant:"outline",size:"icon",onClick:()=>F(B.id),className:"rounded-xl border-2 border-red-300 text-red-600 hover:bg-red-50 hover:border-red-400 w-11 h-11 shadow-md",children:a.jsx(Wr,{className:"w-5 h-5"})})]})]})},B.id)}),n.length===0&&a.jsxs("div",{className:"p-16 text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(to,{className:"w-10 h-10 text-gray-600 opacity-60"})}),a.jsx("p",{className:"text-gray-700 font-semibold text-lg",children:"Aucun trajet enregistr"}),a.jsx("p",{className:"text-gray-600 text-sm mt-2",children:'Cliquez sur "Ajouter un trajet" pour commencer'})]})]})]})]})}function hB(){const e=nt(),[t,r]=_.useState([]),[n,i]=_.useState([]),[s,o]=_.useState([]),[l,c]=_.useState(!0),[u,f]=_.useState("chauffeurs"),[d,m]=_.useState(!1),[p,v]=_.useState(!1),[g,w]=_.useState(null),[x,y]=_.useState(null),[h,N]=_.useState({}),[j,b]=_.useState(null),[S,P]=_.useState({nom:"",prenom:"",email:"",telephone:"",mot_de_passe:"",salaire:"",date_embauche:""}),[A,E]=_.useState({nom:"",prenom:"",email:"",telephone:"",mot_de_passe:"",salaire:""});_.useEffect(()=>{O()},[]);const O=async()=>{c(!0),b(null);try{const[k,K,oe]=await Promise.all([$n.getAll(),li.getAll(),Sr.getAll()]),B=(k==null?void 0:k.data)||k||[],M=(K==null?void 0:K.data)||K||[],re=(oe==null?void 0:oe.data)||oe||[],we=Array.isArray(B)?B.map($=>{const ae=Array.isArray(re)?re.find(fe=>fe.chauffeur_id===$.id):null;return{...$,bus:ae}}):[],be=Array.isArray(M)?M.map($=>{const ae=Array.isArray(re)?re.find(fe=>fe.responsable_id===$.id):null;return{...$,bus:ae}}):[];r(we),i(be),o(Array.isArray(re)?re:[])}catch(k){console.error("Erreur lors du chargement:",k),b("Erreur lors du chargement des donnes")}finally{c(!1)}},C=async k=>{k.preventDefault(),b(null);try{let K;g?(K={email:S.email,telephone:S.telephone},S.mot_de_passe&&(K.mot_de_passe=S.mot_de_passe),S.salaire!==""&&S.salaire!==null&&S.salaire!==void 0&&(K.salaire=parseFloat(S.salaire)||0)):K={nom:S.nom,prenom:S.prenom,email:S.email,telephone:S.telephone,mot_de_passe:S.mot_de_passe,salaire:parseInt(S.salaire)||0,date_embauche:S.date_embauche||null,nombre_accidents:0,statut:"Actif"},g?await $n.update(g.id,K):await $n.create(K),G(),await O()}catch(K){console.error("Erreur lors de l'enregistrement:",K),b("Erreur lors de l'enregistrement du chauffeur: "+(K.message||"Erreur inconnue"))}},T=async k=>{k.preventDefault(),b(null);try{let K;x?(K={email:A.email,telephone:A.telephone},A.mot_de_passe&&(K.mot_de_passe=A.mot_de_passe),A.salaire!==""&&A.salaire!==null&&A.salaire!==void 0&&(K.salaire=parseFloat(A.salaire)||0)):K={nom:A.nom,prenom:A.prenom,email:A.email,telephone:A.telephone,mot_de_passe:A.mot_de_passe,salaire:parseFloat(A.salaire)||0,role:"responsable",statut:"Actif"},x?await li.update(x.id,K):await li.create(K),X(),await O()}catch(K){console.error("Erreur lors de l'enregistrement:",K),b("Erreur lors de l'enregistrement du responsable: "+(K.message||"Erreur inconnue"))}},R=async k=>{if(confirm("tes-vous sr de vouloir supprimer ce chauffeur ?"))try{await $n.delete(k),await O()}catch(K){console.error("Erreur lors de la suppression:",K),b("Erreur lors de la suppression du chauffeur")}},z=async k=>{if(confirm("tes-vous sr de vouloir supprimer ce responsable ?"))try{await li.delete(k),await O()}catch(K){console.error("Erreur lors de la suppression:",K),b("Erreur lors de la suppression du responsable")}},G=()=>{P({nom:"",prenom:"",email:"",telephone:"",mot_de_passe:"",salaire:"",date_embauche:""}),w(null),m(!1)},X=()=>{E({nom:"",prenom:"",email:"",telephone:"",mot_de_passe:"",salaire:""}),y(null),v(!1)},F=k=>{P({nom:k.nom||"",prenom:k.prenom||"",email:k.email||"",telephone:k.telephone||"",mot_de_passe:"",salaire:k.salaire!==null&&k.salaire!==void 0?k.salaire.toString():""}),w(k),m(!0)},Y=k=>{E({nom:k.nom||"",prenom:k.prenom||"",email:k.email||"",telephone:k.telephone||"",mot_de_passe:"",salaire:k.salaire!==null&&k.salaire!==void 0?k.salaire.toString():""}),y(k),v(!0)},J=k=>{N(K=>({...K,[k]:!K[k]}))};return l?a.jsx(Et,{children:a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsx("div",{className:"w-12 h-12 border-4 border-amber-700 border-t-transparent rounded-full animate-spin"})})}):a.jsxs(Et,{title:"Chauffeur & Responsable Bus",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("button",{onClick:()=>e(ke("AdminDashboard")),className:"flex items-center gap-2 text-gray-600 hover:text-amber-800 transition-colors font-medium",children:[a.jsx(Kt,{className:"w-4 h-4"}),"Retour au tableau de bord"]})}),j&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 text-red-700 px-6 py-4 rounded-lg mb-6 shadow-sm",children:a.jsx("p",{className:"font-medium",children:j})}),a.jsxs("div",{className:"flex gap-3 mb-8",children:[a.jsxs(ne,{variant:u==="chauffeurs"?"default":"outline",onClick:()=>f("chauffeurs"),className:`rounded-xl font-semibold transition-all duration-300 ${u==="chauffeurs"?"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white shadow-lg shadow-emerald-200":"border-2 border-emerald-200 hover:border-emerald-300 text-emerald-700 hover:bg-emerald-50"}`,children:[a.jsx(Zt,{className:"w-5 h-5 mr-2"}),"Chauffeurs (",t.length,")"]}),a.jsxs(ne,{variant:u==="responsables"?"default":"outline",onClick:()=>f("responsables"),className:`rounded-xl font-semibold transition-all duration-300 ${u==="responsables"?"bg-gradient-to-r from-violet-600 to-violet-700 hover:from-violet-700 hover:to-violet-800 text-white shadow-lg shadow-violet-200":"border-2 border-violet-200 hover:border-violet-300 text-violet-700 hover:bg-violet-50"}`,children:[a.jsx(ro,{className:"w-5 h-5 mr-2"}),"Responsables Bus (",n.length,")"]})]}),u==="chauffeurs"&&a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-2xl overflow-hidden border border-emerald-100",children:[a.jsxs("div",{className:"p-8 bg-gradient-to-r from-emerald-600 via-emerald-700 to-emerald-600 flex justify-between items-center",children:[a.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:a.jsx(Zt,{className:"w-7 h-7 text-white"})}),"Gestion des Chauffeurs"]}),a.jsxs(ne,{onClick:()=>m(!0),className:"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 px-6 py-3",children:[a.jsx(Aa,{className:"w-5 h-5 mr-2"}),"Ajouter un chauffeur"]})]}),d&&a.jsx("div",{className:"p-8 bg-gradient-to-br from-emerald-50 via-white to-emerald-50 border-b-2 border-emerald-200",children:a.jsxs("form",{onSubmit:C,className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[!g&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-emerald-900 font-semibold mb-2 block",children:"Nom"}),a.jsx(ue,{value:S.nom,onChange:k=>P({...S,nom:k.target.value}),className:"mt-1 rounded-xl border-2 border-emerald-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 h-12",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-emerald-900 font-semibold mb-2 block",children:"Prnom"}),a.jsx(ue,{value:S.prenom,onChange:k=>P({...S,prenom:k.target.value}),className:"mt-1 rounded-xl border-2 border-emerald-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 h-12",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-emerald-900 font-semibold mb-2 block",children:"Email"}),a.jsx(ue,{type:"email",value:S.email,onChange:k=>P({...S,email:k.target.value}),className:"mt-1 rounded-xl border-2 border-emerald-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 h-12",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-emerald-900 font-semibold mb-2 block",children:"Tlphone"}),a.jsx(ue,{value:S.telephone,onChange:k=>P({...S,telephone:k.target.value}),className:"mt-1 rounded-xl border-2 border-emerald-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 h-12",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-emerald-900 font-semibold mb-2 block",children:"Date d'embauche"}),a.jsx(ue,{type:"date",value:S.date_embauche,onChange:k=>P({...S,date_embauche:k.target.value}),className:"mt-1 rounded-xl border-2 border-emerald-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 h-12"})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-emerald-900 font-semibold mb-2 block",children:"Mot de passe"}),a.jsx(ue,{type:"password",value:S.mot_de_passe,onChange:k=>P({...S,mot_de_passe:k.target.value}),className:"mt-1 rounded-xl border-2 border-emerald-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 h-12",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-emerald-900 font-semibold mb-2 block",children:"Salaire (DH)"}),a.jsx(ue,{type:"number",value:S.salaire,onChange:k=>P({...S,salaire:k.target.value}),className:"mt-1 rounded-xl border-2 border-emerald-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 h-12",required:!0})]})]}),g&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-emerald-900 font-semibold mb-2 block",children:"Email"}),a.jsx(ue,{type:"email",value:S.email,onChange:k=>P({...S,email:k.target.value}),className:"mt-1 rounded-xl border-2 border-emerald-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 h-12",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-emerald-900 font-semibold mb-2 block",children:"Tlphone"}),a.jsx(ue,{value:S.telephone,onChange:k=>P({...S,telephone:k.target.value}),className:"mt-1 rounded-xl border-2 border-emerald-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 h-12",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-emerald-900 font-semibold mb-2 block",children:"Salaire (DH)"}),a.jsx(ue,{type:"number",value:S.salaire,onChange:k=>P({...S,salaire:k.target.value}),className:"mt-1 rounded-xl border-2 border-emerald-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 h-12",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-emerald-900 font-semibold mb-2 block",children:"Mot de passe (laisser vide pour ne pas changer)"}),a.jsx(ue,{type:"password",value:S.mot_de_passe,onChange:k=>P({...S,mot_de_passe:k.target.value}),className:"mt-1 rounded-xl border-2 border-emerald-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 h-12"})]})]}),a.jsxs("div",{className:"md:col-span-3 flex gap-4 justify-end pt-4 border-t-2 border-emerald-200",children:[a.jsxs(ne,{type:"button",variant:"outline",onClick:G,className:"rounded-xl border-2 border-emerald-300 text-emerald-700 hover:bg-emerald-50 font-semibold px-6",children:[a.jsx(Ke,{className:"w-5 h-5 mr-2"}),"Annuler"]}),a.jsxs(ne,{type:"submit",className:"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 px-6",children:[a.jsx(js,{className:"w-5 h-5 mr-2"}),g?"Modifier":"Enregistrer"]})]})]})}),a.jsxs("div",{className:"divide-y divide-emerald-100",children:[t.map(k=>a.jsx(te.div,{className:"p-8 hover:bg-gradient-to-r hover:from-emerald-50 hover:to-white transition-all duration-300",whileHover:{x:4},children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex items-start gap-6",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-emerald-600 to-emerald-700 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Zt,{className:"w-10 h-10 text-white"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-2xl font-bold text-emerald-900 mb-3",children:[k.prenom," ",k.nom]}),a.jsx("p",{className:"text-gray-500 mb-2",children:k.telephone}),a.jsxs("div",{className:"flex flex-wrap gap-3 mt-2",children:[a.jsxs("span",{className:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-xl font-semibold shadow-md",children:[k.salaire!==null&&k.salaire!==void 0?parseFloat(k.salaire).toLocaleString("fr-FR"):"0"," DH"]}),k.bus&&a.jsxs("span",{className:"px-4 py-2 bg-gradient-to-r from-amber-500 to-amber-600 text-white rounded-xl font-semibold shadow-md flex items-center gap-2",children:[a.jsx(rt,{className:"w-4 h-4"}),k.bus.numero]}),a.jsxs("span",{className:`px-4 py-2 rounded-xl font-semibold shadow-md ${k.nombre_accidents>=3?"bg-gradient-to-r from-red-500 to-red-600 text-white":"bg-gradient-to-r from-gray-500 to-gray-600 text-white"}`,children:[k.nombre_accidents||0," accident(s)"]}),k.nombre_accidents>=3&&a.jsxs("span",{className:"px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl font-semibold shadow-md flex items-center gap-2",children:[a.jsx(tt,{className:"w-4 h-4"}),"Licenciement"]})]}),a.jsxs("div",{className:"mt-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Mot de passe:"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 px-3 py-2 bg-gray-50 rounded-lg text-gray-700 font-mono text-xs border border-gray-200 break-all max-w-md",children:h[k.id]?k.mot_de_passe_plain||k.user_password||k.mot_de_passe||"N/A":""}),a.jsx(ne,{type:"button",variant:"outline",size:"sm",onClick:()=>J(k.id),className:"rounded-lg border-gray-300 hover:bg-gray-100 flex-shrink-0",children:h[k.id]?a.jsx(yf,{className:"w-4 h-4 text-gray-700"}):a.jsx(ia,{className:"w-4 h-4 text-gray-700"})})]})]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ne,{variant:"outline",size:"icon",onClick:()=>F(k),className:"rounded-xl border-2 border-emerald-300 text-emerald-700 hover:bg-emerald-50 hover:border-emerald-400 w-11 h-11 shadow-md",children:a.jsx(La,{className:"w-5 h-5"})}),a.jsx(ne,{variant:"outline",size:"icon",onClick:()=>R(k.id),className:"rounded-xl border-2 border-red-300 text-red-600 hover:bg-red-50 hover:border-red-400 w-11 h-11 shadow-md",children:a.jsx(Wr,{className:"w-5 h-5"})})]})]})},k.id)),t.length===0&&a.jsxs("div",{className:"p-16 text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Zt,{className:"w-10 h-10 text-emerald-600 opacity-60"})}),a.jsx("p",{className:"text-emerald-700 font-semibold text-lg",children:"Aucun chauffeur enregistr"}),a.jsx("p",{className:"text-emerald-600 text-sm mt-2",children:'Cliquez sur "Ajouter un chauffeur" pour commencer'})]})]})]}),u==="responsables"&&a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-2xl overflow-hidden border border-violet-100",children:[a.jsxs("div",{className:"p-8 bg-gradient-to-r from-violet-600 via-violet-700 to-violet-600 flex justify-between items-center",children:[a.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:a.jsx(ro,{className:"w-7 h-7 text-white"})}),"Gestion des Responsables Bus"]}),a.jsxs(ne,{onClick:()=>v(!0),className:"bg-gradient-to-r from-violet-500 to-violet-600 hover:from-violet-600 hover:to-violet-700 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 px-6 py-3",children:[a.jsx(Aa,{className:"w-5 h-5 mr-2"}),"Ajouter un responsable"]})]}),p&&a.jsx("div",{className:"p-8 bg-gradient-to-br from-violet-50 via-white to-violet-50 border-b-2 border-violet-200",children:a.jsxs("form",{onSubmit:T,className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[!x&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-violet-900 font-semibold mb-2 block",children:"Nom"}),a.jsx(ue,{value:A.nom,onChange:k=>E({...A,nom:k.target.value}),className:"mt-1 rounded-xl border-2 border-violet-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 h-12",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-violet-900 font-semibold mb-2 block",children:"Prnom"}),a.jsx(ue,{value:A.prenom,onChange:k=>E({...A,prenom:k.target.value}),className:"mt-1 rounded-xl border-2 border-violet-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 h-12",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-violet-900 font-semibold mb-2 block",children:"Email"}),a.jsx(ue,{type:"email",value:A.email,onChange:k=>E({...A,email:k.target.value}),className:"mt-1 rounded-xl border-2 border-violet-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 h-12",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-violet-900 font-semibold mb-2 block",children:"Tlphone"}),a.jsx(ue,{value:A.telephone,onChange:k=>E({...A,telephone:k.target.value}),className:"mt-1 rounded-xl border-2 border-violet-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 h-12",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-violet-900 font-semibold mb-2 block",children:"Salaire (DH)"}),a.jsx(ue,{type:"number",value:A.salaire,onChange:k=>E({...A,salaire:k.target.value}),className:"mt-1 rounded-xl border-2 border-violet-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 h-12",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-violet-900 font-semibold mb-2 block",children:"Mot de passe"}),a.jsx(ue,{type:"password",value:A.mot_de_passe,onChange:k=>E({...A,mot_de_passe:k.target.value}),className:"mt-1 rounded-xl border-2 border-violet-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 h-12",required:!0})]})]}),x&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-violet-900 font-semibold mb-2 block",children:"Email"}),a.jsx(ue,{type:"email",value:A.email,onChange:k=>E({...A,email:k.target.value}),className:"mt-1 rounded-xl border-2 border-violet-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 h-12",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-violet-900 font-semibold mb-2 block",children:"Tlphone"}),a.jsx(ue,{value:A.telephone,onChange:k=>E({...A,telephone:k.target.value}),className:"mt-1 rounded-xl border-2 border-violet-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 h-12",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-violet-900 font-semibold mb-2 block",children:"Salaire (DH)"}),a.jsx(ue,{type:"number",value:A.salaire,onChange:k=>E({...A,salaire:k.target.value}),className:"mt-1 rounded-xl border-2 border-violet-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 h-12",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-violet-900 font-semibold mb-2 block",children:"Mot de passe (laisser vide pour ne pas changer)"}),a.jsx(ue,{type:"password",value:A.mot_de_passe,onChange:k=>E({...A,mot_de_passe:k.target.value}),className:"mt-1 rounded-xl border-2 border-violet-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-200 h-12"})]})]}),a.jsxs("div",{className:"md:col-span-3 flex gap-4 justify-end pt-4 border-t-2 border-violet-200",children:[a.jsxs(ne,{type:"button",variant:"outline",onClick:X,className:"rounded-xl border-2 border-violet-300 text-violet-700 hover:bg-violet-50 font-semibold px-6",children:[a.jsx(Ke,{className:"w-5 h-5 mr-2"}),"Annuler"]}),a.jsxs(ne,{type:"submit",className:"bg-gradient-to-r from-violet-600 to-violet-700 hover:from-violet-700 hover:to-violet-800 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 px-6",children:[a.jsx(js,{className:"w-5 h-5 mr-2"}),x?"Modifier":"Enregistrer"]})]})]})}),a.jsxs("div",{className:"divide-y divide-violet-100",children:[n.map(k=>{const K=h[k.id]||!1,oe=k.mot_de_passe_plain||k.user_password||k.mot_de_passe||"N/A",B=K?oe:"";return a.jsx(te.div,{className:"p-8 hover:bg-gradient-to-r hover:from-violet-50 hover:to-white transition-all duration-300",whileHover:{x:4},children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex items-start gap-6",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-violet-600 to-violet-700 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(ro,{className:"w-10 h-10 text-white"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-2xl font-bold text-violet-900 mb-3",children:[k.prenom," ",k.nom]}),a.jsx("p",{className:"text-gray-500 mb-2",children:k.telephone}),a.jsxs("div",{className:"flex flex-wrap gap-3 mt-2",children:[a.jsxs("span",{className:"px-4 py-2 bg-gradient-to-r from-violet-500 to-violet-600 text-white rounded-xl font-semibold shadow-md",children:["#",k.id]}),k.salaire!==null&&k.salaire!==void 0&&a.jsxs("span",{className:"px-4 py-2 bg-gradient-to-r from-violet-500 to-violet-600 text-white rounded-xl font-semibold shadow-md",children:[parseFloat(k.salaire).toLocaleString("fr-FR")," DH"]}),k.bus&&a.jsxs("span",{className:"px-4 py-2 bg-gradient-to-r from-amber-500 to-amber-600 text-white rounded-xl font-semibold shadow-md flex items-center gap-2",children:[a.jsx(rt,{className:"w-4 h-4"}),k.bus.numero]})]}),a.jsxs("div",{className:"mt-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Mot de passe:"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 px-3 py-2 bg-gray-50 rounded-lg text-gray-700 font-mono text-xs border border-gray-200 break-all max-w-md",children:B}),a.jsx(ne,{type:"button",variant:"outline",size:"sm",onClick:()=>J(k.id),className:"rounded-lg border-gray-300 hover:bg-gray-100 flex-shrink-0",children:K?a.jsx(yf,{className:"w-4 h-4 text-gray-700"}):a.jsx(ia,{className:"w-4 h-4 text-gray-700"})})]})]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ne,{variant:"outline",size:"icon",onClick:()=>Y(k),className:"rounded-xl border-2 border-violet-300 text-violet-700 hover:bg-violet-50 hover:border-violet-400 w-11 h-11 shadow-md",children:a.jsx(La,{className:"w-5 h-5"})}),a.jsx(ne,{variant:"outline",size:"icon",onClick:()=>z(k.id),className:"rounded-xl border-2 border-red-300 text-red-600 hover:bg-red-50 hover:border-red-400 w-11 h-11 shadow-md",children:a.jsx(Wr,{className:"w-5 h-5"})})]})]})},k.id)}),n.length===0&&a.jsxs("div",{className:"p-16 text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-violet-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(ro,{className:"w-10 h-10 text-violet-600 opacity-60"})}),a.jsx("p",{className:"text-violet-700 font-semibold text-lg",children:"Aucun responsable enregistr"}),a.jsx("p",{className:"text-violet-600 text-sm mt-2",children:'Cliquez sur "Ajouter un responsable" pour commencer'})]})]})]})]})}function pB(){const e=nt(),[t,r]=_.useState([]),[n,i]=_.useState([]),[s,o]=_.useState([]),[l,c]=_.useState(!0),[u,f]=_.useState(""),[d,m]=_.useState("all"),[p,v]=_.useState("all"),[g,w]=_.useState("all"),[x,y]=_.useState("all"),[h,N]=_.useState("all"),[j,b]=_.useState("all"),[S,P]=_.useState(null),[A,E]=_.useState(null),[O,C]=_.useState(!1),[T,R]=_.useState({nom:"",prenom:"",classe:"",adresse:"",zone:""});_.useEffect(()=>{z()},[]);const z=async()=>{var M,re,we,be,$,ae,fe;c(!0),P(null);try{const q=await Promise.allSettled([kt.getAll(),ki.getAll(),bn.getAll(),Sr.getAll(),Kn.getAll(),qt.getAll(),ya.getAll()]),ye=q[0].status==="fulfilled"?Array.isArray((M=q[0].value)==null?void 0:M.data)?q[0].value.data:Array.isArray(q[0].value)?q[0].value:[]:[],Ne=q[1].status==="fulfilled"?Array.isArray((re=q[1].value)==null?void 0:re.data)?q[1].value.data:Array.isArray(q[1].value)?q[1].value:[]:[],V=q[2].status==="fulfilled"?Array.isArray((we=q[2].value)==null?void 0:we.data)?q[2].value.data:Array.isArray(q[2].value)?q[2].value:[]:[],me=q[3].status==="fulfilled"?Array.isArray((be=q[3].value)==null?void 0:be.data)?q[3].value.data:Array.isArray(q[3].value)?q[3].value:[]:[],Se=q[4].status==="fulfilled"?Array.isArray(($=q[4].value)==null?void 0:$.data)?q[4].value.data:Array.isArray(q[4].value)?q[4].value:[]:[],We=q[5].status==="fulfilled"?Array.isArray((ae=q[5].value)==null?void 0:ae.data)?q[5].value.data:Array.isArray(q[5].value)?q[5].value:[]:[],Ie=q[6].status==="fulfilled"?Array.isArray((fe=q[6].value)==null?void 0:fe.data)?q[6].value.data:Array.isArray(q[6].value)?q[6].value:[]:[],H=Array.isArray(We)?We.filter($e=>$e.type_demande==="inscription"):[],De=(Array.isArray(ye)?ye.filter($e=>{const Qe=Array.isArray(V)?V.find(qe=>qe.eleve_id===$e.id&&qe.statut==="Active"):null,je=Array.isArray(H)?H.filter(qe=>qe.eleve_id===$e.id).sort((qe,Le)=>new Date(Le.date_creation||0)-new Date(qe.date_creation||0))[0]:null;return(je==null?void 0:je.statut)==="Refuse"?!1:Qe!==null||je&&["Inscrit","Valide","Paye","En attente de paiement","En cours de traitement"].includes(je.statut)}):[]).map($e=>{const Qe=Array.isArray(Ne)?Ne.find(et=>et.id===$e.tuteur_id):null,je=Array.isArray(V)?V.find(et=>et.eleve_id===$e.id&&et.statut==="Active"):null,Ct=je!=null&&je.bus_id&&Array.isArray(me)?me.find(et=>et.id===je.bus_id):null,qe=Ct!=null&&Ct.trajet_id&&Array.isArray(Se)?Se.find(et=>et.id===Ct.trajet_id):null,Le=Array.isArray(H)?H.filter(et=>et.eleve_id===$e.id).sort((et,pr)=>new Date(pr.date_creation||0)-new Date(et.date_creation||0))[0]:null,pt=(Le==null?void 0:Le.statut)==="Inscrit"?"Inscrit":(je==null?void 0:je.statut)||$e.statut;return{...$e,tuteur:Qe,inscription:je,bus:Ct,trajet:qe,demande_inscription:Le,statut_affichage:pt,type_transport:(Le==null?void 0:Le.type_transport)||(je==null?void 0:je.type_transport)||"Non spcifi",type_abonnement:(Le==null?void 0:Le.abonnement)||(je==null?void 0:je.type_abonnement)||"Non spcifi",groupe:(Le==null?void 0:Le.groupe)||(je==null?void 0:je.groupe)||$e.groupe||"Non spcifi",zone:(Le==null?void 0:Le.zone_geographique)||null}});r(De),i(Ne),o(Ie.filter($e=>$e.actif!==!1))}catch(q){console.error("Erreur lors du chargement:",q),P("Erreur lors du chargement des donnes: "+(q.message||"Erreur de connexion au serveur"))}finally{c(!1)}},G=t.filter(M=>{var ye,Ne,V,me,Se,We,Ie,H,ve,De,$e,Qe,je,Ct,qe,Le,pt;const re=u===""||((ye=M.id)==null?void 0:ye.toString().includes(u))||((Ne=M.nom)==null?void 0:Ne.toLowerCase().includes(u.toLowerCase()))||((V=M.prenom)==null?void 0:V.toLowerCase().includes(u.toLowerCase()))||((me=M.classe)==null?void 0:me.toLowerCase().includes(u.toLowerCase()))||((Se=M.adresse)==null?void 0:Se.toLowerCase().includes(u.toLowerCase()))||((We=M.zone)==null?void 0:We.toLowerCase().includes(u.toLowerCase()))||((H=(Ie=M.tuteur)==null?void 0:Ie.nom)==null?void 0:H.toLowerCase().includes(u.toLowerCase()))||((De=(ve=M.tuteur)==null?void 0:ve.prenom)==null?void 0:De.toLowerCase().includes(u.toLowerCase()))||((Qe=($e=M.tuteur)==null?void 0:$e.telephone)==null?void 0:Qe.toLowerCase().includes(u.toLowerCase())),we=d==="all"||((je=M.inscription)==null?void 0:je.statut)===d||M.statut_affichage===d,be=p==="all"||M.zone===p||((Ct=M.demande_inscription)==null?void 0:Ct.zone_geographique)===p,$=g==="all"||M.classe===g,ae=x==="all"||M.groupe===x||((qe=M.demande_inscription)==null?void 0:qe.groupe)===x,fe=h==="all"||M.type_transport===h||((Le=M.demande_inscription)==null?void 0:Le.type_transport)===h,q=j==="all"||M.type_abonnement===j||((pt=M.demande_inscription)==null?void 0:pt.abonnement)===j;return re&&we&&be&&$&&ae&&fe&&q}),X=[...new Set(t.map(M=>M.classe).filter(Boolean))].sort(),F=[...new Set(t.map(M=>{var re;return M.groupe||((re=M.demande_inscription)==null?void 0:re.groupe)}).filter(Boolean))].sort(),Y=[...new Set(t.map(M=>{var re;return M.type_transport||((re=M.demande_inscription)==null?void 0:re.type_transport)}).filter(Boolean))].sort(),J=[...new Set(t.map(M=>{var re;return M.type_abonnement||((re=M.demande_inscription)==null?void 0:re.abonnement)}).filter(Boolean))].sort(),k=M=>({Active:"bg-green-100 text-green-700",Suspendue:"bg-orange-100 text-orange-700",Termine:"bg-gray-100 text-gray-700",Actif:"bg-green-100 text-green-700",Inactif:"bg-yellow-100 text-yellow-700",Inscrit:"bg-emerald-100 text-emerald-700"})[M]||"bg-gray-100 text-gray-700",K=M=>{var re;E(M),R({nom:M.nom||"",prenom:M.prenom||"",classe:M.classe||"",adresse:M.adresse||"",zone:M.zone||((re=M.demande_inscription)==null?void 0:re.zone_geographique)||""}),C(!0)},oe=async()=>{if(A){P(null);try{await kt.update(A.id,{nom:T.nom,prenom:T.prenom,classe:T.classe,adresse:T.adresse}),C(!1),E(null),await z()}catch(M){console.error("Erreur lors de la modification:",M),P("Erreur lors de la modification de l'lve: "+(M.message||"Erreur inconnue"))}}},B=async M=>{if(window.confirm(`tes-vous sr de vouloir supprimer l'lve ${M.prenom} ${M.nom} ?`)){P(null);try{await kt.delete(M.id),await z()}catch(re){console.error("Erreur lors de la suppression:",re),P("Erreur lors de la suppression de l'lve: "+(re.message||"Erreur inconnue"))}}};return l?a.jsx(Et,{children:a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsx("div",{className:"w-12 h-12 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"})})}):a.jsxs(Et,{title:"Gestion des lves",children:[a.jsx("div",{className:"mb-4",children:a.jsxs("button",{onClick:()=>e(ke("AdminDashboard")),className:"flex items-center gap-2 text-gray-600 hover:text-amber-600 transition-colors",children:[a.jsx(Kt,{className:"w-4 h-4"}),"Retour au tableau de bord"]})}),S&&a.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl flex items-center justify-between",children:[a.jsx("span",{children:S}),a.jsx("button",{onClick:()=>P(null),className:"text-red-500 hover:text-red-700",children:""})]}),a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-xl overflow-hidden mb-6",children:[a.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-500 to-indigo-500",children:[a.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[a.jsx(fr,{className:"w-7 h-7"}),"Liste des lves"]}),a.jsxs("p",{className:"text-blue-100 mt-1",children:[t.length," lve(s) inscrit(s) au total"]})]}),a.jsx("div",{className:"p-6 border-b border-gray-100",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(rv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(ue,{placeholder:"Rechercher par ID, nom, prnom...",value:u,onChange:M=>f(M.target.value),className:"pl-10 h-12 rounded-xl"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[a.jsxs(Te,{value:d,onValueChange:m,children:[a.jsxs(Ee,{className:"h-12 rounded-xl",children:[a.jsx(Do,{className:"w-4 h-4 mr-2"}),a.jsx(Ce,{placeholder:"Statut"})]}),a.jsxs(Pe,{children:[a.jsx(U,{value:"all",children:"Tous les statuts"}),a.jsx(U,{value:"Active",children:"Active"}),a.jsx(U,{value:"Suspendue",children:"Suspendue"}),a.jsx(U,{value:"Termine",children:"Termine"}),a.jsx(U,{value:"Inscrit",children:"Inscrit"})]})]}),a.jsxs(Te,{value:p,onValueChange:v,children:[a.jsxs(Ee,{className:"h-12 rounded-xl",children:[a.jsx(Ot,{className:"w-4 h-4 mr-2"}),a.jsx(Ce,{placeholder:"Zone"})]}),a.jsxs(Pe,{children:[a.jsx(U,{value:"all",children:"Toutes les zones"}),s.map(M=>a.jsx(U,{value:M.nom,children:M.nom},M.id))]})]}),a.jsxs(Te,{value:g,onValueChange:w,children:[a.jsxs(Ee,{className:"h-12 rounded-xl",children:[a.jsx(fr,{className:"w-4 h-4 mr-2"}),a.jsx(Ce,{placeholder:"Classe"})]}),a.jsxs(Pe,{children:[a.jsx(U,{value:"all",children:"Toutes les classes"}),X.map(M=>a.jsx(U,{value:M,children:M},M))]})]}),a.jsxs(Te,{value:x,onValueChange:y,children:[a.jsx(Ee,{className:"h-12 rounded-xl",children:a.jsx(Ce,{placeholder:"Groupe"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"all",children:"Tous les groupes"}),F.map(M=>a.jsx(U,{value:M,children:M},M))]})]}),a.jsxs(Te,{value:h,onValueChange:N,children:[a.jsxs(Ee,{className:"h-12 rounded-xl",children:[a.jsx(rt,{className:"w-4 h-4 mr-2"}),a.jsx(Ce,{placeholder:"Transport"})]}),a.jsxs(Pe,{children:[a.jsx(U,{value:"all",children:"Tous les types"}),Y.map(M=>a.jsx(U,{value:M,children:M},M))]})]}),a.jsxs(Te,{value:j,onValueChange:b,children:[a.jsx(Ee,{className:"h-12 rounded-xl",children:a.jsx(Ce,{placeholder:"Abonnement"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"all",children:"Tous les abonnements"}),J.map(M=>a.jsx(U,{value:M,children:M},M))]})]})]})]})}),a.jsx("div",{className:"divide-y divide-gray-100",children:G.length===0?a.jsxs("div",{className:"p-12 text-center text-gray-400",children:[a.jsx(fr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"Aucun lve trouv"})]}):G.map(M=>{var re,we,be,$,ae;return a.jsx("div",{className:"p-6 hover:bg-blue-50/50 transition-colors",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between gap-4",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-14 h-14 rounded-2xl bg-blue-100 flex items-center justify-center flex-shrink-0",children:a.jsx(xt,{className:"w-7 h-7 text-blue-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"font-semibold text-gray-800 text-lg",children:[M.nom," ",M.prenom]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(fr,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{className:"font-medium",children:"Classe:"}),a.jsx("span",{children:M.classe||"Non spcifi"}),M.groupe&&M.groupe!=="Non spcifi"&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsx("span",{className:"font-medium",children:"Groupe:"}),a.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded-md",children:M.groupe})]})]}),M.adresse&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(Ot,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{className:"font-medium",children:"Adresse:"}),a.jsx("span",{children:M.adresse})]}),M.zone&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(Ot,{className:"w-4 h-4 text-orange-500"}),a.jsx("span",{className:"font-medium",children:"Zone:"}),a.jsx("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 rounded-md",children:M.zone})]}),M.tuteur&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(xt,{className:"w-4 h-4 text-purple-500"}),a.jsx("span",{className:"font-medium",children:"Tuteur:"}),a.jsxs("span",{children:[M.tuteur.prenom," ",M.tuteur.nom]})]}),M.tuteur.telephone&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(bs,{className:"w-4 h-4 text-indigo-500"}),a.jsx("span",{className:"font-medium",children:"Tl:"}),a.jsx("span",{children:M.tuteur.telephone})]})]}),M.bus&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(rt,{className:"w-4 h-4 text-amber-500"}),a.jsx("span",{className:"font-medium",children:"Bus:"}),a.jsx("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-700 rounded-md font-semibold",children:M.bus.numero||M.bus.immatriculation})]}),M.type_transport&&M.type_transport!=="Non spcifi"&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Transport:"}),a.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 rounded-md",children:M.type_transport})]}),M.type_abonnement&&M.type_abonnement!=="Non spcifi"&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Abonnement:"}),a.jsx("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 rounded-md",children:M.type_abonnement})]}),((re=M.inscription)==null?void 0:re.date_debut)&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(Mr,{className:"w-4 h-4 text-red-500"}),a.jsx("span",{className:"font-medium",children:"Inscription depuis:"}),a.jsx("span",{children:Oe(new Date(M.inscription.date_debut),"dd/MM/yyyy")})]}),((we=M.demande_inscription)==null?void 0:we.code_verification)&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(T4,{className:"w-4 h-4 text-teal-500"}),a.jsx("span",{className:"font-medium",children:"Code de vrification:"}),a.jsx("span",{className:"px-2 py-0.5 bg-teal-100 text-teal-700 rounded-md font-mono font-semibold",children:M.demande_inscription.code_verification})]})]})]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-3",children:[a.jsx("span",{className:`px-4 py-2 rounded-xl text-sm font-medium ${k(M.statut_affichage||((be=M.inscription)==null?void 0:be.statut)||M.statut)}`,children:M.statut_affichage||(($=M.inscription)==null?void 0:$.statut)||M.statut}),((ae=M.inscription)==null?void 0:ae.montant_mensuel)&&a.jsxs("span",{className:"text-sm text-gray-600 font-semibold",children:[M.inscription.montant_mensuel," DH/mois"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ne,{onClick:()=>K(M),className:"bg-amber-500 hover:bg-amber-600 text-white rounded-xl",children:[a.jsx(La,{className:"w-4 h-4 mr-2"}),"Modifier"]}),a.jsxs(ne,{onClick:()=>B(M),className:"bg-red-500 hover:bg-red-600 text-white rounded-xl",children:[a.jsx(Wr,{className:"w-4 h-4 mr-2"}),"Supprimer"]})]})]})]})},M.id)})})]}),O&&A&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-100 bg-gradient-to-r from-amber-500 to-yellow-500",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(La,{className:"w-6 h-6"}),"Modifier l'lve"]}),a.jsx("button",{onClick:()=>{C(!1),E(null)},className:"text-white hover:text-amber-100 transition-colors",children:a.jsx(Ir,{className:"w-6 h-6"})})]})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-semibold mb-2 block",children:"Nom"}),a.jsx(ue,{value:T.nom,onChange:M=>R({...T,nom:M.target.value}),className:"rounded-xl border-2 border-gray-200 focus:border-amber-500",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-semibold mb-2 block",children:"Prnom"}),a.jsx(ue,{value:T.prenom,onChange:M=>R({...T,prenom:M.target.value}),className:"rounded-xl border-2 border-gray-200 focus:border-amber-500",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-semibold mb-2 block",children:"Classe"}),a.jsx(ue,{value:T.classe,onChange:M=>R({...T,classe:M.target.value}),className:"rounded-xl border-2 border-gray-200 focus:border-amber-500",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-semibold mb-2 block",children:"Adresse"}),a.jsx(ue,{value:T.adresse,onChange:M=>R({...T,adresse:M.target.value}),className:"rounded-xl border-2 border-gray-200 focus:border-amber-500"})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-semibold mb-2 block",children:"Zone gographique"}),a.jsxs(Te,{value:T.zone,onValueChange:M=>R({...T,zone:M}),children:[a.jsx(Ee,{className:"rounded-xl border-2 border-gray-200 focus:border-amber-500",children:a.jsx(Ce,{placeholder:"Slectionner une zone"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"",children:"Aucune zone"}),s.map(M=>a.jsx(U,{value:M.nom,children:M.nom},M.id))]})]})]})]}),S&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl",children:S}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[a.jsx(ne,{onClick:()=>{C(!1),E(null)},variant:"outline",className:"rounded-xl",children:"Annuler"}),a.jsx(ne,{onClick:oe,className:"bg-amber-500 hover:bg-amber-600 text-white rounded-xl",children:"Enregistrer"})]})]})]})})]})}function gB(){var we,be;const e=nt(),[t,r]=_.useState([]),[n,i]=_.useState([]),[s,o]=_.useState([]),[l,c]=_.useState([]),[u,f]=_.useState([]),[d,m]=_.useState(!0),[p,v]=_.useState(""),[g,w]=_.useState("all"),[x,y]=_.useState(null),[h,N]=_.useState(!1),[j,b]=_.useState(!1),[S,P]=_.useState([]),[A,E]=_.useState(null),[O,C]=_.useState(null),[T,R]=_.useState({date_debut:Oe(new Date,"yyyy-MM-dd"),date_fin:"2026-02-01"}),[z,G]=_.useState(null);_.useEffect(()=>{const $=localStorage.getItem("admin_session");if($)try{const ae=JSON.parse($);C(ae)}catch(ae){console.warn("Erreur parsing admin session:",ae)}X()},[]);const X=async()=>{var $,ae,fe,q,ye,Ne;m(!0),E(null);try{const V=await Promise.allSettled([kt.getAll(),Sr.getAll(),Kn.getAll(),bn.getAll(),ki.getAll(),qt.getAll()]),me=V[0].status==="fulfilled"?Array.isArray(($=V[0].value)==null?void 0:$.data)?V[0].value.data:Array.isArray(V[0].value)?V[0].value:[]:[],Se=V[1].status==="fulfilled"?Array.isArray((ae=V[1].value)==null?void 0:ae.data)?V[1].value.data:Array.isArray(V[1].value)?V[1].value:[]:[],We=V[2].status==="fulfilled"?Array.isArray((fe=V[2].value)==null?void 0:fe.data)?V[2].value.data:Array.isArray(V[2].value)?V[2].value:[]:[],Ie=V[3].status==="fulfilled"?Array.isArray((q=V[3].value)==null?void 0:q.data)?V[3].value.data:Array.isArray(V[3].value)?V[3].value:[]:[],H=V[4].status==="fulfilled"?Array.isArray((ye=V[4].value)==null?void 0:ye.data)?V[4].value.data:Array.isArray(V[4].value)?V[4].value:[]:[],ve=V[5].status==="fulfilled"?Array.isArray((Ne=V[5].value)==null?void 0:Ne.data)?V[5].value.data:Array.isArray(V[5].value)?V[5].value:[]:[],De=Array.isArray(ve)?ve.filter(je=>je.type_demande==="inscription"):[],$e=Array.isArray(me)?me.filter(je=>De.some(Ct=>Ct.eleve_id===je.id)).map(je=>{const Ct=Array.isArray(H)?H.find(et=>et.id===je.tuteur_id):null,qe=Array.isArray(Ie)?Ie.find(et=>et.eleve_id===je.id&&et.statut!=="Termine"):null,Le=qe!=null&&qe.bus_id&&Array.isArray(Se)?Se.find(et=>et.id===qe.bus_id):null,pt=Array.isArray(De)?De.filter(et=>et.eleve_id===je.id).sort((et,pr)=>new Date(pr.date_creation||0)-new Date(et.date_creation||0))[0]:null;return{...je,tuteur:Ct,inscription:qe,bus:Le,demande_inscription:pt,statut_demande:(pt==null?void 0:pt.statut)||"En attente"}}):[];r($e),i(Se),o(We),c(Ie),f(H);const Qe=V.filter(je=>je.status==="rejected").length;Qe>0&&console.warn(`${Qe} appel(s) API ont chou`)}catch(V){console.error("Erreur lors du chargement:",V),E("Erreur lors du chargement des donnes: "+(V.message||"Erreur de connexion au serveur"))}finally{m(!1)}},F=$=>{const ae=new Date,fe=Oe(ae,"yyyy-MM-dd");let q;if($==="Annuel")q="2026-06-30";else{const ye=new Date(ae);ye.setMonth(ye.getMonth()+1),q=Oe(ye,"yyyy-MM-dd")}return{dateDebut:fe,dateFin:q}},Y=async $=>{var ye;y($);let ae="Mensuel";if((ye=$.demande_inscription)!=null&&ye.description)try{ae=(typeof $.demande_inscription.description=="string"?JSON.parse($.demande_inscription.description):$.demande_inscription.description).abonnement||"Mensuel"}catch(Ne){console.warn("Erreur parsing description:",Ne)}const{dateDebut:fe,dateFin:q}=F(ae);R({date_debut:fe,date_fin:q}),b(!0)},J=async()=>{var $;if(!x||!(($=x.demande_inscription)!=null&&$.id)){E("lve ou demande d'inscription manquant.");return}if(!(O!=null&&O.type_id)){E("Session administrateur invalide. Veuillez vous reconnecter.");return}E(null);try{const ae=await qt.traiter(x.demande_inscription.id,"En attente de paiement","Inscription valide par l'administrateur",null,O.type_id);if(!ae||!ae.success)throw new Error((ae==null?void 0:ae.message)||"Erreur lors du traitement de la demande");b(!1),y(null);const fe=new Date,q=new Date(fe);q.setMonth(q.getMonth()+1),R({date_debut:Oe(fe,"yyyy-MM-dd"),date_fin:Oe(q,"yyyy-MM-dd")}),await X()}catch(ae){console.error("Erreur lors de la validation:",ae),E("Erreur lors de la validation de l'inscription: "+(ae.message||"Erreur inconnue"))}},k=async($,ae)=>{var fe;if(ae){if(!(O!=null&&O.type_id)){E("Session administrateur invalide. Veuillez vous reconnecter.");return}E(null);try{(fe=$.demande_inscription)!=null&&fe.id&&await qt.traiter($.demande_inscription.id,"Refuse",`Inscription refuse: ${ae}`,ae,O.type_id),$.inscription&&await bn.update($.inscription.id,{statut:"Termine"}),await X()}catch(q){console.error("Erreur lors du refus:",q),E("Erreur lors du refus de l'inscription: "+q.message)}}},K=async $=>{var ae;y($),E(null);try{let fe=[];const q=((ae=$.demande_inscription)==null?void 0:ae.zone_geographique)||$.zone;if(!q){E("Aucune zone gographique dfinie pour cet lve");return}try{const ye=await Sr.getByZone(q);ye.success&&ye.data&&ye.data.length>0&&(fe=ye.data.map(Ne=>{const V=s.find(me=>me.id===Ne.trajet_id);return{...Ne,trajet:V,placesRestantes:Ne.places_restantes||0,elevesInscrits:Ne.eleves_inscrits||0}}))}catch(ye){console.error("Erreur lors du chargement des bus par zone:",ye),E("Erreur lors du chargement des bus disponibles pour cette zone");return}if(fe.length===0){E(`Aucun bus disponible pour la zone "${q}"`);return}P(fe),N(!0)}catch(fe){console.error("Erreur lors de la prparation de l'affectation:",fe),E("Erreur lors du chargement des bus disponibles")}},oe=async $=>{var ae,fe,q;if(x){E(null);try{const ye=n.find(H=>H.id===$);if(!ye){E("Bus non trouv");return}let Ne=500;if((ae=x.demande_inscription)!=null&&ae.description){const H=P0(x.demande_inscription.description),ve=_v(H.type_transport,H.abonnement);Ne=H.abonnement==="Annuel"?ve/10:ve}let V="Mensuel";(fe=x.demande_inscription)!=null&&fe.description&&(V=P0(x.demande_inscription.description).abonnement||"Mensuel");const{dateDebut:me,dateFin:Se}=F(V),We={eleve_id:x.id,bus_id:$,date_debut:me,date_fin:Se,montant_mensuel:Ne,statut:"Active"},Ie=await bn.create(We);if(!Ie||!Ie.success)throw new Error((Ie==null?void 0:Ie.message)||"Erreur lors de la cration de l'inscription");if((q=x.demande_inscription)!=null&&q.id)try{await qt.traiter(x.demande_inscription.id,"Inscrit","lve affect  un bus",null,O==null?void 0:O.type_id)}catch(H){console.warn("Erreur lors de la mise  jour du statut de la demande:",H)}try{await kt.update(x.id,{statut:"Actif"})}catch(H){console.warn("Erreur lors de l'activation de l'lve:",H)}if(x.tuteur_id)try{await ut.create({destinataire_id:x.tuteur_id,destinataire_type:"tuteur",titre:"Affectation au bus",message:`${x.prenom} ${x.nom} a t affect(e) au bus ${ye.numero}.`,type:"info",date:new Date().toISOString()})}catch(H){console.warn("Erreur lors de l'envoi de la notification:",H)}N(!1),y(null),await X()}catch(ye){console.error("Erreur lors de l'affectation:",ye),E("Erreur lors de l'affectation au bus: "+(ye.message||"Erreur inconnue"))}}},B=t.filter($=>{var q,ye,Ne,V;const ae=((q=$.nom)==null?void 0:q.toLowerCase().includes(p.toLowerCase()))||((ye=$.prenom)==null?void 0:ye.toLowerCase().includes(p.toLowerCase()))||((Ne=$.adresse)==null?void 0:Ne.toLowerCase().includes(p.toLowerCase()))||((V=$.classe)==null?void 0:V.toLowerCase().includes(p.toLowerCase())),fe=g==="all"||$.statut_demande===g;return ae&&fe}),M=$=>({"En attente":"bg-yellow-100 text-yellow-700","En cours de traitement":"bg-blue-100 text-blue-700","En attente de paiement":"bg-orange-100 text-orange-700",Paye:"bg-amber-100 text-amber-700",Valide:"bg-green-100 text-green-700",Inscrit:"bg-emerald-100 text-emerald-700",Refuse:"bg-red-100 text-red-700",Active:"bg-emerald-100 text-emerald-700",Suspendue:"bg-orange-100 text-orange-700",Termine:"bg-gray-100 text-gray-700"})[$]||"bg-gray-100 text-gray-700",re=async($,ae)=>{try{await navigator.clipboard.writeText($),G(ae),setTimeout(()=>G(null),2e3)}catch(fe){console.error("Erreur lors de la copie:",fe)}};return d?a.jsx(Et,{children:a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsx("div",{className:"w-12 h-12 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"})})}):a.jsxs(Et,{title:"Gestion des Inscriptions",children:[a.jsx("div",{className:"mb-4",children:a.jsxs("button",{onClick:()=>e(ke("AdminDashboard")),className:"flex items-center gap-2 text-gray-600 hover:text-amber-600 transition-colors",children:[a.jsx(Kt,{className:"w-4 h-4"}),"Retour au tableau de bord"]})}),A&&a.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl flex items-center justify-between",children:[a.jsx("span",{children:A}),a.jsx("button",{onClick:()=>E(null),className:"text-red-500 hover:text-red-700",children:a.jsx(Ir,{className:"w-5 h-5"})})]}),a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-xl overflow-hidden mb-6",children:[a.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-500 to-cyan-500",children:[a.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[a.jsx(f0,{className:"w-7 h-7"}),"Gestion des Inscriptions des lves"]}),a.jsxs("p",{className:"text-blue-100 mt-1",children:["Inscriptions envoyes par les tuteurs  ",t.length," lve(s)  ",l.filter($=>$.statut==="Active").length," inscription(s) active(s)"]})]}),a.jsx("div",{className:"p-6 border-b border-gray-100",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(rv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(ue,{placeholder:"Rechercher par nom, prnom, adresse ou classe...",value:p,onChange:$=>v($.target.value),className:"pl-10 h-12 rounded-xl"})]}),a.jsxs(Te,{value:g,onValueChange:w,children:[a.jsxs(Ee,{className:"w-full md:w-48 h-12 rounded-xl",children:[a.jsx(Do,{className:"w-4 h-4 mr-2"}),a.jsx(Ce,{placeholder:"Statut"})]}),a.jsxs(Pe,{children:[a.jsx(U,{value:"all",children:"Tous les statuts"}),a.jsx(U,{value:"En attente",children:"En attente"}),a.jsx(U,{value:"En cours de traitement",children:"En cours de traitement"}),a.jsx(U,{value:"En attente de paiement",children:"En attente de paiement"}),a.jsx(U,{value:"Paye",children:"Paye"}),a.jsx(U,{value:"Valide",children:"Valide"}),a.jsx(U,{value:"Inscrit",children:"Inscrit"}),a.jsx(U,{value:"Refuse",children:"Refuse"})]})]})]})}),a.jsx("div",{className:"divide-y divide-gray-100",children:B.length===0?a.jsxs("div",{className:"p-12 text-center text-gray-400",children:[a.jsx(f0,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"Aucune inscription trouve"})]}):B.map($=>{var ae,fe;return a.jsx("div",{className:"p-6 hover:bg-amber-50/50 transition-colors",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between gap-4",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-14 h-14 rounded-2xl bg-blue-100 flex items-center justify-center flex-shrink-0",children:a.jsx(xt,{className:"w-7 h-7 text-blue-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"font-semibold text-gray-800 text-lg",children:[$.nom," ",$.prenom]}),a.jsxs("div",{className:"flex flex-wrap gap-2 mt-1 text-sm text-gray-500",children:[a.jsx("span",{children:$.classe}),$.date_naissance&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsx("span",{children:Oe(new Date($.date_naissance),"dd/MM/yyyy")})]}),$.adresse&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ot,{className:"w-3 h-3"}),$.adresse]})]})]}),$.tuteur&&a.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Tuteur: ",$.tuteur.prenom," ",$.tuteur.nom,"  ",$.tuteur.telephone||$.tuteur.email]}),$.bus&&a.jsxs("p",{className:"text-sm text-blue-600 mt-1 flex items-center gap-1",children:[a.jsx(rt,{className:"w-3 h-3"}),"Bus: ",$.bus.numero]}),$.inscription&&a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Inscription du ",Oe(new Date($.inscription.date_inscription),"dd/MM/yyyy")," ",$.inscription.montant_mensuel," DH/mois"]}),((ae=$.demande_inscription)==null?void 0:ae.code_verification)&&($.statut_demande==="En attente de paiement"||$.statut_demande==="Paye"||$.statut_demande==="Valide"||$.statut_demande==="Inscrit")&&a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Code de vrification:"}),a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-amber-100 text-amber-800 rounded-lg border border-amber-200",children:[a.jsx("span",{className:"font-mono font-bold text-sm",children:$.demande_inscription.code_verification}),a.jsx("button",{onClick:()=>re($.demande_inscription.code_verification,$.id),className:"p-1 hover:bg-amber-200 rounded transition-colors",title:"Copier le code",children:z===$.id?a.jsx(vi,{className:"w-3 h-3 text-green-600"}):a.jsx(Qj,{className:"w-3 h-3 text-amber-700"})})]})]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsx("span",{className:`px-4 py-2 rounded-xl text-sm font-medium ${M($.statut_demande||"En attente")}`,children:$.statut_demande||"En attente"}),a.jsxs(ne,{variant:"outline",onClick:()=>{var q;if(y($),($.statut_demande==="En attente"||$.statut_demande==="En cours de traitement")&&!$.inscription){let ye="Mensuel";if((q=$.demande_inscription)!=null&&q.description)try{ye=(typeof $.demande_inscription.description=="string"?JSON.parse($.demande_inscription.description):$.demande_inscription.description).abonnement||"Mensuel"}catch(me){console.warn("Erreur parsing description:",me)}const{dateDebut:Ne,dateFin:V}=F(ye);R({date_debut:Ne,date_fin:V})}b(!0)},className:"rounded-xl",children:[a.jsx(ia,{className:"w-4 h-4 mr-2"}),"Dtails"]}),($.statut_demande==="En attente"||$.statut_demande==="En cours de traitement")&&!$.inscription&&a.jsxs(a.Fragment,{children:[a.jsxs(ne,{onClick:()=>Y($),className:"bg-green-500 hover:bg-green-600 text-white rounded-xl",children:[a.jsx(it,{className:"w-4 h-4 mr-2"}),"Valider"]}),a.jsxs(ne,{onClick:()=>{const q=prompt("Motif du refus:");q&&k($,q)},className:"bg-red-500 hover:bg-red-600 text-white rounded-xl",children:[a.jsx(Ir,{className:"w-4 h-4 mr-2"}),"Refuser"]})]}),$.statut_demande==="Paye"&&!((fe=$.inscription)!=null&&fe.bus_id)&&a.jsxs(ne,{onClick:()=>K($),className:"bg-amber-500 hover:bg-amber-600 text-white rounded-xl",children:[a.jsx(rt,{className:"w-4 h-4 mr-2"}),"Affecter un bus"]})]})]})},$.id)})})]}),j&&x&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(ia,{className:"w-5 h-5"}),"Dtails de l'inscription"]}),a.jsxs("p",{className:"text-gray-500 mt-1",children:[x.prenom," ",x.nom]})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(xt,{className:"w-5 h-5 text-blue-500"}),"Informations de l'lve"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nom"}),a.jsx("p",{className:"text-gray-800",children:x.nom})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Prnom"}),a.jsx("p",{className:"text-gray-800",children:x.prenom})]}),x.date_naissance&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Date de naissance"}),a.jsx("p",{className:"text-gray-800",children:Oe(new Date(x.date_naissance),"dd/MM/yyyy",{locale:kr})})]}),x.classe&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Classe"}),a.jsx("p",{className:"text-gray-800",children:x.classe})]}),x.adresse&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-1 flex items-center gap-1",children:[a.jsx(Ot,{className:"w-4 h-4"}),"Adresse"]}),a.jsx("p",{className:"text-gray-800",children:x.adresse})]}),((we=x.demande_inscription)==null?void 0:we.zone_geographique)&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Zone gographique"}),a.jsx("p",{className:"text-gray-800",children:x.demande_inscription.zone_geographique})]})]})]}),x.tuteur&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(xt,{className:"w-5 h-5 text-green-500"}),"Informations du tuteur"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nom"}),a.jsx("p",{className:"text-gray-800",children:x.tuteur.nom})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Prnom"}),a.jsx("p",{className:"text-gray-800",children:x.tuteur.prenom})]}),x.tuteur.telephone&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Tlphone"}),a.jsx("p",{className:"text-gray-800",children:x.tuteur.telephone})]}),x.tuteur.email&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Email"}),a.jsx("p",{className:"text-gray-800",children:x.tuteur.email})]})]})]}),x.demande_inscription&&(()=>{let $={};try{$=typeof x.demande_inscription.description=="string"?JSON.parse(x.demande_inscription.description):x.demande_inscription.description||{}}catch(ae){console.warn("Erreur parsing description:",ae)}return a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(_a,{className:"w-5 h-5 text-amber-500"}),"Informations de l'inscription"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[$.type_transport&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Type de transport"}),a.jsx("p",{className:"text-gray-800",children:$.type_transport})]}),$.abonnement&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Type d'abonnement"}),a.jsx("p",{className:"text-gray-800 font-semibold",children:$.abonnement})]}),$.groupe&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Groupe horaire"}),a.jsx("p",{className:"text-gray-800",children:$.groupe})]}),$.niveau&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Niveau"}),a.jsx("p",{className:"text-gray-800",children:$.niveau})]}),$.lien_parente&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Lien de parent"}),a.jsx("p",{className:"text-gray-800",children:$.lien_parente})]}),x.demande_inscription.date_creation&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Date de la demande"}),a.jsx("p",{className:"text-gray-800",children:Oe(new Date(x.demande_inscription.date_creation),"dd/MM/yyyy  HH:mm",{locale:kr})})]}),x.demande_inscription.code_verification&&(x.statut_demande==="En attente de paiement"||x.statut_demande==="Paye"||x.statut_demande==="Valide"||x.statut_demande==="Inscrit")&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Code de vrification du paiement"}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("div",{className:"flex-1 px-4 py-3 bg-amber-50 border-2 border-amber-200 rounded-xl",children:[a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Code  donner au tuteur pour valider le paiement:"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-mono font-bold text-xl text-amber-800",children:x.demande_inscription.code_verification}),a.jsx("button",{onClick:()=>re(x.demande_inscription.code_verification,x.id),className:"p-2 hover:bg-amber-100 rounded-lg transition-colors",title:"Copier le code",children:z===x.id?a.jsx(vi,{className:"w-5 h-5 text-green-600"}):a.jsx(Qj,{className:"w-5 h-5 text-amber-700"})})]}),z===x.id&&a.jsx("p",{className:"text-xs text-green-600 mt-1",children:" Code copi dans le presse-papiers"})]})})]}),x.demande_inscription.montant_facture&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Montant de la facture"}),a.jsxs("p",{className:"text-gray-800 font-semibold",children:[parseFloat(x.demande_inscription.montant_facture).toLocaleString("fr-FR")," DH"]})]})]})]})})(),(x.statut_demande==="En attente"||x.statut_demande==="En cours de traitement")&&!x.inscription&&a.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(it,{className:"w-5 h-5 text-green-500"}),"Valider l'inscription"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Mr,{className:"w-4 h-4 inline mr-1"}),"Date de dbut"]}),a.jsx(ue,{type:"date",value:T.date_debut,disabled:!0,className:"rounded-xl bg-gray-50 cursor-not-allowed"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Date automatique (date courante)"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Mr,{className:"w-4 h-4 inline mr-1"}),"Date de fin"]}),a.jsx(ue,{type:"date",value:T.date_fin,disabled:!0,className:"rounded-xl bg-gray-50 cursor-not-allowed"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(()=>{var ae;let $="Mensuel";if((ae=x.demande_inscription)!=null&&ae.description)try{$=(typeof x.demande_inscription.description=="string"?JSON.parse(x.demande_inscription.description):x.demande_inscription.description||{}).abonnement||"Mensuel"}catch{}return $==="Annuel"?"Date automatique (30/06/2026 pour abonnement annuel)":"Date automatique (date de dbut + 1 mois pour abonnement mensuel)"})()})]})]})]})]}),a.jsxs("div",{className:"p-6 border-t border-gray-100 flex gap-3 justify-end",children:[a.jsx(ne,{variant:"outline",onClick:()=>{b(!1),y(null)},className:"rounded-xl",children:"Fermer"}),(x.statut_demande==="En attente"||x.statut_demande==="En cours de traitement")&&!x.inscription&&a.jsxs(ne,{onClick:J,className:"bg-green-500 hover:bg-green-600 text-white rounded-xl",children:[a.jsx(it,{className:"w-4 h-4 mr-2"}),"Valider l'inscription"]})]})]})}),h&&x&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Affectation de bus"}),a.jsxs("div",{className:"mt-2 space-y-1",children:[a.jsxs("p",{className:"text-gray-700",children:[a.jsx("span",{className:"font-medium",children:"Nom:"})," ",x.nom]}),a.jsxs("p",{className:"text-gray-700",children:[a.jsx("span",{className:"font-medium",children:"Prnom:"})," ",x.prenom]}),((be=x.demande_inscription)==null?void 0:be.zone_geographique)&&a.jsxs("p",{className:"text-gray-700",children:[a.jsx("span",{className:"font-medium",children:"Zone:"})," ",x.demande_inscription.zone_geographique]}),x.adresse&&a.jsxs("p",{className:"text-gray-700 flex items-center gap-1",children:[a.jsx(Ot,{className:"w-4 h-4"}),a.jsx("span",{className:"font-medium",children:"Adresse:"})," ",x.adresse]})]})]}),a.jsx("div",{className:"p-6",children:S.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-400",children:[a.jsx(rt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"Aucun bus disponible"}),a.jsx("p",{className:"text-sm mt-1",children:"Tous les bus sont pleins ou inactifs"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[S.length," bus disponible(s):"]}),S.map($=>{var ae;return a.jsx("div",{className:"p-4 rounded-2xl border-2 border-gray-100 hover:border-amber-200 transition-colors",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:$.numero}),a.jsxs("p",{className:"text-sm text-gray-400",children:["Trajet: ",((ae=$.trajet)==null?void 0:ae.nom)||"Non assign"]}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Capacit: ",$.elevesInscrits,"/",$.capacite]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:`text-2xl font-bold ${$.placesRestantes>5?"text-green-500":"text-orange-500"}`,children:$.placesRestantes}),a.jsx("p",{className:"text-xs text-gray-400",children:"places restantes"}),a.jsx(ne,{onClick:()=>oe($.id),className:"mt-2 bg-amber-500 hover:bg-amber-600 text-white rounded-xl",size:"sm",children:"Affecter"})]})]})},$.id)})]})}),a.jsx("div",{className:"p-6 border-t border-gray-100 flex justify-end",children:a.jsx(ne,{variant:"outline",onClick:()=>{N(!1),y(null)},className:"rounded-xl",children:"Fermer"})})]})})]})}function sE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=sE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Xe(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=sE(e))&&(n&&(n+=" "),n+=t);return n}var xB=Array.isArray,qr=xB,yB=typeof Hu=="object"&&Hu&&Hu.Object===Object&&Hu,oE=yB,vB=oE,bB=typeof self=="object"&&self&&self.Object===Object&&self,jB=vB||bB||Function("return this")(),ca=jB,wB=ca,NB=wB.Symbol,Lu=NB,f1=Lu,lE=Object.prototype,SB=lE.hasOwnProperty,_B=lE.toString,Bl=f1?f1.toStringTag:void 0;function AB(e){var t=SB.call(e,Bl),r=e[Bl];try{e[Bl]=void 0;var n=!0}catch{}var i=_B.call(e);return n&&(t?e[Bl]=r:delete e[Bl]),i}var PB=AB,OB=Object.prototype,EB=OB.toString;function CB(e){return EB.call(e)}var TB=CB,m1=Lu,kB=PB,MB=TB,$B="[object Null]",DB="[object Undefined]",h1=m1?m1.toStringTag:void 0;function IB(e){return e==null?e===void 0?DB:$B:h1&&h1 in Object(e)?kB(e):MB(e)}var Wa=IB;function LB(e){return e!=null&&typeof e=="object"}var Ha=LB,RB=Wa,BB=Ha,FB="[object Symbol]";function zB(e){return typeof e=="symbol"||BB(e)&&RB(e)==FB}var pl=zB,VB=qr,UB=pl,WB=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,HB=/^\w*$/;function qB(e,t){if(VB(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||UB(e)?!0:HB.test(e)||!WB.test(e)||t!=null&&e in Object(t)}var Av=qB;function GB(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var $i=GB;const gl=mt($i);var KB=Wa,YB=$i,XB="[object AsyncFunction]",JB="[object Function]",ZB="[object GeneratorFunction]",QB="[object Proxy]";function eF(e){if(!YB(e))return!1;var t=KB(e);return t==JB||t==ZB||t==XB||t==QB}var Pv=eF;const He=mt(Pv);var tF=ca,rF=tF["__core-js_shared__"],nF=rF,Fp=nF,p1=function(){var e=/[^.]+$/.exec(Fp&&Fp.keys&&Fp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function aF(e){return!!p1&&p1 in e}var iF=aF,sF=Function.prototype,oF=sF.toString;function lF(e){if(e!=null){try{return oF.call(e)}catch{}try{return e+""}catch{}}return""}var cE=lF,cF=Pv,uF=iF,dF=$i,fF=cE,mF=/[\\^$.*+?()[\]{}|]/g,hF=/^\[object .+?Constructor\]$/,pF=Function.prototype,gF=Object.prototype,xF=pF.toString,yF=gF.hasOwnProperty,vF=RegExp("^"+xF.call(yF).replace(mF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bF(e){if(!dF(e)||uF(e))return!1;var t=cF(e)?vF:hF;return t.test(fF(e))}var jF=bF;function wF(e,t){return e==null?void 0:e[t]}var NF=wF,SF=jF,_F=NF;function AF(e,t){var r=_F(e,t);return SF(r)?r:void 0}var ks=AF,PF=ks,OF=PF(Object,"create"),ah=OF,g1=ah;function EF(){this.__data__=g1?g1(null):{},this.size=0}var CF=EF;function TF(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var kF=TF,MF=ah,$F="__lodash_hash_undefined__",DF=Object.prototype,IF=DF.hasOwnProperty;function LF(e){var t=this.__data__;if(MF){var r=t[e];return r===$F?void 0:r}return IF.call(t,e)?t[e]:void 0}var RF=LF,BF=ah,FF=Object.prototype,zF=FF.hasOwnProperty;function VF(e){var t=this.__data__;return BF?t[e]!==void 0:zF.call(t,e)}var UF=VF,WF=ah,HF="__lodash_hash_undefined__";function qF(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=WF&&t===void 0?HF:t,this}var GF=qF,KF=CF,YF=kF,XF=RF,JF=UF,ZF=GF;function xl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}xl.prototype.clear=KF;xl.prototype.delete=YF;xl.prototype.get=XF;xl.prototype.has=JF;xl.prototype.set=ZF;var QF=xl;function e8(){this.__data__=[],this.size=0}var t8=e8;function r8(e,t){return e===t||e!==e&&t!==t}var Ov=r8,n8=Ov;function a8(e,t){for(var r=e.length;r--;)if(n8(e[r][0],t))return r;return-1}var ih=a8,i8=ih,s8=Array.prototype,o8=s8.splice;function l8(e){var t=this.__data__,r=i8(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():o8.call(t,r,1),--this.size,!0}var c8=l8,u8=ih;function d8(e){var t=this.__data__,r=u8(t,e);return r<0?void 0:t[r][1]}var f8=d8,m8=ih;function h8(e){return m8(this.__data__,e)>-1}var p8=h8,g8=ih;function x8(e,t){var r=this.__data__,n=g8(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var y8=x8,v8=t8,b8=c8,j8=f8,w8=p8,N8=y8;function yl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}yl.prototype.clear=v8;yl.prototype.delete=b8;yl.prototype.get=j8;yl.prototype.has=w8;yl.prototype.set=N8;var sh=yl,S8=ks,_8=ca,A8=S8(_8,"Map"),Ev=A8,x1=QF,P8=sh,O8=Ev;function E8(){this.size=0,this.__data__={hash:new x1,map:new(O8||P8),string:new x1}}var C8=E8;function T8(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var k8=T8,M8=k8;function $8(e,t){var r=e.__data__;return M8(t)?r[typeof t=="string"?"string":"hash"]:r.map}var oh=$8,D8=oh;function I8(e){var t=D8(this,e).delete(e);return this.size-=t?1:0,t}var L8=I8,R8=oh;function B8(e){return R8(this,e).get(e)}var F8=B8,z8=oh;function V8(e){return z8(this,e).has(e)}var U8=V8,W8=oh;function H8(e,t){var r=W8(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var q8=H8,G8=C8,K8=L8,Y8=F8,X8=U8,J8=q8;function vl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}vl.prototype.clear=G8;vl.prototype.delete=K8;vl.prototype.get=Y8;vl.prototype.has=X8;vl.prototype.set=J8;var Cv=vl,uE=Cv,Z8="Expected a function";function Tv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Z8);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(Tv.Cache||uE),r}Tv.Cache=uE;var dE=Tv;const Q8=mt(dE);var ez=dE,tz=500;function rz(e){var t=ez(e,function(n){return r.size===tz&&r.clear(),n}),r=t.cache;return t}var nz=rz,az=nz,iz=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sz=/\\(\\)?/g,oz=az(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(iz,function(r,n,i,s){t.push(i?s.replace(sz,"$1"):n||r)}),t}),lz=oz;function cz(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var kv=cz,y1=Lu,uz=kv,dz=qr,fz=pl,v1=y1?y1.prototype:void 0,b1=v1?v1.toString:void 0;function fE(e){if(typeof e=="string")return e;if(dz(e))return uz(e,fE)+"";if(fz(e))return b1?b1.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var mz=fE,hz=mz;function pz(e){return e==null?"":hz(e)}var mE=pz,gz=qr,xz=Av,yz=lz,vz=mE;function bz(e,t){return gz(e)?e:xz(e,t)?[e]:yz(vz(e))}var hE=bz,jz=pl;function wz(e){if(typeof e=="string"||jz(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var lh=wz,Nz=hE,Sz=lh;function _z(e,t){t=Nz(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Sz(t[r++])];return r&&r==n?e:void 0}var Mv=_z,Az=Mv;function Pz(e,t,r){var n=e==null?void 0:Az(e,t);return n===void 0?r:n}var pE=Pz;const tn=mt(pE);function Oz(e){return e==null}var Ez=Oz;const Je=mt(Ez);var Cz=Wa,Tz=qr,kz=Ha,Mz="[object String]";function $z(e){return typeof e=="string"||!Tz(e)&&kz(e)&&Cz(e)==Mz}var Dz=$z;const ws=mt(Dz);var gE={exports:{}},ht={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v=Symbol.for("react.element"),Dv=Symbol.for("react.portal"),ch=Symbol.for("react.fragment"),uh=Symbol.for("react.strict_mode"),dh=Symbol.for("react.profiler"),fh=Symbol.for("react.provider"),mh=Symbol.for("react.context"),Iz=Symbol.for("react.server_context"),hh=Symbol.for("react.forward_ref"),ph=Symbol.for("react.suspense"),gh=Symbol.for("react.suspense_list"),xh=Symbol.for("react.memo"),yh=Symbol.for("react.lazy"),Lz=Symbol.for("react.offscreen"),xE;xE=Symbol.for("react.module.reference");function _n(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case $v:switch(e=e.type,e){case ch:case dh:case uh:case ph:case gh:return e;default:switch(e=e&&e.$$typeof,e){case Iz:case mh:case hh:case yh:case xh:case fh:return e;default:return t}}case Dv:return t}}}ht.ContextConsumer=mh;ht.ContextProvider=fh;ht.Element=$v;ht.ForwardRef=hh;ht.Fragment=ch;ht.Lazy=yh;ht.Memo=xh;ht.Portal=Dv;ht.Profiler=dh;ht.StrictMode=uh;ht.Suspense=ph;ht.SuspenseList=gh;ht.isAsyncMode=function(){return!1};ht.isConcurrentMode=function(){return!1};ht.isContextConsumer=function(e){return _n(e)===mh};ht.isContextProvider=function(e){return _n(e)===fh};ht.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===$v};ht.isForwardRef=function(e){return _n(e)===hh};ht.isFragment=function(e){return _n(e)===ch};ht.isLazy=function(e){return _n(e)===yh};ht.isMemo=function(e){return _n(e)===xh};ht.isPortal=function(e){return _n(e)===Dv};ht.isProfiler=function(e){return _n(e)===dh};ht.isStrictMode=function(e){return _n(e)===uh};ht.isSuspense=function(e){return _n(e)===ph};ht.isSuspenseList=function(e){return _n(e)===gh};ht.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ch||e===dh||e===uh||e===ph||e===gh||e===Lz||typeof e=="object"&&e!==null&&(e.$$typeof===yh||e.$$typeof===xh||e.$$typeof===fh||e.$$typeof===mh||e.$$typeof===hh||e.$$typeof===xE||e.getModuleId!==void 0)};ht.typeOf=_n;gE.exports=ht;var Rz=gE.exports,Bz=Wa,Fz=Ha,zz="[object Number]";function Vz(e){return typeof e=="number"||Fz(e)&&Bz(e)==zz}var yE=Vz;const Uz=mt(yE);var Wz=yE;function Hz(e){return Wz(e)&&e!=+e}var qz=Hz;const Ru=mt(qz);var Or=function(t){return t===0?0:t>0?1:-1},ns=function(t){return ws(t)&&t.indexOf("%")===t.length-1},xe=function(t){return Uz(t)&&!Ru(t)},Gz=function(t){return Je(t)},er=function(t){return xe(t)||ws(t)},Kz=0,Bu=function(t){var r=++Kz;return"".concat(t||"").concat(r)},Er=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xe(t)&&!ws(t))return n;var s;if(ns(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return Ru(s)&&(s=n),i&&s>r&&(s=r),s},ai=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Yz=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},ei=function(t,r){return xe(t)&&xe(r)?function(n){return t+n*(r-t)}:function(){return r}};function O0(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):tn(n,t))===r})}var Xz=function(t,r){return xe(t)&&xe(r)?t-r:ws(t)&&ws(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function No(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function E0(e){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E0(e)}var Jz=["viewBox","children"],Zz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],j1=["points","pathLength"],zp={svg:Jz,polygon:j1,polyline:j1},Iv=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ef=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),!gl(n))return null;var i={};return Object.keys(n).forEach(function(s){Iv.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},Qz=function(t,r,n){return function(i){return t(r,n,i),null}},Ns=function(t,r,n){if(!gl(t)||E0(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var o=t[s];Iv.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=Qz(o,r,n))}),i},e7=["children"],t7=["children"];function w1(e,t){if(e==null)return{};var r=r7(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var N1={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ea=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},S1=null,Vp=null,Lv=function e(t){if(t===S1&&Array.isArray(Vp))return Vp;var r=[];return _.Children.forEach(t,function(n){Je(n)||(Rz.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Vp=r,S1=t,r};function jn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return Ea(i)}):n=[Ea(t)],Lv(e).forEach(function(i){var s=tn(i,"type.displayName")||tn(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function Xr(e,t){var r=jn(e,t);return r&&r[0]}var _1=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!xe(n)||n<=0||!xe(i)||i<=0)},n7=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],a7=function(t){return t&&t.type&&ws(t.type)&&n7.indexOf(t.type)>=0},i7=function(t,r,n,i){var s,o=(s=zp==null?void 0:zp[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!He(t)&&(i&&o.includes(r)||Zz.includes(r))||n&&Iv.includes(r)},Ue=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(_.isValidElement(t)&&(i=t.props),!gl(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;i7((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=i[o])}),s},C0=function e(t,r){if(t===r)return!0;var n=_.Children.count(t);if(n!==_.Children.count(r))return!1;if(n===0)return!0;if(n===1)return A1(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=t[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!A1(s,o))return!1}return!0},A1=function(t,r){if(Je(t)&&Je(r))return!0;if(!Je(t)&&!Je(r)){var n=t.props||{},i=n.children,s=w1(n,e7),o=r.props||{},l=o.children,c=w1(o,t7);return i&&l?No(s,c)&&C0(i,l):!i&&!l?No(s,c):!1}return!1},P1=function(t,r){var n=[],i={};return Lv(t).forEach(function(s,o){if(a7(s))n.push(s);else if(s){var l=Ea(s.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!i[l])){var d=u(s,l,o);n.push(d),i[l]=!0}}}),n},s7=function(t){var r=t&&t.type;return r&&N1[r]?N1[r]:null},o7=function(t,r){return Lv(r).indexOf(t)},l7=["children","width","height","viewBox","className","style","title","desc"];function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T0.apply(this,arguments)}function c7(e,t){if(e==null)return{};var r=u7(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function k0(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=c7(e,l7),f=i||{width:r,height:n,x:0,y:0},d=Xe("recharts-surface",s);return I.createElement("svg",T0({},Ue(u,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),I.createElement("title",null,l),I.createElement("desc",null,c),t)}var d7=["children","className"];function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M0.apply(this,arguments)}function f7(e,t){if(e==null)return{};var r=m7(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var dt=I.forwardRef(function(e,t){var r=e.children,n=e.className,i=f7(e,d7),s=Xe("recharts-layer",n);return I.createElement("g",M0({className:s},Ue(i,!0),{ref:t}),r)}),Ln=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function h7(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(i);++n<i;)s[n]=e[n+t];return s}var p7=h7,g7=p7;function x7(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:g7(e,t,r)}var y7=x7,v7="\\ud800-\\udfff",b7="\\u0300-\\u036f",j7="\\ufe20-\\ufe2f",w7="\\u20d0-\\u20ff",N7=b7+j7+w7,S7="\\ufe0e\\ufe0f",_7="\\u200d",A7=RegExp("["+_7+v7+N7+S7+"]");function P7(e){return A7.test(e)}var vE=P7;function O7(e){return e.split("")}var E7=O7,bE="\\ud800-\\udfff",C7="\\u0300-\\u036f",T7="\\ufe20-\\ufe2f",k7="\\u20d0-\\u20ff",M7=C7+T7+k7,$7="\\ufe0e\\ufe0f",D7="["+bE+"]",$0="["+M7+"]",D0="\\ud83c[\\udffb-\\udfff]",I7="(?:"+$0+"|"+D0+")",jE="[^"+bE+"]",wE="(?:\\ud83c[\\udde6-\\uddff]){2}",NE="[\\ud800-\\udbff][\\udc00-\\udfff]",L7="\\u200d",SE=I7+"?",_E="["+$7+"]?",R7="(?:"+L7+"(?:"+[jE,wE,NE].join("|")+")"+_E+SE+")*",B7=_E+SE+R7,F7="(?:"+[jE+$0+"?",$0,wE,NE,D7].join("|")+")",z7=RegExp(D0+"(?="+D0+")|"+F7+B7,"g");function V7(e){return e.match(z7)||[]}var U7=V7,W7=E7,H7=vE,q7=U7;function G7(e){return H7(e)?q7(e):W7(e)}var K7=G7,Y7=y7,X7=vE,J7=K7,Z7=mE;function Q7(e){return function(t){t=Z7(t);var r=X7(t)?J7(t):void 0,n=r?r[0]:t.charAt(0),i=r?Y7(r,1).join(""):t.slice(1);return n[e]()+i}}var eV=Q7,tV=eV,rV=tV("toUpperCase"),nV=rV;const vh=mt(nV);function bt(e){return function(){return e}}const AE=Math.cos,Cf=Math.sin,Fn=Math.sqrt,Tf=Math.PI,bh=2*Tf,I0=Math.PI,L0=2*I0,Ki=1e-6,aV=L0-Ki;function PE(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function iV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return PE;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class sV{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?PE:iV(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=i-r,f=o-t,d=l-r,m=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>Ki)if(!(Math.abs(d*c-u*f)>Ki)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,v=i-l,g=c*c+u*u,w=p*p+v*v,x=Math.sqrt(g),y=Math.sqrt(m),h=s*Math.tan((I0-Math.acos((g+m-w)/(2*x*y)))/2),N=h/y,j=h/x;Math.abs(N-1)>Ki&&this._append`L${t+N*f},${r+N*d}`,this._append`A${s},${s},0,0,${+(d*p>f*v)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,i,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,f=r+c,d=1^o,m=o?i-s:s-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Ki||Math.abs(this._y1-f)>Ki)&&this._append`L${u},${f}`,n&&(m<0&&(m=m%L0+L0),m>aV?this._append`A${n},${n},0,1,${d},${t-l},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=f}`:m>Ki&&this._append`A${n},${n},0,${+(m>=I0)},${d},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Rv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new sV(t)}function Bv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function OE(e){this._context=e}OE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function jh(e){return new OE(e)}function EE(e){return e[0]}function CE(e){return e[1]}function TE(e,t){var r=bt(!0),n=null,i=jh,s=null,o=Rv(l);e=typeof e=="function"?e:e===void 0?EE:bt(e),t=typeof t=="function"?t:t===void 0?CE:bt(t);function l(c){var u,f=(c=Bv(c)).length,d,m=!1,p;for(n==null&&(s=i(p=o())),u=0;u<=f;++u)!(u<f&&r(d=c[u],u,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+e(d,u,c),+t(d,u,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:bt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:bt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:bt(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function hd(e,t,r){var n=null,i=bt(!0),s=null,o=jh,l=null,c=Rv(u);e=typeof e=="function"?e:e===void 0?EE:bt(+e),t=typeof t=="function"?t:bt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?CE:bt(+r);function u(d){var m,p,v,g=(d=Bv(d)).length,w,x=!1,y,h=new Array(g),N=new Array(g);for(s==null&&(l=o(y=c())),m=0;m<=g;++m){if(!(m<g&&i(w=d[m],m,d))===x)if(x=!x)p=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=m-1;v>=p;--v)l.point(h[v],N[v]);l.lineEnd(),l.areaEnd()}x&&(h[m]=+e(w,m,d),N[m]=+t(w,m,d),l.point(n?+n(w,m,d):h[m],r?+r(w,m,d):N[m]))}if(y)return l=null,y+""||null}function f(){return TE().defined(i).curve(o).context(s)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:bt(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:bt(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:bt(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:bt(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:bt(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:bt(+d),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:bt(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,s!=null&&(l=o(s)),u):o},u.context=function(d){return arguments.length?(d==null?s=l=null:l=o(s=d),u):s},u}class kE{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function oV(e){return new kE(e,!0)}function lV(e){return new kE(e,!1)}const Fv={draw(e,t){const r=Fn(t/Tf);e.moveTo(r,0),e.arc(0,0,r,0,bh)}},cV={draw(e,t){const r=Fn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},ME=Fn(1/3),uV=ME*2,dV={draw(e,t){const r=Fn(t/uV),n=r*ME;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},fV={draw(e,t){const r=Fn(t),n=-r/2;e.rect(n,n,r,r)}},mV=.8908130915292852,$E=Cf(Tf/10)/Cf(7*Tf/10),hV=Cf(bh/10)*$E,pV=-AE(bh/10)*$E,gV={draw(e,t){const r=Fn(t*mV),n=hV*r,i=pV*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const o=bh*s/5,l=AE(o),c=Cf(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},Up=Fn(3),xV={draw(e,t){const r=-Fn(t/(Up*3));e.moveTo(0,r*2),e.lineTo(-Up*r,-r),e.lineTo(Up*r,-r),e.closePath()}},cn=-.5,un=Fn(3)/2,R0=1/Fn(12),yV=(R0/2+1)*3,vV={draw(e,t){const r=Fn(t/yV),n=r/2,i=r*R0,s=n,o=r*R0+r,l=-s,c=o;e.moveTo(n,i),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(cn*n-un*i,un*n+cn*i),e.lineTo(cn*s-un*o,un*s+cn*o),e.lineTo(cn*l-un*c,un*l+cn*c),e.lineTo(cn*n+un*i,cn*i-un*n),e.lineTo(cn*s+un*o,cn*o-un*s),e.lineTo(cn*l+un*c,cn*c-un*l),e.closePath()}};function bV(e,t){let r=null,n=Rv(i);e=typeof e=="function"?e:bt(e||Fv),t=typeof t=="function"?t:bt(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:bt(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:bt(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function kf(){}function Mf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function DE(e){this._context=e}DE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jV(e){return new DE(e)}function IE(e){this._context=e}IE.prototype={areaStart:kf,areaEnd:kf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Mf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wV(e){return new IE(e)}function LE(e){this._context=e}LE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Mf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function NV(e){return new LE(e)}function RE(e){this._context=e}RE.prototype={areaStart:kf,areaEnd:kf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function SV(e){return new RE(e)}function O1(e){return e<0?-1:1}function E1(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),l=(s*i+o*n)/(n+i);return(O1(s)+O1(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function C1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Wp(e,t,r){var n=e._x0,i=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,i+l*t,s-l,o-l*r,s,o)}function $f(e){this._context=e}$f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wp(this,this._t0,C1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Wp(this,C1(this,r=E1(this,e,t)),r);break;default:Wp(this,this._t0,r=E1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function BE(e){this._context=new FE(e)}(BE.prototype=Object.create($f.prototype)).point=function(e,t){$f.prototype.point.call(this,t,e)};function FE(e){this._context=e}FE.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function _V(e){return new $f(e)}function AV(e){return new BE(e)}function zE(e){this._context=e}zE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=T1(e),i=T1(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function T1(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function PV(e){return new zE(e)}function wh(e,t){this._context=e,this._t=t}wh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function OV(e){return new wh(e,.5)}function EV(e){return new wh(e,0)}function CV(e){return new wh(e,1)}function Fo(e,t){if((o=e.length)>1)for(var r=1,n,i,s=e[t[0]],o,l=s.length;r<o;++r)for(i=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function B0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function TV(e,t){return e[t]}function kV(e){const t=[];return t.key=e,t}function MV(){var e=bt([]),t=B0,r=Fo,n=TV;function i(s){var o=Array.from(e.apply(this,arguments),kV),l,c=o.length,u=-1,f;for(const d of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(d,o[l].key,u,s)]).data=d;for(l=0,f=Bv(t(o));l<c;++l)o[f[l]].index=l;return r(o,f),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:bt(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:bt(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?B0:typeof s=="function"?s:bt(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??Fo,i):r},i}function $V(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}Fo(e,t)}}function DV(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var o=0,l=0;o<i;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Fo(e,t)}}function IV(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var f=e[t[l]],d=f[n][1]||0,m=f[n-1][1]||0,p=(d-m)/2,v=0;v<l;++v){var g=e[t[v]],w=g[n][1]||0,x=g[n-1][1]||0;p+=w-x}c+=d,u+=p*d}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,Fo(e,t)}}function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}var LV=["type","size","sizeType"];function F0(){return F0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F0.apply(this,arguments)}function k1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function M1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k1(Object(r),!0).forEach(function(n){RV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RV(e,t,r){return t=BV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BV(e){var t=FV(e,"string");return qc(t)=="symbol"?t:t+""}function FV(e,t){if(qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zV(e,t){if(e==null)return{};var r=VV(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var VE={symbolCircle:Fv,symbolCross:cV,symbolDiamond:dV,symbolSquare:fV,symbolStar:gV,symbolTriangle:xV,symbolWye:vV},UV=Math.PI/180,WV=function(t){var r="symbol".concat(vh(t));return VE[r]||Fv},HV=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*UV;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},qV=function(t,r){VE["symbol".concat(vh(t))]=r},zv=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,s=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=zV(t,LV),u=M1(M1({},c),{},{type:n,size:s,sizeType:l}),f=function(){var w=WV(n),x=bV().type(w).size(HV(s,l,n));return x()},d=u.className,m=u.cx,p=u.cy,v=Ue(u,!0);return m===+m&&p===+p&&s===+s?I.createElement("path",F0({},v,{className:Xe("recharts-symbols",d),transform:"translate(".concat(m,", ").concat(p,")"),d:f()})):null};zv.registerSymbol=qV;function zo(e){"@babel/helpers - typeof";return zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zo(e)}function z0(){return z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z0.apply(this,arguments)}function $1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function GV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(r),!0).forEach(function(n){Gc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WE(n.key),n)}}function XV(e,t,r){return t&&YV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JV(e,t,r){return t=Df(t),ZV(e,UE()?Reflect.construct(t,r||[],Df(e).constructor):t.apply(e,r))}function ZV(e,t){if(t&&(zo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QV(e)}function QV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UE=function(){return!!e})()}function Df(e){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Df(e)}function eU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V0(e,t)}function V0(e,t){return V0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},V0(e,t)}function Gc(e,t,r){return t=WE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WE(e){var t=tU(e,"string");return zo(t)=="symbol"?t:t+""}function tU(e,t){if(zo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dn=32,Vv=function(e){function t(){return KV(this,t),JV(this,t,arguments)}return eU(t,e),XV(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=dn/2,o=dn/6,l=dn/3,c=n.inactive?i:n.color;if(n.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:dn,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(dn,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return I.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(dn/8,"h").concat(dn,"v").concat(dn*3/4,"h").concat(-dn,"z"),className:"recharts-legend-icon"});if(I.isValidElement(n.legendIcon)){var u=GV({},n);return delete u.legendIcon,I.cloneElement(n.legendIcon,u)}return I.createElement(zv,{fill:c,cx:s,cy:s,size:dn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:dn,height:dn},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,v){var g=p.formatter||c,w=Xe(Gc(Gc({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=He(p.value)?null:p.value;Ln(!He(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return I.createElement("li",z0({className:w,style:d,key:"legend-item-".concat(v)},Ns(n.props,p,v)),I.createElement(k0,{width:o,height:o,viewBox:f,style:m},n.renderIcon(p)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(x,p,v):x))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(_.PureComponent);Gc(Vv,"displayName","Legend");Gc(Vv,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var rU=sh;function nU(){this.__data__=new rU,this.size=0}var aU=nU;function iU(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var sU=iU;function oU(e){return this.__data__.get(e)}var lU=oU;function cU(e){return this.__data__.has(e)}var uU=cU,dU=sh,fU=Ev,mU=Cv,hU=200;function pU(e,t){var r=this.__data__;if(r instanceof dU){var n=r.__data__;if(!fU||n.length<hU-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new mU(n)}return r.set(e,t),this.size=r.size,this}var gU=pU,xU=sh,yU=aU,vU=sU,bU=lU,jU=uU,wU=gU;function bl(e){var t=this.__data__=new xU(e);this.size=t.size}bl.prototype.clear=yU;bl.prototype.delete=vU;bl.prototype.get=bU;bl.prototype.has=jU;bl.prototype.set=wU;var HE=bl,NU="__lodash_hash_undefined__";function SU(e){return this.__data__.set(e,NU),this}var _U=SU;function AU(e){return this.__data__.has(e)}var PU=AU,OU=Cv,EU=_U,CU=PU;function If(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new OU;++t<r;)this.add(e[t])}If.prototype.add=If.prototype.push=EU;If.prototype.has=CU;var qE=If;function TU(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var GE=TU;function kU(e,t){return e.has(t)}var KE=kU,MU=qE,$U=GE,DU=KE,IU=1,LU=2;function RU(e,t,r,n,i,s){var o=r&IU,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),f=s.get(t);if(u&&f)return u==t&&f==e;var d=-1,m=!0,p=r&LU?new MU:void 0;for(s.set(e,t),s.set(t,e);++d<l;){var v=e[d],g=t[d];if(n)var w=o?n(g,v,d,t,e,s):n(v,g,d,e,t,s);if(w!==void 0){if(w)continue;m=!1;break}if(p){if(!$U(t,function(x,y){if(!DU(p,y)&&(v===x||i(v,x,r,n,s)))return p.push(y)})){m=!1;break}}else if(!(v===g||i(v,g,r,n,s))){m=!1;break}}return s.delete(e),s.delete(t),m}var YE=RU,BU=ca,FU=BU.Uint8Array,zU=FU;function VU(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var UU=VU;function WU(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Uv=WU,D1=Lu,I1=zU,HU=Ov,qU=YE,GU=UU,KU=Uv,YU=1,XU=2,JU="[object Boolean]",ZU="[object Date]",QU="[object Error]",e9="[object Map]",t9="[object Number]",r9="[object RegExp]",n9="[object Set]",a9="[object String]",i9="[object Symbol]",s9="[object ArrayBuffer]",o9="[object DataView]",L1=D1?D1.prototype:void 0,Hp=L1?L1.valueOf:void 0;function l9(e,t,r,n,i,s,o){switch(r){case o9:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case s9:return!(e.byteLength!=t.byteLength||!s(new I1(e),new I1(t)));case JU:case ZU:case t9:return HU(+e,+t);case QU:return e.name==t.name&&e.message==t.message;case r9:case a9:return e==t+"";case e9:var l=GU;case n9:var c=n&YU;if(l||(l=KU),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=XU,o.set(e,t);var f=qU(l(e),l(t),n,i,s,o);return o.delete(e),f;case i9:if(Hp)return Hp.call(e)==Hp.call(t)}return!1}var c9=l9;function u9(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var XE=u9,d9=XE,f9=qr;function m9(e,t,r){var n=t(e);return f9(e)?n:d9(n,r(e))}var h9=m9;function p9(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}var g9=p9;function x9(){return[]}var y9=x9,v9=g9,b9=y9,j9=Object.prototype,w9=j9.propertyIsEnumerable,R1=Object.getOwnPropertySymbols,N9=R1?function(e){return e==null?[]:(e=Object(e),v9(R1(e),function(t){return w9.call(e,t)}))}:b9,S9=N9;function _9(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var A9=_9,P9=Wa,O9=Ha,E9="[object Arguments]";function C9(e){return O9(e)&&P9(e)==E9}var T9=C9,B1=T9,k9=Ha,JE=Object.prototype,M9=JE.hasOwnProperty,$9=JE.propertyIsEnumerable,D9=B1(function(){return arguments}())?B1:function(e){return k9(e)&&M9.call(e,"callee")&&!$9.call(e,"callee")},Wv=D9,Lf={exports:{}};function I9(){return!1}var L9=I9;Lf.exports;(function(e,t){var r=ca,n=L9,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Lf,Lf.exports);var ZE=Lf.exports,R9=9007199254740991,B9=/^(?:0|[1-9]\d*)$/;function F9(e,t){var r=typeof e;return t=t??R9,!!t&&(r=="number"||r!="symbol"&&B9.test(e))&&e>-1&&e%1==0&&e<t}var Hv=F9,z9=9007199254740991;function V9(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=z9}var qv=V9,U9=Wa,W9=qv,H9=Ha,q9="[object Arguments]",G9="[object Array]",K9="[object Boolean]",Y9="[object Date]",X9="[object Error]",J9="[object Function]",Z9="[object Map]",Q9="[object Number]",eW="[object Object]",tW="[object RegExp]",rW="[object Set]",nW="[object String]",aW="[object WeakMap]",iW="[object ArrayBuffer]",sW="[object DataView]",oW="[object Float32Array]",lW="[object Float64Array]",cW="[object Int8Array]",uW="[object Int16Array]",dW="[object Int32Array]",fW="[object Uint8Array]",mW="[object Uint8ClampedArray]",hW="[object Uint16Array]",pW="[object Uint32Array]",_t={};_t[oW]=_t[lW]=_t[cW]=_t[uW]=_t[dW]=_t[fW]=_t[mW]=_t[hW]=_t[pW]=!0;_t[q9]=_t[G9]=_t[iW]=_t[K9]=_t[sW]=_t[Y9]=_t[X9]=_t[J9]=_t[Z9]=_t[Q9]=_t[eW]=_t[tW]=_t[rW]=_t[nW]=_t[aW]=!1;function gW(e){return H9(e)&&W9(e.length)&&!!_t[U9(e)]}var xW=gW;function yW(e){return function(t){return e(t)}}var QE=yW,Rf={exports:{}};Rf.exports;(function(e,t){var r=oE,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Rf,Rf.exports);var vW=Rf.exports,bW=xW,jW=QE,F1=vW,z1=F1&&F1.isTypedArray,wW=z1?jW(z1):bW,eC=wW,NW=A9,SW=Wv,_W=qr,AW=ZE,PW=Hv,OW=eC,EW=Object.prototype,CW=EW.hasOwnProperty;function TW(e,t){var r=_W(e),n=!r&&SW(e),i=!r&&!n&&AW(e),s=!r&&!n&&!i&&OW(e),o=r||n||i||s,l=o?NW(e.length,String):[],c=l.length;for(var u in e)(t||CW.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||PW(u,c)))&&l.push(u);return l}var kW=TW,MW=Object.prototype;function $W(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||MW;return e===r}var DW=$W;function IW(e,t){return function(r){return e(t(r))}}var tC=IW,LW=tC,RW=LW(Object.keys,Object),BW=RW,FW=DW,zW=BW,VW=Object.prototype,UW=VW.hasOwnProperty;function WW(e){if(!FW(e))return zW(e);var t=[];for(var r in Object(e))UW.call(e,r)&&r!="constructor"&&t.push(r);return t}var HW=WW,qW=Pv,GW=qv;function KW(e){return e!=null&&GW(e.length)&&!qW(e)}var Fu=KW,YW=kW,XW=HW,JW=Fu;function ZW(e){return JW(e)?YW(e):XW(e)}var Nh=ZW,QW=h9,eH=S9,tH=Nh;function rH(e){return QW(e,tH,eH)}var nH=rH,V1=nH,aH=1,iH=Object.prototype,sH=iH.hasOwnProperty;function oH(e,t,r,n,i,s){var o=r&aH,l=V1(e),c=l.length,u=V1(t),f=u.length;if(c!=f&&!o)return!1;for(var d=c;d--;){var m=l[d];if(!(o?m in t:sH.call(t,m)))return!1}var p=s.get(e),v=s.get(t);if(p&&v)return p==t&&v==e;var g=!0;s.set(e,t),s.set(t,e);for(var w=o;++d<c;){m=l[d];var x=e[m],y=t[m];if(n)var h=o?n(y,x,m,t,e,s):n(x,y,m,e,t,s);if(!(h===void 0?x===y||i(x,y,r,n,s):h)){g=!1;break}w||(w=m=="constructor")}if(g&&!w){var N=e.constructor,j=t.constructor;N!=j&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof j=="function"&&j instanceof j)&&(g=!1)}return s.delete(e),s.delete(t),g}var lH=oH,cH=ks,uH=ca,dH=cH(uH,"DataView"),fH=dH,mH=ks,hH=ca,pH=mH(hH,"Promise"),gH=pH,xH=ks,yH=ca,vH=xH(yH,"Set"),rC=vH,bH=ks,jH=ca,wH=bH(jH,"WeakMap"),NH=wH,U0=fH,W0=Ev,H0=gH,q0=rC,G0=NH,nC=Wa,jl=cE,U1="[object Map]",SH="[object Object]",W1="[object Promise]",H1="[object Set]",q1="[object WeakMap]",G1="[object DataView]",_H=jl(U0),AH=jl(W0),PH=jl(H0),OH=jl(q0),EH=jl(G0),Yi=nC;(U0&&Yi(new U0(new ArrayBuffer(1)))!=G1||W0&&Yi(new W0)!=U1||H0&&Yi(H0.resolve())!=W1||q0&&Yi(new q0)!=H1||G0&&Yi(new G0)!=q1)&&(Yi=function(e){var t=nC(e),r=t==SH?e.constructor:void 0,n=r?jl(r):"";if(n)switch(n){case _H:return G1;case AH:return U1;case PH:return W1;case OH:return H1;case EH:return q1}return t});var CH=Yi,qp=HE,TH=YE,kH=c9,MH=lH,K1=CH,Y1=qr,X1=ZE,$H=eC,DH=1,J1="[object Arguments]",Z1="[object Array]",pd="[object Object]",IH=Object.prototype,Q1=IH.hasOwnProperty;function LH(e,t,r,n,i,s){var o=Y1(e),l=Y1(t),c=o?Z1:K1(e),u=l?Z1:K1(t);c=c==J1?pd:c,u=u==J1?pd:u;var f=c==pd,d=u==pd,m=c==u;if(m&&X1(e)){if(!X1(t))return!1;o=!0,f=!1}if(m&&!f)return s||(s=new qp),o||$H(e)?TH(e,t,r,n,i,s):kH(e,t,c,r,n,i,s);if(!(r&DH)){var p=f&&Q1.call(e,"__wrapped__"),v=d&&Q1.call(t,"__wrapped__");if(p||v){var g=p?e.value():e,w=v?t.value():t;return s||(s=new qp),i(g,w,r,n,s)}}return m?(s||(s=new qp),MH(e,t,r,n,i,s)):!1}var RH=LH,BH=RH,eN=Ha;function aC(e,t,r,n,i){return e===t?!0:e==null||t==null||!eN(e)&&!eN(t)?e!==e&&t!==t:BH(e,t,r,n,aC,i)}var Gv=aC,FH=HE,zH=Gv,VH=1,UH=2;function WH(e,t,r,n){var i=r.length,s=i,o=!n;if(e==null)return!s;for(e=Object(e);i--;){var l=r[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<s;){l=r[i];var c=l[0],u=e[c],f=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var d=new FH;if(n)var m=n(u,f,c,e,t,d);if(!(m===void 0?zH(f,u,VH|UH,n,d):m))return!1}}return!0}var HH=WH,qH=$i;function GH(e){return e===e&&!qH(e)}var iC=GH,KH=iC,YH=Nh;function XH(e){for(var t=YH(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,KH(i)]}return t}var JH=XH;function ZH(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var sC=ZH,QH=HH,eq=JH,tq=sC;function rq(e){var t=eq(e);return t.length==1&&t[0][2]?tq(t[0][0],t[0][1]):function(r){return r===e||QH(r,e,t)}}var nq=rq;function aq(e,t){return e!=null&&t in Object(e)}var iq=aq,sq=hE,oq=Wv,lq=qr,cq=Hv,uq=qv,dq=lh;function fq(e,t,r){t=sq(t,e);for(var n=-1,i=t.length,s=!1;++n<i;){var o=dq(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=i?s:(i=e==null?0:e.length,!!i&&uq(i)&&cq(o,i)&&(lq(e)||oq(e)))}var mq=fq,hq=iq,pq=mq;function gq(e,t){return e!=null&&pq(e,t,hq)}var xq=gq,yq=Gv,vq=pE,bq=xq,jq=Av,wq=iC,Nq=sC,Sq=lh,_q=1,Aq=2;function Pq(e,t){return jq(e)&&wq(t)?Nq(Sq(e),t):function(r){var n=vq(r,e);return n===void 0&&n===t?bq(r,e):yq(t,n,_q|Aq)}}var Oq=Pq;function Eq(e){return e}var wl=Eq;function Cq(e){return function(t){return t==null?void 0:t[e]}}var Tq=Cq,kq=Mv;function Mq(e){return function(t){return kq(t,e)}}var $q=Mq,Dq=Tq,Iq=$q,Lq=Av,Rq=lh;function Bq(e){return Lq(e)?Dq(Rq(e)):Iq(e)}var Fq=Bq,zq=nq,Vq=Oq,Uq=wl,Wq=qr,Hq=Fq;function qq(e){return typeof e=="function"?e:e==null?Uq:typeof e=="object"?Wq(e)?Vq(e[0],e[1]):zq(e):Hq(e)}var ua=qq;function Gq(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}var oC=Gq;function Kq(e){return e!==e}var Yq=Kq;function Xq(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var Jq=Xq,Zq=oC,Qq=Yq,eG=Jq;function tG(e,t,r){return t===t?eG(e,t,r):Zq(e,Qq,r)}var rG=tG,nG=rG;function aG(e,t){var r=e==null?0:e.length;return!!r&&nG(e,t,0)>-1}var iG=aG;function sG(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var oG=sG;function lG(){}var cG=lG,Gp=rC,uG=cG,dG=Uv,fG=1/0,mG=Gp&&1/dG(new Gp([,-0]))[1]==fG?function(e){return new Gp(e)}:uG,hG=mG,pG=qE,gG=iG,xG=oG,yG=KE,vG=hG,bG=Uv,jG=200;function wG(e,t,r){var n=-1,i=gG,s=e.length,o=!0,l=[],c=l;if(r)o=!1,i=xG;else if(s>=jG){var u=t?null:vG(e);if(u)return bG(u);o=!1,i=yG,c=new pG}else c=t?[]:l;e:for(;++n<s;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,o&&d===d){for(var m=c.length;m--;)if(c[m]===d)continue e;t&&c.push(d),l.push(f)}else i(c,d,r)||(c!==l&&c.push(d),l.push(f))}return l}var NG=wG,SG=ua,_G=NG;function AG(e,t){return e&&e.length?_G(e,SG(t)):[]}var PG=AG;const tN=mt(PG);function lC(e,t,r){return t===!0?tN(e,r):He(t)?tN(e,t):e}function Vo(e){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(e)}var OG=["ref"];function rN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(r),!0).forEach(function(n){Sh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uC(n.key),n)}}function CG(e,t,r){return t&&nN(e.prototype,t),r&&nN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TG(e,t,r){return t=Bf(t),kG(e,cC()?Reflect.construct(t,r||[],Bf(e).constructor):t.apply(e,r))}function kG(e,t){if(t&&(Vo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MG(e)}function MG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cC=function(){return!!e})()}function Bf(e){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bf(e)}function $G(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K0(e,t)}function K0(e,t){return K0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},K0(e,t)}function Sh(e,t,r){return t=uC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uC(e){var t=DG(e,"string");return Vo(t)=="symbol"?t:t+""}function DG(e,t){if(Vo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function IG(e,t){if(e==null)return{};var r=LG(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function RG(e){return e.value}function BG(e,t){if(I.isValidElement(e))return I.cloneElement(e,t);if(typeof e=="function")return I.createElement(e,t);t.ref;var r=IG(t,OG);return I.createElement(Vv,r)}var aN=1,Ca=function(e){function t(){var r;EG(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=TG(this,t,[].concat(i)),Sh(r,"lastBoundingBox",{width:-1,height:-1}),r}return $G(t,e),CG(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>aN||Math.abs(i.height-this.lastBoundingBox.height)>aN)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,f=i.chartHeight,d,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();d={left:((u||0)-p.width)/2}}else d=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();m={top:((f||0)-v.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return fa(fa({},d),m)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,d=fa(fa({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return I.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},BG(s,fa(fa({},this.props),{},{payload:lC(f,u,RG)})))}}],[{key:"getWithHeight",value:function(n,i){var s=fa(fa({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&xe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(_.PureComponent);Sh(Ca,"displayName","Legend");Sh(Ca,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var iN=Lu,FG=Wv,zG=qr,sN=iN?iN.isConcatSpreadable:void 0;function VG(e){return zG(e)||FG(e)||!!(sN&&e&&e[sN])}var UG=VG,WG=XE,HG=UG;function dC(e,t,r,n,i){var s=-1,o=e.length;for(r||(r=HG),i||(i=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?dC(l,t-1,r,n,i):WG(i,l):n||(i[i.length]=l)}return i}var fC=dC;function qG(e){return function(t,r,n){for(var i=-1,s=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++i];if(r(s[c],c,s)===!1)break}return t}}var GG=qG,KG=GG,YG=KG(),XG=YG,JG=XG,ZG=Nh;function QG(e,t){return e&&JG(e,t,ZG)}var mC=QG,eK=Fu;function tK(e,t){return function(r,n){if(r==null)return r;if(!eK(r))return e(r,n);for(var i=r.length,s=t?i:-1,o=Object(r);(t?s--:++s<i)&&n(o[s],s,o)!==!1;);return r}}var rK=tK,nK=mC,aK=rK,iK=aK(nK),Kv=iK,sK=Kv,oK=Fu;function lK(e,t){var r=-1,n=oK(e)?Array(e.length):[];return sK(e,function(i,s,o){n[++r]=t(i,s,o)}),n}var hC=lK;function cK(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var uK=cK,oN=pl;function dK(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,s=oN(e),o=t!==void 0,l=t===null,c=t===t,u=oN(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!i)return 1;if(!n&&!s&&!u&&e<t||u&&r&&i&&!n&&!s||l&&r&&i||!o&&i||!c)return-1}return 0}var fK=dK,mK=fK;function hK(e,t,r){for(var n=-1,i=e.criteria,s=t.criteria,o=i.length,l=r.length;++n<o;){var c=mK(i[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var pK=hK,Kp=kv,gK=Mv,xK=ua,yK=hC,vK=uK,bK=QE,jK=pK,wK=wl,NK=qr;function SK(e,t,r){t.length?t=Kp(t,function(s){return NK(s)?function(o){return gK(o,s.length===1?s[0]:s)}:s}):t=[wK];var n=-1;t=Kp(t,bK(xK));var i=yK(e,function(s,o,l){var c=Kp(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return vK(i,function(s,o){return jK(s,o,r)})}var _K=SK;function AK(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var PK=AK,OK=PK,lN=Math.max;function EK(e,t,r){return t=lN(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=lN(n.length-t,0),o=Array(s);++i<s;)o[i]=n[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=n[i];return l[t]=r(o),OK(e,this,l)}}var CK=EK;function TK(e){return function(){return e}}var kK=TK,MK=ks,$K=function(){try{var e=MK(Object,"defineProperty");return e({},"",{}),e}catch{}}(),pC=$K,DK=kK,cN=pC,IK=wl,LK=cN?function(e,t){return cN(e,"toString",{configurable:!0,enumerable:!1,value:DK(t),writable:!0})}:IK,RK=LK,BK=800,FK=16,zK=Date.now;function VK(e){var t=0,r=0;return function(){var n=zK(),i=FK-(n-r);if(r=n,i>0){if(++t>=BK)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var UK=VK,WK=RK,HK=UK,qK=HK(WK),GK=qK,KK=wl,YK=CK,XK=GK;function JK(e,t){return XK(YK(e,t,KK),e+"")}var ZK=JK,QK=Ov,eY=Fu,tY=Hv,rY=$i;function nY(e,t,r){if(!rY(r))return!1;var n=typeof t;return(n=="number"?eY(r)&&tY(t,r.length):n=="string"&&t in r)?QK(r[t],e):!1}var _h=nY,aY=fC,iY=_K,sY=ZK,uN=_h,oY=sY(function(e,t){if(e==null)return[];var r=t.length;return r>1&&uN(e,t[0],t[1])?t=[]:r>2&&uN(t[0],t[1],t[2])&&(t=[t[0]]),iY(e,aY(t,1),[])}),lY=oY;const Yv=mt(lY);function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y0.apply(this,arguments)}function cY(e,t){return mY(e)||fY(e,t)||dY(e,t)||uY()}function uY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dY(e,t){if(e){if(typeof e=="string")return dN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dN(e,t)}}function dN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function mY(e){if(Array.isArray(e))return e}function fN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(r),!0).forEach(function(n){hY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hY(e,t,r){return t=pY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pY(e){var t=gY(e,"string");return Kc(t)=="symbol"?t:t+""}function gY(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xY(e){return Array.isArray(e)&&er(e[0])&&er(e[1])?e.join(" ~ "):e}var yY=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,s=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,d=t.formatter,m=t.itemSorter,p=t.wrapperClassName,v=t.labelClassName,g=t.label,w=t.labelFormatter,x=t.accessibilityLayer,y=x===void 0?!1:x,h=function(){if(f&&f.length){var C={padding:0,margin:0},T=(m?Yv(f,m):f).map(function(R,z){if(R.type==="none")return null;var G=Yp({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},l),X=R.formatter||d||xY,F=R.value,Y=R.name,J=F,k=Y;if(X&&J!=null&&k!=null){var K=X(F,Y,R,z,f);if(Array.isArray(K)){var oe=cY(K,2);J=oe[0],k=oe[1]}else J=K}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:G},er(k)?I.createElement("span",{className:"recharts-tooltip-item-name"},k):null,er(k)?I.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,I.createElement("span",{className:"recharts-tooltip-item-value"},J),I.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:C},T)}return null},N=Yp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),j=Yp({margin:0},u),b=!Je(g),S=b?g:"",P=Xe("recharts-default-tooltip",p),A=Xe("recharts-tooltip-label",v);b&&w&&f!==void 0&&f!==null&&(S=w(g,f));var E=y?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",Y0({className:P,style:N},E),I.createElement("p",{className:A,style:j},I.isValidElement(S)?S:"".concat(S)),h())};function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function gd(e,t,r){return t=vY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vY(e){var t=bY(e,"string");return Yc(t)=="symbol"?t:t+""}function bY(e,t){if(Yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fl="recharts-tooltip-wrapper",jY={visibility:"hidden"};function wY(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Xe(Fl,gd(gd(gd(gd({},"".concat(Fl,"-right"),xe(r)&&t&&xe(t.x)&&r>=t.x),"".concat(Fl,"-left"),xe(r)&&t&&xe(t.x)&&r<t.x),"".concat(Fl,"-bottom"),xe(n)&&t&&xe(t.y)&&n>=t.y),"".concat(Fl,"-top"),xe(n)&&t&&xe(t.y)&&n<t.y))}function mN(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&xe(s[n]))return s[n];var f=r[n]-l-i,d=r[n]+i;if(t[n])return o[n]?f:d;if(o[n]){var m=f,p=c[n];return m<p?Math.max(d,c[n]):Math.max(f,c[n])}var v=d+l,g=c[n]+u;return v>g?Math.max(f,c[n]):Math.max(d,c[n])}function NY(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function SY(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,f,d;return o.height>0&&o.width>0&&r?(f=mN({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),d=mN({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=NY({translateX:f,translateY:d,useTranslate3d:l})):u=jY,{cssProperties:u,cssClasses:wY({translateX:f,translateY:d,coordinate:r})}}function Uo(e){"@babel/helpers - typeof";return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uo(e)}function hN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(r),!0).forEach(function(n){J0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xC(n.key),n)}}function PY(e,t,r){return t&&AY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function OY(e,t,r){return t=Ff(t),EY(e,gC()?Reflect.construct(t,r||[],Ff(e).constructor):t.apply(e,r))}function EY(e,t){if(t&&(Uo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CY(e)}function CY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gC=function(){return!!e})()}function Ff(e){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ff(e)}function TY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X0(e,t)}function X0(e,t){return X0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},X0(e,t)}function J0(e,t,r){return t=xC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xC(e){var t=kY(e,"string");return Uo(t)=="symbol"?t:t+""}function kY(e,t){if(Uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gN=1,MY=function(e){function t(){var r;_Y(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=OY(this,t,[].concat(i)),J0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),J0(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return TY(t,e),PY(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>gN||Math.abs(n.height-this.state.lastBoundingBox.height)>gN)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,f=i.coordinate,d=i.hasPayload,m=i.isAnimationActive,p=i.offset,v=i.position,g=i.reverseDirection,w=i.useTranslate3d,x=i.viewBox,y=i.wrapperStyle,h=SY({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:p,position:v,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:x}),N=h.cssClasses,j=h.cssProperties,b=pN(pN({transition:m&&s?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},y);return I.createElement("div",{tabIndex:-1,className:N,style:b,ref:function(P){n.wrapperNode=P}},u)}}])}(_.PureComponent),$Y=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Nl={isSsr:$Y()};function Wo(e){"@babel/helpers - typeof";return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wo(e)}function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(r),!0).forEach(function(n){Xv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vC(n.key),n)}}function LY(e,t,r){return t&&IY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RY(e,t,r){return t=zf(t),BY(e,yC()?Reflect.construct(t,r||[],zf(e).constructor):t.apply(e,r))}function BY(e,t){if(t&&(Wo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FY(e)}function FY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yC=function(){return!!e})()}function zf(e){return zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zf(e)}function zY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z0(e,t)}function Z0(e,t){return Z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Z0(e,t)}function Xv(e,t,r){return t=vC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vC(e){var t=VY(e,"string");return Wo(t)=="symbol"?t:t+""}function VY(e,t){if(Wo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function UY(e){return e.dataKey}function WY(e,t){return I.isValidElement(e)?I.cloneElement(e,t):typeof e=="function"?I.createElement(e,t):I.createElement(yY,t)}var Lr=function(e){function t(){return DY(this,t),RY(this,t,arguments)}return zY(t,e),LY(t,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,f=i.coordinate,d=i.filterNull,m=i.isAnimationActive,p=i.offset,v=i.payload,g=i.payloadUniqBy,w=i.position,x=i.reverseDirection,y=i.useTranslate3d,h=i.viewBox,N=i.wrapperStyle,j=v??[];d&&j.length&&(j=lC(v.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),g,UY));var b=j.length>0;return I.createElement(MY,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:s,coordinate:f,hasPayload:b,offset:p,position:w,reverseDirection:x,useTranslate3d:y,viewBox:h,wrapperStyle:N},WY(u,yN(yN({},this.props),{},{payload:j})))}}])}(_.PureComponent);Xv(Lr,"displayName","Tooltip");Xv(Lr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Nl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var HY=ca,qY=function(){return HY.Date.now()},GY=qY,KY=/\s/;function YY(e){for(var t=e.length;t--&&KY.test(e.charAt(t)););return t}var XY=YY,JY=XY,ZY=/^\s+/;function QY(e){return e&&e.slice(0,JY(e)+1).replace(ZY,"")}var eX=QY,tX=eX,vN=$i,rX=pl,bN=NaN,nX=/^[-+]0x[0-9a-f]+$/i,aX=/^0b[01]+$/i,iX=/^0o[0-7]+$/i,sX=parseInt;function oX(e){if(typeof e=="number")return e;if(rX(e))return bN;if(vN(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=vN(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=tX(e);var r=aX.test(e);return r||iX.test(e)?sX(e.slice(2),r?2:8):nX.test(e)?bN:+e}var bC=oX,lX=$i,Xp=GY,jN=bC,cX="Expected a function",uX=Math.max,dX=Math.min;function fX(e,t,r){var n,i,s,o,l,c,u=0,f=!1,d=!1,m=!0;if(typeof e!="function")throw new TypeError(cX);t=jN(t)||0,lX(r)&&(f=!!r.leading,d="maxWait"in r,s=d?uX(jN(r.maxWait)||0,t):s,m="trailing"in r?!!r.trailing:m);function p(b){var S=n,P=i;return n=i=void 0,u=b,o=e.apply(P,S),o}function v(b){return u=b,l=setTimeout(x,t),f?p(b):o}function g(b){var S=b-c,P=b-u,A=t-S;return d?dX(A,s-P):A}function w(b){var S=b-c,P=b-u;return c===void 0||S>=t||S<0||d&&P>=s}function x(){var b=Xp();if(w(b))return y(b);l=setTimeout(x,g(b))}function y(b){return l=void 0,m&&n?p(b):(n=i=void 0,o)}function h(){l!==void 0&&clearTimeout(l),u=0,n=c=i=l=void 0}function N(){return l===void 0?o:y(Xp())}function j(){var b=Xp(),S=w(b);if(n=arguments,i=this,c=b,S){if(l===void 0)return v(c);if(d)return clearTimeout(l),l=setTimeout(x,t),p(c)}return l===void 0&&(l=setTimeout(x,t)),o}return j.cancel=h,j.flush=N,j}var mX=fX,hX=mX,pX=$i,gX="Expected a function";function xX(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(gX);return pX(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),hX(e,t,{leading:n,maxWait:t,trailing:i})}var yX=xX;const jC=mt(yX);function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function wN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(r),!0).forEach(function(n){vX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vX(e,t,r){return t=bX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bX(e){var t=jX(e,"string");return Xc(t)=="symbol"?t:t+""}function jX(e,t){if(Xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wX(e,t){return AX(e)||_X(e,t)||SX(e,t)||NX()}function NX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SX(e,t){if(e){if(typeof e=="string")return NN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NN(e,t)}}function NN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _X(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function AX(e){if(Array.isArray(e))return e}var zl=_.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,d=e.minHeight,m=e.maxHeight,p=e.children,v=e.debounce,g=v===void 0?0:v,w=e.id,x=e.className,y=e.onResize,h=e.style,N=h===void 0?{}:h,j=_.useRef(null),b=_.useRef();b.current=y,_.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var S=_.useState({containerWidth:i.width,containerHeight:i.height}),P=wX(S,2),A=P[0],E=P[1],O=_.useCallback(function(T,R){E(function(z){var G=Math.round(T),X=Math.round(R);return z.containerWidth===G&&z.containerHeight===X?z:{containerWidth:G,containerHeight:X}})},[]);_.useEffect(function(){var T=function(Y){var J,k=Y[0].contentRect,K=k.width,oe=k.height;O(K,oe),(J=b.current)===null||J===void 0||J.call(b,K,oe)};g>0&&(T=jC(T,g,{trailing:!0,leading:!1}));var R=new ResizeObserver(T),z=j.current.getBoundingClientRect(),G=z.width,X=z.height;return O(G,X),R.observe(j.current),function(){R.disconnect()}},[O,g]);var C=_.useMemo(function(){var T=A.containerWidth,R=A.containerHeight;if(T<0||R<0)return null;Ln(ns(o)||ns(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ln(!r||r>0,"The aspect(%s) must be greater than zero.",r);var z=ns(o)?T:o,G=ns(c)?R:c;r&&r>0&&(z?G=z/r:G&&(z=G*r),m&&G>m&&(G=m)),Ln(z>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,G,o,c,f,d,r);var X=!Array.isArray(p)&&Ea(p.type).endsWith("Chart");return I.Children.map(p,function(F){return I.isValidElement(F)?_.cloneElement(F,xd({width:z,height:G},X?{style:xd({height:"100%",width:"100%",maxHeight:G,maxWidth:z},F.props.style)}:{})):F})},[r,p,c,m,d,f,A,o]);return I.createElement("div",{id:w?"".concat(w):void 0,className:Xe("recharts-responsive-container",x),style:xd(xd({},N),{},{width:o,height:c,minWidth:f,minHeight:d,maxHeight:m}),ref:j},C)}),Jc=function(t){return null};Jc.displayName="Cell";function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function SN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Q0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(r),!0).forEach(function(n){PX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PX(e,t,r){return t=OX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OX(e){var t=EX(e,"string");return Zc(t)=="symbol"?t:t+""}function EX(e,t){if(Zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bs={widthCache:{},cacheCount:0},CX=2e3,TX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_N="recharts_measurement_span";function kX(e){var t=Q0({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var pc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Nl.isSsr)return{width:0,height:0};var n=kX(r),i=JSON.stringify({text:t,copyStyle:n});if(Bs.widthCache[i])return Bs.widthCache[i];try{var s=document.getElementById(_N);s||(s=document.createElement("span"),s.setAttribute("id",_N),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=Q0(Q0({},TX),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Bs.widthCache[i]=c,++Bs.cacheCount>CX&&(Bs.cacheCount=0,Bs.widthCache={}),c}catch{return{width:0,height:0}}},MX=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function Vf(e,t){return LX(e)||IX(e,t)||DX(e,t)||$X()}function $X(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DX(e,t){if(e){if(typeof e=="string")return AN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AN(e,t)}}function AN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function IX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function LX(e){if(Array.isArray(e))return e}function RX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FX(n.key),n)}}function BX(e,t,r){return t&&PN(e.prototype,t),r&&PN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FX(e){var t=zX(e,"string");return Qc(t)=="symbol"?t:t+""}function zX(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ON=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,UX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,wC={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},WX=Object.keys(wC),oo="NaN";function HX(e,t){return e*wC[t]}var yd=function(){function e(t,r){RX(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!VX.test(r)&&(this.num=NaN,this.unit=""),WX.includes(r)&&(this.num=HX(t,r),this.unit="px")}return BX(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=UX.exec(r))!==null&&n!==void 0?n:[],s=Vf(i,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function NC(e){if(e.includes(oo))return oo;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=ON.exec(t))!==null&&r!==void 0?r:[],i=Vf(n,4),s=i[1],o=i[2],l=i[3],c=yd.parse(s??""),u=yd.parse(l??""),f=o==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return oo;t=t.replace(ON,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,m=(d=EN.exec(t))!==null&&d!==void 0?d:[],p=Vf(m,4),v=p[1],g=p[2],w=p[3],x=yd.parse(v??""),y=yd.parse(w??""),h=g==="+"?x.add(y):x.subtract(y);if(h.isNaN())return oo;t=t.replace(EN,h.toString())}return t}var CN=/\(([^()]*)\)/;function qX(e){for(var t=e;t.includes("(");){var r=CN.exec(t),n=Vf(r,2),i=n[1];t=t.replace(CN,NC(i))}return t}function GX(e){var t=e.replace(/\s+/g,"");return t=qX(t),t=NC(t),t}function KX(e){try{return GX(e)}catch{return oo}}function Jp(e){var t=KX(e.slice(5,-1));return t===oo?"":t}var YX=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],XX=["dx","dy","angle","className","breakAll"];function ex(){return ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ex.apply(this,arguments)}function TN(e,t){if(e==null)return{};var r=JX(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kN(e,t){return tJ(e)||eJ(e,t)||QX(e,t)||ZX()}function ZX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QX(e,t){if(e){if(typeof e=="string")return MN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MN(e,t)}}function MN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function tJ(e){if(Array.isArray(e))return e}var SC=/[ \f\n\r\t\v\u2028\u2029]+/,_C=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var s=[];Je(r)||(n?s=r.toString().split(""):s=r.toString().split(SC));var o=s.map(function(c){return{word:c,width:pc(c,i).width}}),l=n?0:pc("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},rJ=function(t,r,n,i,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,f=xe(o),d=l,m=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(G,X){var F=X.word,Y=X.width,J=G[G.length-1];if(J&&(i==null||s||J.width+Y+n<Number(i)))J.words.push(F),J.width+=Y+n;else{var k={words:[F],width:Y};G.push(k)}return G},[])},p=m(r),v=function(z){return z.reduce(function(G,X){return G.width>X.width?G:X})};if(!f)return p;for(var g="",w=function(z){var G=d.slice(0,z),X=_C({breakAll:u,style:c,children:G+g}).wordsWithComputedWidth,F=m(X),Y=F.length>o||v(F).width>Number(i);return[Y,F]},x=0,y=d.length-1,h=0,N;x<=y&&h<=d.length-1;){var j=Math.floor((x+y)/2),b=j-1,S=w(b),P=kN(S,2),A=P[0],E=P[1],O=w(j),C=kN(O,1),T=C[0];if(!A&&!T&&(x=j+1),A&&T&&(y=j-1),!A&&T){N=E;break}h++}return N||p},$N=function(t){var r=Je(t)?[]:t.toString().split(SC);return[{words:r}]},nJ=function(t){var r=t.width,n=t.scaleToFit,i=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Nl.isSsr){var c,u,f=_C({breakAll:o,children:i,style:s});if(f){var d=f.wordsWithComputedWidth,m=f.spaceWidth;c=d,u=m}else return $N(i);return rJ({breakAll:o,children:i,maxLines:l,style:s},c,u,r,n)}return $N(i)},DN="#808080",Ss=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,d=f===void 0?!1:f,m=t.textAnchor,p=m===void 0?"start":m,v=t.verticalAnchor,g=v===void 0?"end":v,w=t.fill,x=w===void 0?DN:w,y=TN(t,YX),h=_.useMemo(function(){return nJ({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:d,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,d,y.style,y.width]),N=y.dx,j=y.dy,b=y.angle,S=y.className,P=y.breakAll,A=TN(y,XX);if(!er(n)||!er(s))return null;var E=n+(xe(N)?N:0),O=s+(xe(j)?j:0),C;switch(g){case"start":C=Jp("calc(".concat(u,")"));break;case"middle":C=Jp("calc(".concat((h.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:C=Jp("calc(".concat(h.length-1," * -").concat(l,")"));break}var T=[];if(d){var R=h[0].width,z=y.width;T.push("scale(".concat((xe(z)?z/R:1)/R,")"))}return b&&T.push("rotate(".concat(b,", ").concat(E,", ").concat(O,")")),T.length&&(A.transform=T.join(" ")),I.createElement("text",ex({},Ue(A,!0),{x:E,y:O,className:Xe("recharts-text",S),textAnchor:p,fill:x.includes("url")?DN:x}),h.map(function(G,X){var F=G.words.join(P?"":" ");return I.createElement("tspan",{x:E,dy:X===0?C:l,key:"".concat(F,"-").concat(X)},F)}))};function ji(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function aJ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jv(e){let t,r,n;e.length!==2?(t=ji,r=(l,c)=>ji(e(l),c),n=(l,c)=>e(l)-c):(t=e===ji||e===aJ?e:iJ,r=e,n=e);function i(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<0?u=d+1:f=d}while(u<f)}return u}function s(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<=0?u=d+1:f=d}while(u<f)}return u}function o(l,c,u=0,f=l.length){const d=i(l,c,u,f-1);return d>u&&n(l[d-1],c)>-n(l[d],c)?d-1:d}return{left:i,center:o,right:s}}function iJ(){return 0}function AC(e){return e===null?NaN:+e}function*sJ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const oJ=Jv(ji),zu=oJ.right;Jv(AC).center;class IN extends Map{constructor(t,r=uJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(LN(this,t))}has(t){return super.has(LN(this,t))}set(t,r){return super.set(lJ(this,t),r)}delete(t){return super.delete(cJ(this,t))}}function LN({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function lJ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function cJ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function uJ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function dJ(e=ji){if(e===ji)return PC;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function PC(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const fJ=Math.sqrt(50),mJ=Math.sqrt(10),hJ=Math.sqrt(2);function Uf(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=fJ?10:s>=mJ?5:s>=hJ?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Uf(e,t,r*2):[l,c,u]}function tx(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,o]=n?Uf(t,e,r):Uf(e,t,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function rx(e,t,r){return t=+t,e=+e,r=+r,Uf(e,t,r)[2]}function nx(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?rx(t,e,r):rx(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function RN(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function BN(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function OC(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?PC:dJ(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,f=Math.log(c),d=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*d*(c-d)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*d/c+m)),v=Math.min(n,Math.floor(t+(c-u)*d/c+m));OC(e,t,p,v,i)}const s=e[t];let o=r,l=n;for(Vl(e,r,t),i(e[n],s)>0&&Vl(e,r,n);o<l;){for(Vl(e,o,l),++o,--l;i(e[o],s)<0;)++o;for(;i(e[l],s)>0;)--l}i(e[r],s)===0?Vl(e,r,l):(++l,Vl(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Vl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function pJ(e,t,r){if(e=Float64Array.from(sJ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return BN(e);if(t>=1)return RN(e);var n,i=(n-1)*t,s=Math.floor(i),o=RN(OC(e,s).subarray(0,s+1)),l=BN(e.subarray(s+1));return o+(l-o)*(i-s)}}function gJ(e,t,r=AC){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(i-s)}}function xJ(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function An(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function qa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ax=Symbol("implicit");function Zv(){var e=new IN,t=[],r=[],n=ax;function i(s){let o=e.get(s);if(o===void 0){if(n!==ax)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new IN;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Zv(t,r).unknown(n)},An.apply(i,arguments),i}function eu(){var e=Zv().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,o,l=!1,c=0,u=0,f=.5;delete e.unknown;function d(){var m=t().length,p=i<n,v=p?i:n,g=p?n:i;s=(g-v)/Math.max(1,m-c+u*2),l&&(s=Math.floor(s)),v+=(g-v-s*(m-c))*f,o=s*(1-c),l&&(v=Math.round(v),o=Math.round(o));var w=xJ(m).map(function(x){return v+s*x});return r(p?w.reverse():w)}return e.domain=function(m){return arguments.length?(t(m),d()):t()},e.range=function(m){return arguments.length?([n,i]=m,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(m){return[n,i]=m,n=+n,i=+i,l=!0,d()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(m){return arguments.length?(l=!!m,d()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),d()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),d()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,d()):u},e.align=function(m){return arguments.length?(f=Math.max(0,Math.min(1,m)),d()):f},e.copy=function(){return eu(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(f)},An.apply(d(),arguments)}function EC(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return EC(t())},e}function gc(){return EC(eu.apply(null,arguments).paddingInner(1))}function Qv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function CC(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Vu(){}var tu=.7,Wf=1/tu,So="\\s*([+-]?\\d+)\\s*",ru="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ta="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yJ=/^#([0-9a-f]{3,8})$/,vJ=new RegExp(`^rgb\\(${So},${So},${So}\\)$`),bJ=new RegExp(`^rgb\\(${ta},${ta},${ta}\\)$`),jJ=new RegExp(`^rgba\\(${So},${So},${So},${ru}\\)$`),wJ=new RegExp(`^rgba\\(${ta},${ta},${ta},${ru}\\)$`),NJ=new RegExp(`^hsl\\(${ru},${ta},${ta}\\)$`),SJ=new RegExp(`^hsla\\(${ru},${ta},${ta},${ru}\\)$`),FN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qv(Vu,nu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zN,formatHex:zN,formatHex8:_J,formatHsl:AJ,formatRgb:VN,toString:VN});function zN(){return this.rgb().formatHex()}function _J(){return this.rgb().formatHex8()}function AJ(){return TC(this).formatHsl()}function VN(){return this.rgb().formatRgb()}function nu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=yJ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?UN(t):r===3?new Fr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?vd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?vd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=vJ.exec(e))?new Fr(t[1],t[2],t[3],1):(t=bJ.exec(e))?new Fr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=jJ.exec(e))?vd(t[1],t[2],t[3],t[4]):(t=wJ.exec(e))?vd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=NJ.exec(e))?qN(t[1],t[2]/100,t[3]/100,1):(t=SJ.exec(e))?qN(t[1],t[2]/100,t[3]/100,t[4]):FN.hasOwnProperty(e)?UN(FN[e]):e==="transparent"?new Fr(NaN,NaN,NaN,0):null}function UN(e){return new Fr(e>>16&255,e>>8&255,e&255,1)}function vd(e,t,r,n){return n<=0&&(e=t=r=NaN),new Fr(e,t,r,n)}function PJ(e){return e instanceof Vu||(e=nu(e)),e?(e=e.rgb(),new Fr(e.r,e.g,e.b,e.opacity)):new Fr}function ix(e,t,r,n){return arguments.length===1?PJ(e):new Fr(e,t,r,n??1)}function Fr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Qv(Fr,ix,CC(Vu,{brighter(e){return e=e==null?Wf:Math.pow(Wf,e),new Fr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?tu:Math.pow(tu,e),new Fr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Fr(fs(this.r),fs(this.g),fs(this.b),Hf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:WN,formatHex:WN,formatHex8:OJ,formatRgb:HN,toString:HN}));function WN(){return`#${as(this.r)}${as(this.g)}${as(this.b)}`}function OJ(){return`#${as(this.r)}${as(this.g)}${as(this.b)}${as((isNaN(this.opacity)?1:this.opacity)*255)}`}function HN(){const e=Hf(this.opacity);return`${e===1?"rgb(":"rgba("}${fs(this.r)}, ${fs(this.g)}, ${fs(this.b)}${e===1?")":`, ${e})`}`}function Hf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function as(e){return e=fs(e),(e<16?"0":"")+e.toString(16)}function qN(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Mn(e,t,r,n)}function TC(e){if(e instanceof Mn)return new Mn(e.h,e.s,e.l,e.opacity);if(e instanceof Vu||(e=nu(e)),!e)return new Mn;if(e instanceof Mn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-i,c=(s+i)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new Mn(o,l,c,e.opacity)}function EJ(e,t,r,n){return arguments.length===1?TC(e):new Mn(e,t,r,n??1)}function Mn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Qv(Mn,EJ,CC(Vu,{brighter(e){return e=e==null?Wf:Math.pow(Wf,e),new Mn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?tu:Math.pow(tu,e),new Mn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Fr(Zp(e>=240?e-240:e+120,i,n),Zp(e,i,n),Zp(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Mn(GN(this.h),bd(this.s),bd(this.l),Hf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Hf(this.opacity);return`${e===1?"hsl(":"hsla("}${GN(this.h)}, ${bd(this.s)*100}%, ${bd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function GN(e){return e=(e||0)%360,e<0?e+360:e}function bd(e){return Math.max(0,Math.min(1,e||0))}function Zp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const eb=e=>()=>e;function CJ(e,t){return function(r){return e+r*t}}function TJ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function kJ(e){return(e=+e)==1?kC:function(t,r){return r-t?TJ(t,r,e):eb(isNaN(t)?r:t)}}function kC(e,t){var r=t-e;return r?CJ(e,r):eb(isNaN(e)?t:e)}const KN=function e(t){var r=kJ(t);function n(i,s){var o=r((i=ix(i)).r,(s=ix(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=kC(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=c(f),i.opacity=u(f),i+""}}return n.gamma=e,n}(1);function MJ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function $J(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function DJ(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=Sl(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=i[o](l);return s}}function IJ(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function qf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function LJ(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Sl(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var sx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qp=new RegExp(sx.source,"g");function RJ(e){return function(){return e}}function BJ(e){return function(t){return e(t)+""}}function FJ(e,t){var r=sx.lastIndex=Qp.lastIndex=0,n,i,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=sx.exec(e))&&(i=Qp.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:qf(n,i)})),r=Qp.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?BJ(c[0].x):RJ(t):(t=c.length,function(u){for(var f=0,d;f<t;++f)l[(d=c[f]).i]=d.x(u);return l.join("")})}function Sl(e,t){var r=typeof t,n;return t==null||r==="boolean"?eb(t):(r==="number"?qf:r==="string"?(n=nu(t))?(t=n,KN):FJ:t instanceof nu?KN:t instanceof Date?IJ:$J(t)?MJ:Array.isArray(t)?DJ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?LJ:qf)(e,t)}function tb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function zJ(e,t){t===void 0&&(t=e,e=Sl);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function VJ(e){return function(){return e}}function Gf(e){return+e}var YN=[0,1];function Cr(e){return e}function ox(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:VJ(isNaN(t)?NaN:.5)}function UJ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function WJ(e,t,r){var n=e[0],i=e[1],s=t[0],o=t[1];return i<n?(n=ox(i,n),s=r(o,s)):(n=ox(n,i),s=r(s,o)),function(l){return s(n(l))}}function HJ(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=ox(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=zu(e,l,1,n)-1;return s[c](i[c](l))}}function Uu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ah(){var e=YN,t=YN,r=Sl,n,i,s,o=Cr,l,c,u;function f(){var m=Math.min(e.length,t.length);return o!==Cr&&(o=UJ(e[0],e[m-1])),l=m>2?HJ:WJ,c=u=null,d}function d(m){return m==null||isNaN(m=+m)?s:(c||(c=l(e.map(n),t,r)))(n(o(m)))}return d.invert=function(m){return o(i((u||(u=l(t,e.map(n),qf)))(m)))},d.domain=function(m){return arguments.length?(e=Array.from(m,Gf),f()):e.slice()},d.range=function(m){return arguments.length?(t=Array.from(m),f()):t.slice()},d.rangeRound=function(m){return t=Array.from(m),r=tb,f()},d.clamp=function(m){return arguments.length?(o=m?!0:Cr,f()):o!==Cr},d.interpolate=function(m){return arguments.length?(r=m,f()):r},d.unknown=function(m){return arguments.length?(s=m,d):s},function(m,p){return n=m,i=p,f()}}function rb(){return Ah()(Cr,Cr)}function qJ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Kf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ho(e){return e=Kf(Math.abs(e)),e?e[1]:NaN}function GJ(e,t){return function(r,n){for(var i=r.length,s=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function KJ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var YJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function au(e){if(!(t=YJ.exec(e)))throw new Error("invalid format: "+e);var t;return new nb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}au.prototype=nb.prototype;function nb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}nb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function XJ(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var MC;function JJ(e,t){var r=Kf(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(MC=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Kf(e,Math.max(0,t+s-1))[0]}function XN(e,t){var r=Kf(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const JN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:qJ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>XN(e*100,t),r:XN,s:JJ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ZN(e){return e}var QN=Array.prototype.map,e2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ZJ(e){var t=e.grouping===void 0||e.thousands===void 0?ZN:GJ(QN.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?ZN:KJ(QN.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=au(d);var m=d.fill,p=d.align,v=d.sign,g=d.symbol,w=d.zero,x=d.width,y=d.comma,h=d.precision,N=d.trim,j=d.type;j==="n"?(y=!0,j="g"):JN[j]||(h===void 0&&(h=12),N=!0,j="g"),(w||m==="0"&&p==="=")&&(w=!0,m="0",p="=");var b=g==="$"?r:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",S=g==="$"?n:/[%p]/.test(j)?o:"",P=JN[j],A=/[defgprs%]/.test(j);h=h===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h));function E(O){var C=b,T=S,R,z,G;if(j==="c")T=P(O)+T,O="";else{O=+O;var X=O<0||1/O<0;if(O=isNaN(O)?c:P(Math.abs(O),h),N&&(O=XJ(O)),X&&+O==0&&v!=="+"&&(X=!1),C=(X?v==="("?v:l:v==="-"||v==="("?"":v)+C,T=(j==="s"?e2[8+MC/3]:"")+T+(X&&v==="("?")":""),A){for(R=-1,z=O.length;++R<z;)if(G=O.charCodeAt(R),48>G||G>57){T=(G===46?i+O.slice(R+1):O.slice(R))+T,O=O.slice(0,R);break}}}y&&!w&&(O=t(O,1/0));var F=C.length+O.length+T.length,Y=F<x?new Array(x-F+1).join(m):"";switch(y&&w&&(O=t(Y+O,Y.length?x-T.length:1/0),Y=""),p){case"<":O=C+O+T+Y;break;case"=":O=C+Y+O+T;break;case"^":O=Y.slice(0,F=Y.length>>1)+C+O+T+Y.slice(F);break;default:O=Y+C+O+T;break}return s(O)}return E.toString=function(){return d+""},E}function f(d,m){var p=u((d=au(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(Ho(m)/3)))*3,g=Math.pow(10,-v),w=e2[8+v/3];return function(x){return p(g*x)+w}}return{format:u,formatPrefix:f}}var jd,ab,$C;QJ({thousands:",",grouping:[3],currency:["$",""]});function QJ(e){return jd=ZJ(e),ab=jd.format,$C=jd.formatPrefix,jd}function eZ(e){return Math.max(0,-Ho(Math.abs(e)))}function tZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ho(t)/3)))*3-Ho(Math.abs(e)))}function rZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ho(t)-Ho(e))+1}function DC(e,t,r,n){var i=nx(e,t,r),s;switch(n=au(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=tZ(i,o))&&(n.precision=s),$C(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=rZ(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=eZ(i))&&(n.precision=s-(n.type==="%")*2);break}}return ab(n)}function Di(e){var t=e.domain;return e.ticks=function(r){var n=t();return tx(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return DC(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,o=n[i],l=n[s],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=i,i=s,s=u);f-- >0;){if(u=rx(o,l,r),u===c)return n[i]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Yf(){var e=rb();return e.copy=function(){return Uu(e,Yf())},An.apply(e,arguments),Di(e)}function IC(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Gf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return IC(e).unknown(t)},e=arguments.length?Array.from(e,Gf):[0,1],Di(r)}function LC(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),e[r]=t.floor(i),e[n]=t.ceil(s),e}function t2(e){return Math.log(e)}function r2(e){return Math.exp(e)}function nZ(e){return-Math.log(-e)}function aZ(e){return-Math.exp(-e)}function iZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function sZ(e){return e===10?iZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function oZ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function n2(e){return(t,r)=>-e(-t,r)}function ib(e){const t=e(t2,r2),r=t.domain;let n=10,i,s;function o(){return i=oZ(n),s=sZ(n),r()[0]<0?(i=n2(i),s=n2(s),e(nZ,aZ)):e(t2,r2),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const d=f<u;d&&([u,f]=[f,u]);let m=i(u),p=i(f),v,g;const w=l==null?10:+l;let x=[];if(!(n%1)&&p-m<w){if(m=Math.floor(m),p=Math.ceil(p),u>0){for(;m<=p;++m)for(v=1;v<n;++v)if(g=m<0?v/s(-m):v*s(m),!(g<u)){if(g>f)break;x.push(g)}}else for(;m<=p;++m)for(v=n-1;v>=1;--v)if(g=m>0?v/s(-m):v*s(m),!(g<u)){if(g>f)break;x.push(g)}x.length*2<w&&(x=tx(u,f,w))}else x=tx(m,p,Math.min(p-m,w)).map(s);return d?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=au(c)).precision==null&&(c.trim=!0),c=ab(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return f=>{let d=f/s(Math.round(i(f)));return d*n<n-.5&&(d*=n),d<=u?c(f):""}},t.nice=()=>r(LC(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function RC(){const e=ib(Ah()).domain([1,10]);return e.copy=()=>Uu(e,RC()).base(e.base()),An.apply(e,arguments),e}function a2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function i2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function sb(e){var t=1,r=e(a2(t),i2(t));return r.constant=function(n){return arguments.length?e(a2(t=+n),i2(t)):t},Di(r)}function BC(){var e=sb(Ah());return e.copy=function(){return Uu(e,BC()).constant(e.constant())},An.apply(e,arguments)}function s2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function lZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function cZ(e){return e<0?-e*e:e*e}function ob(e){var t=e(Cr,Cr),r=1;function n(){return r===1?e(Cr,Cr):r===.5?e(lZ,cZ):e(s2(r),s2(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Di(t)}function lb(){var e=ob(Ah());return e.copy=function(){return Uu(e,lb()).exponent(e.exponent())},An.apply(e,arguments),e}function uZ(){return lb.apply(null,arguments).exponent(.5)}function o2(e){return Math.sign(e)*e*e}function dZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function FC(){var e=rb(),t=[0,1],r=!1,n;function i(s){var o=dZ(e(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return e.invert(o2(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,Gf)).map(o2)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return FC(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},An.apply(i,arguments),Di(i)}function zC(){var e=[],t=[],r=[],n;function i(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=gJ(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[zu(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ji),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return zC().domain(e).range(t).unknown(n)},An.apply(s,arguments)}function VC(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[zu(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return VC().domain([e,t]).range(i).unknown(s)},An.apply(Di(o),arguments)}function UC(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[zu(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return UC().domain(e).range(t).unknown(r)},An.apply(i,arguments)}const eg=new Date,tg=new Date;function tr(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},i.filter=s=>tr(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(i.count=(s,o)=>(eg.setTime(+s),tg.setTime(+o),e(eg),e(tg),Math.floor(r(eg,tg))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Xf=tr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Xf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?tr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Xf);Xf.range;const ba=1e3,yn=ba*60,ja=yn*60,Ba=ja*24,cb=Ba*7,l2=Ba*30,rg=Ba*365,is=tr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ba)},(e,t)=>(t-e)/ba,e=>e.getUTCSeconds());is.range;const ub=tr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ba)},(e,t)=>{e.setTime(+e+t*yn)},(e,t)=>(t-e)/yn,e=>e.getMinutes());ub.range;const db=tr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*yn)},(e,t)=>(t-e)/yn,e=>e.getUTCMinutes());db.range;const fb=tr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ba-e.getMinutes()*yn)},(e,t)=>{e.setTime(+e+t*ja)},(e,t)=>(t-e)/ja,e=>e.getHours());fb.range;const mb=tr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ja)},(e,t)=>(t-e)/ja,e=>e.getUTCHours());mb.range;const Wu=tr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*yn)/Ba,e=>e.getDate()-1);Wu.range;const Ph=tr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ba,e=>e.getUTCDate()-1);Ph.range;const WC=tr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ba,e=>Math.floor(e/Ba));WC.range;function Ms(e){return tr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*yn)/cb)}const Oh=Ms(0),Jf=Ms(1),fZ=Ms(2),mZ=Ms(3),qo=Ms(4),hZ=Ms(5),pZ=Ms(6);Oh.range;Jf.range;fZ.range;mZ.range;qo.range;hZ.range;pZ.range;function $s(e){return tr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/cb)}const Eh=$s(0),Zf=$s(1),gZ=$s(2),xZ=$s(3),Go=$s(4),yZ=$s(5),vZ=$s(6);Eh.range;Zf.range;gZ.range;xZ.range;Go.range;yZ.range;vZ.range;const hb=tr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());hb.range;const pb=tr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());pb.range;const Fa=tr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Fa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:tr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Fa.range;const za=tr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());za.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:tr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});za.range;function HC(e,t,r,n,i,s){const o=[[is,1,ba],[is,5,5*ba],[is,15,15*ba],[is,30,30*ba],[s,1,yn],[s,5,5*yn],[s,15,15*yn],[s,30,30*yn],[i,1,ja],[i,3,3*ja],[i,6,6*ja],[i,12,12*ja],[n,1,Ba],[n,2,2*Ba],[r,1,cb],[t,1,l2],[t,3,3*l2],[e,1,rg]];function l(u,f,d){const m=f<u;m&&([u,f]=[f,u]);const p=d&&typeof d.range=="function"?d:c(u,f,d),v=p?p.range(u,+f+1):[];return m?v.reverse():v}function c(u,f,d){const m=Math.abs(f-u)/d,p=Jv(([,,w])=>w).right(o,m);if(p===o.length)return e.every(nx(u/rg,f/rg,d));if(p===0)return Xf.every(Math.max(nx(u,f,d),1));const[v,g]=o[m/o[p-1][2]<o[p][2]/m?p-1:p];return v.every(g)}return[l,c]}const[bZ,jZ]=HC(za,pb,Eh,WC,mb,db),[wZ,NZ]=HC(Fa,hb,Oh,Wu,fb,ub);function ng(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ag(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ul(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function SZ(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Wl(i),f=Hl(i),d=Wl(s),m=Hl(s),p=Wl(o),v=Hl(o),g=Wl(l),w=Hl(l),x=Wl(c),y=Hl(c),h={a:X,A:F,b:Y,B:J,c:null,d:h2,e:h2,f:GZ,g:nQ,G:iQ,H:WZ,I:HZ,j:qZ,L:qC,m:KZ,M:YZ,p:k,q:K,Q:x2,s:y2,S:XZ,u:JZ,U:ZZ,V:QZ,w:eQ,W:tQ,x:null,X:null,y:rQ,Y:aQ,Z:sQ,"%":g2},N={a:oe,A:B,b:M,B:re,c:null,d:p2,e:p2,f:uQ,g:bQ,G:wQ,H:oQ,I:lQ,j:cQ,L:KC,m:dQ,M:fQ,p:we,q:be,Q:x2,s:y2,S:mQ,u:hQ,U:pQ,V:gQ,w:xQ,W:yQ,x:null,X:null,y:vQ,Y:jQ,Z:NQ,"%":g2},j={a:E,A:O,b:C,B:T,c:R,d:f2,e:f2,f:FZ,g:d2,G:u2,H:m2,I:m2,j:IZ,L:BZ,m:DZ,M:LZ,p:A,q:$Z,Q:VZ,s:UZ,S:RZ,u:EZ,U:CZ,V:TZ,w:OZ,W:kZ,x:z,X:G,y:d2,Y:u2,Z:MZ,"%":zZ};h.x=b(r,h),h.X=b(n,h),h.c=b(t,h),N.x=b(r,N),N.X=b(n,N),N.c=b(t,N);function b($,ae){return function(fe){var q=[],ye=-1,Ne=0,V=$.length,me,Se,We;for(fe instanceof Date||(fe=new Date(+fe));++ye<V;)$.charCodeAt(ye)===37&&(q.push($.slice(Ne,ye)),(Se=c2[me=$.charAt(++ye)])!=null?me=$.charAt(++ye):Se=me==="e"?" ":"0",(We=ae[me])&&(me=We(fe,Se)),q.push(me),Ne=ye+1);return q.push($.slice(Ne,ye)),q.join("")}}function S($,ae){return function(fe){var q=Ul(1900,void 0,1),ye=P(q,$,fe+="",0),Ne,V;if(ye!=fe.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(ae&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(Ne=ag(Ul(q.y,0,1)),V=Ne.getUTCDay(),Ne=V>4||V===0?Zf.ceil(Ne):Zf(Ne),Ne=Ph.offset(Ne,(q.V-1)*7),q.y=Ne.getUTCFullYear(),q.m=Ne.getUTCMonth(),q.d=Ne.getUTCDate()+(q.w+6)%7):(Ne=ng(Ul(q.y,0,1)),V=Ne.getDay(),Ne=V>4||V===0?Jf.ceil(Ne):Jf(Ne),Ne=Wu.offset(Ne,(q.V-1)*7),q.y=Ne.getFullYear(),q.m=Ne.getMonth(),q.d=Ne.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),V="Z"in q?ag(Ul(q.y,0,1)).getUTCDay():ng(Ul(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(V+5)%7:q.w+q.U*7-(V+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,ag(q)):ng(q)}}function P($,ae,fe,q){for(var ye=0,Ne=ae.length,V=fe.length,me,Se;ye<Ne;){if(q>=V)return-1;if(me=ae.charCodeAt(ye++),me===37){if(me=ae.charAt(ye++),Se=j[me in c2?ae.charAt(ye++):me],!Se||(q=Se($,fe,q))<0)return-1}else if(me!=fe.charCodeAt(q++))return-1}return q}function A($,ae,fe){var q=u.exec(ae.slice(fe));return q?($.p=f.get(q[0].toLowerCase()),fe+q[0].length):-1}function E($,ae,fe){var q=p.exec(ae.slice(fe));return q?($.w=v.get(q[0].toLowerCase()),fe+q[0].length):-1}function O($,ae,fe){var q=d.exec(ae.slice(fe));return q?($.w=m.get(q[0].toLowerCase()),fe+q[0].length):-1}function C($,ae,fe){var q=x.exec(ae.slice(fe));return q?($.m=y.get(q[0].toLowerCase()),fe+q[0].length):-1}function T($,ae,fe){var q=g.exec(ae.slice(fe));return q?($.m=w.get(q[0].toLowerCase()),fe+q[0].length):-1}function R($,ae,fe){return P($,t,ae,fe)}function z($,ae,fe){return P($,r,ae,fe)}function G($,ae,fe){return P($,n,ae,fe)}function X($){return o[$.getDay()]}function F($){return s[$.getDay()]}function Y($){return c[$.getMonth()]}function J($){return l[$.getMonth()]}function k($){return i[+($.getHours()>=12)]}function K($){return 1+~~($.getMonth()/3)}function oe($){return o[$.getUTCDay()]}function B($){return s[$.getUTCDay()]}function M($){return c[$.getUTCMonth()]}function re($){return l[$.getUTCMonth()]}function we($){return i[+($.getUTCHours()>=12)]}function be($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var ae=b($+="",h);return ae.toString=function(){return $},ae},parse:function($){var ae=S($+="",!1);return ae.toString=function(){return $},ae},utcFormat:function($){var ae=b($+="",N);return ae.toString=function(){return $},ae},utcParse:function($){var ae=S($+="",!0);return ae.toString=function(){return $},ae}}}var c2={"-":"",_:" ",0:"0"},cr=/^\s*\d+/,_Z=/^%/,AZ=/[\\^$*+?|[\]().{}]/g;function st(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function PZ(e){return e.replace(AZ,"\\$&")}function Wl(e){return new RegExp("^(?:"+e.map(PZ).join("|")+")","i")}function Hl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function OZ(e,t,r){var n=cr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function EZ(e,t,r){var n=cr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function CZ(e,t,r){var n=cr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function TZ(e,t,r){var n=cr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function kZ(e,t,r){var n=cr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function u2(e,t,r){var n=cr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function d2(e,t,r){var n=cr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function MZ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function $Z(e,t,r){var n=cr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function DZ(e,t,r){var n=cr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function f2(e,t,r){var n=cr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function IZ(e,t,r){var n=cr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function m2(e,t,r){var n=cr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function LZ(e,t,r){var n=cr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function RZ(e,t,r){var n=cr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function BZ(e,t,r){var n=cr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function FZ(e,t,r){var n=cr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function zZ(e,t,r){var n=_Z.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function VZ(e,t,r){var n=cr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function UZ(e,t,r){var n=cr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function h2(e,t){return st(e.getDate(),t,2)}function WZ(e,t){return st(e.getHours(),t,2)}function HZ(e,t){return st(e.getHours()%12||12,t,2)}function qZ(e,t){return st(1+Wu.count(Fa(e),e),t,3)}function qC(e,t){return st(e.getMilliseconds(),t,3)}function GZ(e,t){return qC(e,t)+"000"}function KZ(e,t){return st(e.getMonth()+1,t,2)}function YZ(e,t){return st(e.getMinutes(),t,2)}function XZ(e,t){return st(e.getSeconds(),t,2)}function JZ(e){var t=e.getDay();return t===0?7:t}function ZZ(e,t){return st(Oh.count(Fa(e)-1,e),t,2)}function GC(e){var t=e.getDay();return t>=4||t===0?qo(e):qo.ceil(e)}function QZ(e,t){return e=GC(e),st(qo.count(Fa(e),e)+(Fa(e).getDay()===4),t,2)}function eQ(e){return e.getDay()}function tQ(e,t){return st(Jf.count(Fa(e)-1,e),t,2)}function rQ(e,t){return st(e.getFullYear()%100,t,2)}function nQ(e,t){return e=GC(e),st(e.getFullYear()%100,t,2)}function aQ(e,t){return st(e.getFullYear()%1e4,t,4)}function iQ(e,t){var r=e.getDay();return e=r>=4||r===0?qo(e):qo.ceil(e),st(e.getFullYear()%1e4,t,4)}function sQ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+st(t/60|0,"0",2)+st(t%60,"0",2)}function p2(e,t){return st(e.getUTCDate(),t,2)}function oQ(e,t){return st(e.getUTCHours(),t,2)}function lQ(e,t){return st(e.getUTCHours()%12||12,t,2)}function cQ(e,t){return st(1+Ph.count(za(e),e),t,3)}function KC(e,t){return st(e.getUTCMilliseconds(),t,3)}function uQ(e,t){return KC(e,t)+"000"}function dQ(e,t){return st(e.getUTCMonth()+1,t,2)}function fQ(e,t){return st(e.getUTCMinutes(),t,2)}function mQ(e,t){return st(e.getUTCSeconds(),t,2)}function hQ(e){var t=e.getUTCDay();return t===0?7:t}function pQ(e,t){return st(Eh.count(za(e)-1,e),t,2)}function YC(e){var t=e.getUTCDay();return t>=4||t===0?Go(e):Go.ceil(e)}function gQ(e,t){return e=YC(e),st(Go.count(za(e),e)+(za(e).getUTCDay()===4),t,2)}function xQ(e){return e.getUTCDay()}function yQ(e,t){return st(Zf.count(za(e)-1,e),t,2)}function vQ(e,t){return st(e.getUTCFullYear()%100,t,2)}function bQ(e,t){return e=YC(e),st(e.getUTCFullYear()%100,t,2)}function jQ(e,t){return st(e.getUTCFullYear()%1e4,t,4)}function wQ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Go(e):Go.ceil(e),st(e.getUTCFullYear()%1e4,t,4)}function NQ(){return"+0000"}function g2(){return"%"}function x2(e){return+e}function y2(e){return Math.floor(+e/1e3)}var Fs,XC,JC;SQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function SQ(e){return Fs=SZ(e),XC=Fs.format,Fs.parse,JC=Fs.utcFormat,Fs.utcParse,Fs}function _Q(e){return new Date(e)}function AQ(e){return e instanceof Date?+e:+new Date(+e)}function gb(e,t,r,n,i,s,o,l,c,u){var f=rb(),d=f.invert,m=f.domain,p=u(".%L"),v=u(":%S"),g=u("%I:%M"),w=u("%I %p"),x=u("%a %d"),y=u("%b %d"),h=u("%B"),N=u("%Y");function j(b){return(c(b)<b?p:l(b)<b?v:o(b)<b?g:s(b)<b?w:n(b)<b?i(b)<b?x:y:r(b)<b?h:N)(b)}return f.invert=function(b){return new Date(d(b))},f.domain=function(b){return arguments.length?m(Array.from(b,AQ)):m().map(_Q)},f.ticks=function(b){var S=m();return e(S[0],S[S.length-1],b??10)},f.tickFormat=function(b,S){return S==null?j:u(S)},f.nice=function(b){var S=m();return(!b||typeof b.range!="function")&&(b=t(S[0],S[S.length-1],b??10)),b?m(LC(S,b)):f},f.copy=function(){return Uu(f,gb(e,t,r,n,i,s,o,l,c,u))},f}function PQ(){return An.apply(gb(wZ,NZ,Fa,hb,Oh,Wu,fb,ub,is,XC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function OQ(){return An.apply(gb(bZ,jZ,za,pb,Eh,Ph,mb,db,is,JC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ch(){var e=0,t=1,r,n,i,s,o=Cr,l=!1,c;function u(d){return d==null||isNaN(d=+d)?c:o(i===0?.5:(d=(s(d)-r)*i,l?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(l=!!d,u):l},u.interpolator=function(d){return arguments.length?(o=d,u):o};function f(d){return function(m){var p,v;return arguments.length?([p,v]=m,o=d(p,v),u):[o(0),o(1)]}}return u.range=f(Sl),u.rangeRound=f(tb),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return s=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),u}}function Ii(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ZC(){var e=Di(Ch()(Cr));return e.copy=function(){return Ii(e,ZC())},qa.apply(e,arguments)}function QC(){var e=ib(Ch()).domain([1,10]);return e.copy=function(){return Ii(e,QC()).base(e.base())},qa.apply(e,arguments)}function eT(){var e=sb(Ch());return e.copy=function(){return Ii(e,eT()).constant(e.constant())},qa.apply(e,arguments)}function xb(){var e=ob(Ch());return e.copy=function(){return Ii(e,xb()).exponent(e.exponent())},qa.apply(e,arguments)}function EQ(){return xb.apply(null,arguments).exponent(.5)}function tT(){var e=[],t=Cr;function r(n){if(n!=null&&!isNaN(n=+n))return t((zu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ji),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>pJ(e,s/n))},r.copy=function(){return tT(t).domain(e)},qa.apply(r,arguments)}function Th(){var e=0,t=.5,r=1,n=1,i,s,o,l,c,u=Cr,f,d=!1,m;function p(g){return isNaN(g=+g)?m:(g=.5+((g=+f(g))-s)*(n*g<n*s?l:c),u(d?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,r]=g,i=f(e=+e),s=f(t=+t),o=f(r=+r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,p):[e,t,r]},p.clamp=function(g){return arguments.length?(d=!!g,p):d},p.interpolator=function(g){return arguments.length?(u=g,p):u};function v(g){return function(w){var x,y,h;return arguments.length?([x,y,h]=w,u=zJ(g,[x,y,h]),p):[u(0),u(.5),u(1)]}}return p.range=v(Sl),p.rangeRound=v(tb),p.unknown=function(g){return arguments.length?(m=g,p):m},function(g){return f=g,i=g(e),s=g(t),o=g(r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,p}}function rT(){var e=Di(Th()(Cr));return e.copy=function(){return Ii(e,rT())},qa.apply(e,arguments)}function nT(){var e=ib(Th()).domain([.1,1,10]);return e.copy=function(){return Ii(e,nT()).base(e.base())},qa.apply(e,arguments)}function aT(){var e=sb(Th());return e.copy=function(){return Ii(e,aT()).constant(e.constant())},qa.apply(e,arguments)}function yb(){var e=ob(Th());return e.copy=function(){return Ii(e,yb()).exponent(e.exponent())},qa.apply(e,arguments)}function CQ(){return yb.apply(null,arguments).exponent(.5)}const v2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:eu,scaleDiverging:rT,scaleDivergingLog:nT,scaleDivergingPow:yb,scaleDivergingSqrt:CQ,scaleDivergingSymlog:aT,scaleIdentity:IC,scaleImplicit:ax,scaleLinear:Yf,scaleLog:RC,scaleOrdinal:Zv,scalePoint:gc,scalePow:lb,scaleQuantile:zC,scaleQuantize:VC,scaleRadial:FC,scaleSequential:ZC,scaleSequentialLog:QC,scaleSequentialPow:xb,scaleSequentialQuantile:tT,scaleSequentialSqrt:EQ,scaleSequentialSymlog:eT,scaleSqrt:uZ,scaleSymlog:BC,scaleThreshold:UC,scaleTime:PQ,scaleUtc:OQ,tickFormat:DC},Symbol.toStringTag,{value:"Module"}));var TQ=pl;function kQ(e,t,r){for(var n=-1,i=e.length;++n<i;){var s=e[n],o=t(s);if(o!=null&&(l===void 0?o===o&&!TQ(o):r(o,l)))var l=o,c=s}return c}var kh=kQ;function MQ(e,t){return e>t}var iT=MQ,$Q=kh,DQ=iT,IQ=wl;function LQ(e){return e&&e.length?$Q(e,IQ,DQ):void 0}var RQ=LQ;const Mh=mt(RQ);function BQ(e,t){return e<t}var sT=BQ,FQ=kh,zQ=sT,VQ=wl;function UQ(e){return e&&e.length?FQ(e,VQ,zQ):void 0}var WQ=UQ;const $h=mt(WQ);var HQ=kv,qQ=ua,GQ=hC,KQ=qr;function YQ(e,t){var r=KQ(e)?HQ:GQ;return r(e,qQ(t))}var XQ=YQ,JQ=fC,ZQ=XQ;function QQ(e,t){return JQ(ZQ(e,t),1)}var eee=QQ;const tee=mt(eee);var ree=Gv;function nee(e,t){return ree(e,t)}var aee=nee;const Dh=mt(aee);var _l=1e9,iee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},bb,Mt=!0,Sn="[DecimalError] ",ms=Sn+"Invalid argument: ",vb=Sn+"Exponent out of range: ",Al=Math.floor,Xi=Math.pow,see=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jr,ar=1e7,At=7,oT=9007199254740991,Qf=Al(oT/At),Ae={};Ae.absoluteValue=Ae.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ae.comparedTo=Ae.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*At;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ae.dividedBy=Ae.div=function(e){return Ta(this,new this.constructor(e))};Ae.dividedToIntegerBy=Ae.idiv=function(e){var t=this,r=t.constructor;return yt(Ta(t,new r(e),0,1),r.precision)};Ae.equals=Ae.eq=function(e){return!this.cmp(e)};Ae.exponent=function(){return Gt(this)};Ae.greaterThan=Ae.gt=function(e){return this.cmp(e)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(e){return this.cmp(e)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(e){return this.cmp(e)<0};Ae.lessThanOrEqualTo=Ae.lte=function(e){return this.cmp(e)<1};Ae.logarithm=Ae.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Jr))throw Error(Sn+"NaN");if(r.s<1)throw Error(Sn+(r.s?"NaN":"-Infinity"));return r.eq(Jr)?new n(0):(Mt=!1,t=Ta(iu(r,s),iu(e,s),s),Mt=!0,yt(t,i))};Ae.minus=Ae.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?uT(t,e):lT(t,(e.s=-e.s,e))};Ae.modulo=Ae.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Sn+"NaN");return r.s?(Mt=!1,t=Ta(r,e,0,1).times(e),Mt=!0,r.minus(t)):yt(new n(r),i)};Ae.naturalExponential=Ae.exp=function(){return cT(this)};Ae.naturalLogarithm=Ae.ln=function(){return iu(this)};Ae.negated=Ae.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ae.plus=Ae.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?lT(t,e):uT(t,(e.s=-e.s,e))};Ae.precision=Ae.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ms+e);if(t=Gt(i)+1,n=i.d.length-1,r=n*At+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ae.squareRoot=Ae.sqrt=function(){var e,t,r,n,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Sn+"NaN")}for(e=Gt(l),Mt=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Yn(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Al((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(s=n,n=s.plus(Ta(l,s,o+2)).times(.5),Yn(s.d).slice(0,o)===(t=Yn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(yt(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return Mt=!0,yt(n,r)};Ae.times=Ae.mul=function(e){var t,r,n,i,s,o,l,c,u,f=this,d=f.constructor,m=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,c=m.length,u=p.length,c<u&&(s=m,m=p,p=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=s[i]+p[n]*m[i-n-1]+t,s[i--]=l%ar|0,t=l/ar|0;s[i]=(s[i]+t)%ar|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Mt?yt(e,d.precision):e};Ae.toDecimalPlaces=Ae.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(oa(e,0,_l),t===void 0?t=n.rounding:oa(t,0,8),yt(r,e+Gt(r)+1,t))};Ae.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=_s(n,!0):(oa(e,0,_l),t===void 0?t=i.rounding:oa(t,0,8),n=yt(new i(n),e+1,t),r=_s(n,!0,e+1)),r};Ae.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?_s(i):(oa(e,0,_l),t===void 0?t=s.rounding:oa(t,0,8),n=yt(new s(i),e+Gt(i)+1,t),r=_s(n.abs(),!1,e+Gt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ae.toInteger=Ae.toint=function(){var e=this,t=e.constructor;return yt(new t(e),Gt(e)+1,t.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(e){var t,r,n,i,s,o,l=this,c=l.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(Jr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Sn+"Infinity");return l}if(l.eq(Jr))return l;if(n=c.precision,e.eq(Jr))return yt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=f<0?-f:f)<=oT){for(i=new c(Jr),t=Math.ceil(n/At+4),Mt=!1;r%2&&(i=i.times(l),j2(i.d,t)),r=Al(r/2),r!==0;)l=l.times(l),j2(l.d,t);return Mt=!0,e.s<0?new c(Jr).div(i):yt(i,n)}}else if(s<0)throw Error(Sn+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Mt=!1,i=e.times(iu(l,n+u)),Mt=!0,i=cT(i),i.s=s,i};Ae.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=Gt(i),n=_s(i,r<=s.toExpNeg||r>=s.toExpPos)):(oa(e,1,_l),t===void 0?t=s.rounding:oa(t,0,8),i=yt(new s(i),e,t),r=Gt(i),n=_s(i,e<=r||r<=s.toExpNeg,e)),n};Ae.toSignificantDigits=Ae.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(oa(e,1,_l),t===void 0?t=n.rounding:oa(t,0,8)),yt(new n(r),e,t)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Gt(e),r=e.constructor;return _s(e,t<=r.toExpNeg||t>=r.toExpPos)};function lT(e,t){var r,n,i,s,o,l,c,u,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Mt?yt(t,d):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),s=o-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=o,l=c.length),o=Math.ceil(d/At),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/ar|0,c[s]%=ar;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Mt?yt(t,d):t}function oa(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ms+e)}function Yn(e){var t,r,n,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)n=e[t]+"",r=At-n.length,r&&(s+=ti(r)),s+=n;o=e[t],n=o+"",r=At-n.length,r&&(s+=ti(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Ta=function(){function e(n,i){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+o,n[l]=s%ar|0,o=s/ar|0;return o&&n.unshift(o),n}function t(n,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*ar+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var l,c,u,f,d,m,p,v,g,w,x,y,h,N,j,b,S,P,A=n.constructor,E=n.s==i.s?1:-1,O=n.d,C=i.d;if(!n.s)return new A(n);if(!i.s)throw Error(Sn+"Division by zero");for(c=n.e-i.e,S=C.length,j=O.length,p=new A(E),v=p.d=[],u=0;C[u]==(O[u]||0);)++u;if(C[u]>(O[u]||0)&&--c,s==null?y=s=A.precision:o?y=s+(Gt(n)-Gt(i))+1:y=s,y<0)return new A(0);if(y=y/At+2|0,u=0,S==1)for(f=0,C=C[0],y++;(u<j||f)&&y--;u++)h=f*ar+(O[u]||0),v[u]=h/C|0,f=h%C|0;else{for(f=ar/(C[0]+1)|0,f>1&&(C=e(C,f),O=e(O,f),S=C.length,j=O.length),N=S,g=O.slice(0,S),w=g.length;w<S;)g[w++]=0;P=C.slice(),P.unshift(0),b=C[0],C[1]>=ar/2&&++b;do f=0,l=t(C,g,S,w),l<0?(x=g[0],S!=w&&(x=x*ar+(g[1]||0)),f=x/b|0,f>1?(f>=ar&&(f=ar-1),d=e(C,f),m=d.length,w=g.length,l=t(d,g,m,w),l==1&&(f--,r(d,S<m?P:C,m))):(f==0&&(l=f=1),d=C.slice()),m=d.length,m<w&&d.unshift(0),r(g,d,w),l==-1&&(w=g.length,l=t(C,g,S,w),l<1&&(f++,r(g,S<w?P:C,w))),w=g.length):l===0&&(f++,g=[0]),v[u++]=f,l&&g[0]?g[w++]=O[N]||0:(g=[O[N]],w=1);while((N++<j||g[0]!==void 0)&&y--)}return v[0]||v.shift(),p.e=c,yt(p,o?s+Gt(p)+1:s)}}();function cT(e,t){var r,n,i,s,o,l,c=0,u=0,f=e.constructor,d=f.precision;if(Gt(e)>16)throw Error(vb+Gt(e));if(!e.s)return new f(Jr);for(Mt=!1,l=d,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Xi(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new f(Jr),f.precision=l;;){if(i=yt(i.times(e),l),r=r.times(++c),o=s.plus(Ta(i,r,l)),Yn(o.d).slice(0,l)===Yn(s.d).slice(0,l)){for(;u--;)s=yt(s.times(s),l);return f.precision=d,t==null?(Mt=!0,yt(s,d)):s}s=o}}function Gt(e){for(var t=e.e*At,r=e.d[0];r>=10;r/=10)t++;return t}function ig(e,t,r){if(t>e.LN10.sd())throw Mt=!0,r&&(e.precision=r),Error(Sn+"LN10 precision limit exceeded");return yt(new e(e.LN10),t)}function ti(e){for(var t="";e--;)t+="0";return t}function iu(e,t){var r,n,i,s,o,l,c,u,f,d=1,m=10,p=e,v=p.d,g=p.constructor,w=g.precision;if(p.s<1)throw Error(Sn+(p.s?"NaN":"-Infinity"));if(p.eq(Jr))return new g(0);if(t==null?(Mt=!1,u=w):u=t,p.eq(10))return t==null&&(Mt=!0),ig(g,u);if(u+=m,g.precision=u,r=Yn(v),n=r.charAt(0),s=Gt(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Yn(p.d),n=r.charAt(0),d++;s=Gt(p),n>1?(p=new g("0."+r),s++):p=new g(n+"."+r.slice(1))}else return c=ig(g,u+2,w).times(s+""),p=iu(new g(n+"."+r.slice(1)),u-m).plus(c),g.precision=w,t==null?(Mt=!0,yt(p,w)):p;for(l=o=p=Ta(p.minus(Jr),p.plus(Jr),u),f=yt(p.times(p),u),i=3;;){if(o=yt(o.times(f),u),c=l.plus(Ta(o,new g(i),u)),Yn(c.d).slice(0,u)===Yn(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(ig(g,u+2,w).times(s+""))),l=Ta(l,new g(d),u),g.precision=w,t==null?(Mt=!0,yt(l,w)):l;l=c,i+=2}}function b2(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Al(r/At),e.d=[],n=(r+1)%At,r<0&&(n+=At),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=At;n<i;)e.d.push(+t.slice(n,n+=At));t=t.slice(n),n=At-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Mt&&(e.e>Qf||e.e<-Qf))throw Error(vb+r)}else e.s=0,e.e=0,e.d=[0];return e}function yt(e,t,r){var n,i,s,o,l,c,u,f,d=e.d;for(o=1,s=d[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=At,i=t,u=d[f=0];else{if(f=Math.ceil((n+1)/At),s=d.length,f>=s)return e;for(u=s=d[f],o=1;s>=10;s/=10)o++;n%=At,i=n-At+o}if(r!==void 0&&(s=Xi(10,o-i-1),l=u/s%10|0,c=t<0||d[f+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/Xi(10,o-i):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(s=Gt(e),d.length=1,t=t-s-1,d[0]=Xi(10,(At-t%At)%At),e.e=Al(-t/At)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,s=1,f--):(d.length=f+1,s=Xi(10,At-n),d[f]=i>0?(u/Xi(10,o-i)%Xi(10,i)|0)*s:0),c)for(;;)if(f==0){(d[0]+=s)==ar&&(d[0]=1,++e.e);break}else{if(d[f]+=s,d[f]!=ar)break;d[f--]=0,s=1}for(n=d.length;d[--n]===0;)d.pop();if(Mt&&(e.e>Qf||e.e<-Qf))throw Error(vb+Gt(e));return e}function uT(e,t){var r,n,i,s,o,l,c,u,f,d,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Mt?yt(t,p):t;if(c=e.d,d=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(f=o<0,f?(r=c,o=-o,l=d.length):(r=d,n=u,l=c.length),i=Math.max(Math.ceil(p/At),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=d.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=d[i]){f=c[i]<d[i];break}o=0}for(f&&(r=c,c=d,d=r,t.s=-t.s),l=c.length,i=d.length-l;i>0;--i)c[l++]=0;for(i=d.length;i>o;){if(c[--i]<d[i]){for(s=i;s&&c[--s]===0;)c[s]=ar-1;--c[s],c[i]+=ar}c[i]-=d[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Mt?yt(t,p):t):new m(0)}function _s(e,t,r){var n,i=Gt(e),s=Yn(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+ti(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ti(-i-1)+s,r&&(n=r-o)>0&&(s+=ti(n))):i>=o?(s+=ti(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+ti(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=ti(n))),e.s<0?"-"+s:s}function j2(e,t){if(e.length>t)return e.length=t,!0}function dT(e){var t,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ms+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return b2(o,s.toString())}else if(typeof s!="string")throw Error(ms+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,see.test(s))b2(o,s);else throw Error(ms+s)}if(i.prototype=Ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=dT,i.config=i.set=oee,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function oee(e){if(!e||typeof e!="object")throw Error(Sn+"Object expected");var t,r,n,i=["precision",1,_l,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Al(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(ms+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ms+r+": "+n);return this}var bb=dT(iee);Jr=new bb(1);const gt=bb;function lee(e){return fee(e)||dee(e)||uee(e)||cee()}function cee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uee(e,t){if(e){if(typeof e=="string")return lx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lx(e,t)}}function dee(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function fee(e){if(Array.isArray(e))return lx(e)}function lx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mee=function(t){return t},fT={},mT=function(t){return t===fT},w2=function(t){return function r(){return arguments.length===0||arguments.length===1&&mT(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},hee=function e(t,r){return t===1?r:w2(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==fT}).length;return o>=t?r.apply(void 0,i):e(t-o,w2(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=i.map(function(d){return mT(d)?c.shift():d});return r.apply(void 0,lee(f).concat(c))}))})},Ih=function(t){return hee(t.length,t)},cx=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},pee=Ih(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),gee=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return mee;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},ux=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},hT=function(t){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function xee(e){var t;return e===0?t=1:t=Math.floor(new gt(e).abs().log(10).toNumber())+1,t}function yee(e,t,r){for(var n=new gt(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var vee=Ih(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),bee=Ih(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),jee=Ih(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Lh={rangeStep:yee,getDigitCount:xee,interpolateNumber:vee,uninterpolateNumber:bee,uninterpolateTruncation:jee};function dx(e){return See(e)||Nee(e)||pT(e)||wee()}function wee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nee(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function See(e){if(Array.isArray(e))return fx(e)}function su(e,t){return Pee(e)||Aee(e,t)||pT(e,t)||_ee()}function _ee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pT(e,t){if(e){if(typeof e=="string")return fx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fx(e,t)}}function fx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Aee(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function Pee(e){if(Array.isArray(e))return e}function gT(e){var t=su(e,2),r=t[0],n=t[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function xT(e,t,r){if(e.lte(0))return new gt(0);var n=Lh.getDigitCount(e.toNumber()),i=new gt(10).pow(n),s=e.div(i),o=n!==1?.05:.1,l=new gt(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return t?c:new gt(Math.ceil(c))}function Oee(e,t,r){var n=1,i=new gt(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new gt(10).pow(Lh.getDigitCount(e)-1),i=new gt(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new gt(Math.floor(e)))}else e===0?i=new gt(Math.floor((t-1)/2)):r||(i=new gt(Math.floor(e)));var o=Math.floor((t-1)/2),l=gee(pee(function(c){return i.add(new gt(c-o).mul(n)).toNumber()}),cx);return l(0,t)}function yT(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new gt(0),tickMin:new gt(0),tickMax:new gt(0)};var s=xT(new gt(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new gt(0):(o=new gt(e).add(t).div(2),o=o.sub(new gt(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new gt(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?yT(e,t,r,n,i+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new gt(l).mul(s)),tickMax:o.add(new gt(c).mul(s))})}function Eee(e){var t=su(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=gT([r,n]),c=su(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var d=f===1/0?[u].concat(dx(cx(0,i-1).map(function(){return 1/0}))):[].concat(dx(cx(0,i-1).map(function(){return-1/0})),[f]);return r>n?ux(d):d}if(u===f)return Oee(u,i,s);var m=yT(u,f,o,s),p=m.step,v=m.tickMin,g=m.tickMax,w=Lh.rangeStep(v,g.add(new gt(.1).mul(p)),p);return r>n?ux(w):w}function Cee(e,t){var r=su(e,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=gT([n,i]),l=su(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var f=Math.max(t,2),d=xT(new gt(u).sub(c).div(f-1),s,0),m=[].concat(dx(Lh.rangeStep(new gt(c),new gt(u).sub(new gt(.99).mul(d)),d)),[u]);return n>i?ux(m):m}var Tee=hT(Eee),kee=hT(Cee),Mee="Invariant failed";function As(e,t){throw new Error(Mee)}var $ee=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ko(e){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(e)}function em(){return em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},em.apply(this,arguments)}function Dee(e,t){return Bee(e)||Ree(e,t)||Lee(e,t)||Iee()}function Iee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lee(e,t){if(e){if(typeof e=="string")return N2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N2(e,t)}}function N2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ree(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Bee(e){if(Array.isArray(e))return e}function Fee(e,t){if(e==null)return{};var r=zee(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jT(n.key),n)}}function Wee(e,t,r){return t&&Uee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hee(e,t,r){return t=tm(t),qee(e,vT()?Reflect.construct(t,r||[],tm(e).constructor):t.apply(e,r))}function qee(e,t){if(t&&(Ko(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gee(e)}function Gee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vT=function(){return!!e})()}function tm(e){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tm(e)}function Kee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mx(e,t)}function mx(e,t){return mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mx(e,t)}function bT(e,t,r){return t=jT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jT(e){var t=Yee(e,"string");return Ko(t)=="symbol"?t:t+""}function Yee(e,t){if(Ko(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rh=function(e){function t(){return Vee(this,t),Hee(this,t,arguments)}return Kee(t,e),Wee(t,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,m=Fee(n,$ee),p=Ue(m,!1);this.props.direction==="x"&&f.type!=="number"&&As();var v=c.map(function(g){var w=u(g,l),x=w.x,y=w.y,h=w.value,N=w.errorVal;if(!N)return null;var j=[],b,S;if(Array.isArray(N)){var P=Dee(N,2);b=P[0],S=P[1]}else b=S=N;if(s==="vertical"){var A=f.scale,E=y+i,O=E+o,C=E-o,T=A(h-b),R=A(h+S);j.push({x1:R,y1:O,x2:R,y2:C}),j.push({x1:T,y1:E,x2:R,y2:E}),j.push({x1:T,y1:O,x2:T,y2:C})}else if(s==="horizontal"){var z=d.scale,G=x+i,X=G-o,F=G+o,Y=z(h-b),J=z(h+S);j.push({x1:X,y1:J,x2:F,y2:J}),j.push({x1:G,y1:Y,x2:G,y2:J}),j.push({x1:X,y1:Y,x2:F,y2:Y})}return I.createElement(dt,em({className:"recharts-errorBar",key:"bar-".concat(j.map(function(k){return"".concat(k.x1,"-").concat(k.x2,"-").concat(k.y1,"-").concat(k.y2)}))},p),j.map(function(k){return I.createElement("line",em({},k,{key:"line-".concat(k.x1,"-").concat(k.x2,"-").concat(k.y1,"-").concat(k.y2)}))}))});return I.createElement(dt,{className:"recharts-errorBars"},v)}}])}(I.Component);bT(Rh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});bT(Rh,"displayName","ErrorBar");function ou(e){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}function S2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S2(Object(r),!0).forEach(function(n){Xee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xee(e,t,r){return t=Jee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jee(e){var t=Zee(e,"string");return ou(t)=="symbol"?t:t+""}function Zee(e,t){if(ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wT=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,o=Xr(r,Ca);if(!o)return null;var l=Ca.defaultProps,c=l!==void 0?Bi(Bi({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(f,d){var m=d.item,p=d.props,v=p.sectors||p.data||[];return f.concat(v.map(function(g){return{type:o.props.iconType||m.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(f){var d=f.item,m=d.type.defaultProps,p=m!==void 0?Bi(Bi({},m),d.props):{},v=p.dataKey,g=p.name,w=p.legendType,x=p.hide;return{inactive:x,dataKey:v,type:c.iconType||w||"square",color:jb(d),value:g||v,payload:p}}),Bi(Bi(Bi({},c),Ca.getWithHeight(o,i)),{},{payload:u,item:o})};function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function _2(e){return rte(e)||tte(e)||ete(e)||Qee()}function Qee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ete(e,t){if(e){if(typeof e=="string")return hx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hx(e,t)}}function tte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rte(e){if(Array.isArray(e))return hx(e)}function hx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(r),!0).forEach(function(n){_o(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _o(e,t,r){return t=nte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nte(e){var t=ate(e,"string");return lu(t)=="symbol"?t:t+""}function ate(e,t){if(lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nr(e,t,r){return Je(e)||Je(t)?r:er(t)?tn(e,t,r):He(t)?t(e):r}function xc(e,t,r,n){var i=tee(e,function(l){return Nr(l,t)});if(r==="number"){var s=i.filter(function(l){return xe(l)||parseFloat(l)});return s.length?[$h(s),Mh(s)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!Je(l)}):i;return o.map(function(l){return er(l)||l instanceof Date?l:""})}var ite=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var f=u>0?i[u-1].coordinate:i[l-1].coordinate,d=i[u].coordinate,m=u>=l-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Or(d-f)!==Or(m-d)){var v=[];if(Or(m-d)===Or(c[1]-c[0])){p=m;var g=d+c[1]-c[0];v[0]=Math.min(g,(g+f)/2),v[1]=Math.max(g,(g+f)/2)}else{p=f;var w=m+c[1]-c[0];v[0]=Math.min(d,(w+d)/2),v[1]=Math.max(d,(w+d)/2)}var x=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>x[0]&&t<=x[1]||t>=v[0]&&t<=v[1]){o=i[u].index;break}}else{var y=Math.min(f,m),h=Math.max(f,m);if(t>(y+d)/2&&t<=(h+d)/2){o=i[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2){o=n[N].index;break}return o},jb=function(t){var r,n=t,i=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Bt(Bt({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},ste=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var f=s[l[c]].stackGroups,d=Object.keys(f),m=0,p=d.length;m<p;m++){var v=f[d[m]],g=v.items,w=v.cateAxisId,x=g.filter(function(S){return Ea(S.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,h=y!==void 0?Bt(Bt({},y),x[0].props):x[0].props,N=h.barSize,j=h[w];o[j]||(o[j]=[]);var b=Je(N)?r:N;o[j].push({item:x[0],stackList:x.slice(1),barSize:Je(b)?void 0:Er(b,n,0)})}}return o},ote=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Er(r,i,0,!0),f,d=[];if(o[0].barSize===+o[0].barSize){var m=!1,p=i/c,v=o.reduce(function(N,j){return N+j.barSize||0},0);v+=(c-1)*u,v>=i&&(v-=(c-1)*u,u=0),v>=i&&p>0&&(m=!0,p*=.9,v=c*p);var g=(i-v)/2>>0,w={offset:g-u,size:0};f=o.reduce(function(N,j){var b={item:j.item,position:{offset:w.offset+w.size+u,size:m?p:j.barSize}},S=[].concat(_2(N),[b]);return w=S[S.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(P){S.push({item:P,position:w})}),S},d)}else{var x=Er(n,i,0,!0);i-2*x-(c-1)*u<=0&&(u=0);var y=(i-2*x-(c-1)*u)/c;y>1&&(y>>=0);var h=l===+l?Math.min(y,l):y;f=o.reduce(function(N,j,b){var S=[].concat(_2(N),[{item:j.item,position:{offset:x+(y+u)*b+(y-h)/2,size:h}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(P){S.push({item:P,position:S[S.length-1].position})}),S},d)}return f},lte=function(t,r,n,i){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=wT({children:s,legendWidth:c});if(u){var f=i||{},d=f.width,m=f.height,p=u.align,v=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&v==="middle")&&p!=="center"&&xe(t[p]))return Bt(Bt({},t),{},_o({},p,t[p]+(d||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&v!=="middle"&&xe(t[v]))return Bt(Bt({},t),{},_o({},v,t[v]+(m||0)))}return t},cte=function(t,r,n){return Je(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},NT=function(t,r,n,i,s){var o=r.props.children,l=jn(o,Rh).filter(function(u){return cte(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var d=Nr(f,n);if(Je(d))return u;var m=Array.isArray(d)?[$h(d),Mh(d)]:[d,d],p=c.reduce(function(v,g){var w=Nr(f,g,0),x=m[0]-Math.abs(Array.isArray(w)?w[0]:w),y=m[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(x,v[0]),Math.max(y,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},ute=function(t,r,n,i,s){var o=r.map(function(l){return NT(t,l,n,s,i)}).filter(function(l){return!Je(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},ST=function(t,r,n,i,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&NT(t,c,u,i)||xc(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var f=0,d=u.length;f<d;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},_T=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},AT=function(t,r,n,i){if(i)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},wa=function(t,r,n){if(!t)return null;var i=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Or(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var m=s?s.indexOf(d):d;return{coordinate:i(m)+u,value:d,offset:u}});return f.filter(function(d){return!Ru(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,m){return{coordinate:i(d)+u,value:d,index:m,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,m){return{coordinate:i(d)+u,value:s?s[d]:d,index:m,offset:u}})},sg=new WeakMap,wd=function(t,r){if(typeof r!="function")return t;sg.has(t)||sg.set(t,new WeakMap);var n=sg.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},PT=function(t,r,n){var i=t.scale,s=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:eu(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Yf(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:gc(),realScaleType:"point"}:s==="category"?{scale:eu(),realScaleType:"band"}:{scale:Yf(),realScaleType:"linear"};if(ws(i)){var c="scale".concat(vh(i));return{scale:(v2[c]||gc)(),realScaleType:v2[c]?c:"point"}}return He(i)?{scale:i}:{scale:gc(),realScaleType:"point"}},P2=1e-4,OT=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),s=Math.min(i[0],i[1])-P2,o=Math.max(i[0],i[1])+P2,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},dte=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},fte=function(t,r){if(!r||r.length!==2||!xe(r[0])||!xe(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!xe(t[0])||t[0]<n)&&(s[0]=n),(!xe(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},mte=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0,l=0;l<r;++l){var c=Ru(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},hte=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var l=Ru(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},pte={sign:mte,expand:$V,none:Fo,silhouette:DV,wiggle:IV,positive:hte},gte=function(t,r,n){var i=r.map(function(l){return l.props.dataKey}),s=pte[n],o=MV().keys(i).value(function(l,c){return+Nr(l,c,0)}).order(B0).offset(s);return o(t)},xte=function(t,r,n,i,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(d,m){var p,v=(p=m.type)!==null&&p!==void 0&&p.defaultProps?Bt(Bt({},m.type.defaultProps),m.props):m.props,g=v.stackId,w=v.hide;if(w)return d;var x=v[n],y=d[x]||{hasStack:!1,stackGroups:{}};if(er(g)){var h=y.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};h.items.push(m),y.hasStack=!0,y.stackGroups[g]=h}else y.stackGroups[Bu("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[m]};return Bt(Bt({},d),{},_o({},x,y))},c),f={};return Object.keys(u).reduce(function(d,m){var p=u[m];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,w){var x=p.stackGroups[w];return Bt(Bt({},g),{},_o({},w,{numericAxisId:n,cateAxisId:i,items:x.items,stackedData:gte(t,x.items,s)}))},v)}return Bt(Bt({},d),{},_o({},m,p))},f)},ET=function(t,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=Tee(u,s,l);return t.domain([$h(f),Mh(f)]),{niceTicks:f}}if(s&&i==="number"){var d=t.domain(),m=kee(d,s,l);return{niceTicks:m}}return null},O2=function(t){var r=t.axis,n=t.ticks,i=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Nr(o,r.dataKey,r.domain[l]);return Je(c)?null:r.scale(c)-s/2+i},yte=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},vte=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Bt(Bt({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(er(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},bte=function(t){return t.reduce(function(r,n){return[$h(n.concat([r[0]]).filter(xe)),Mh(n.concat([r[1]]).filter(xe))]},[1/0,-1/0])},CT=function(t,r,n){return Object.keys(t).reduce(function(i,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,f){var d=bte(f.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},E2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,C2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,px=function(t,r,n){if(He(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(xe(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(E2.test(t[0])){var s=+E2.exec(t[0])[1];i[0]=r[0]-s}else He(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(xe(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(C2.test(t[1])){var o=+C2.exec(t[1])[1];i[1]=r[1]+o}else He(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},rm=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var s=Yv(r,function(d){return d.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],f=s[l-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},T2=function(t,r,n){return!t||!t.length||Dh(t,tn(n,"type.defaultProps.domain"))?r:t},TT=function(t,r){var n=t.type.defaultProps?Bt(Bt({},t.type.defaultProps),t.props):t.props,i=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return Bt(Bt({},Ue(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:jb(t),value:Nr(r,i),type:c,payload:r,chartType:u,hide:f})};function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function k2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k2(Object(r),!0).forEach(function(n){kT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kT(e,t,r){return t=jte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jte(e){var t=wte(e,"string");return cu(t)=="symbol"?t:t+""}function wte(e,t){if(cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nte(e,t){return Pte(e)||Ate(e,t)||_te(e,t)||Ste()}function Ste(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _te(e,t){if(e){if(typeof e=="string")return M2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M2(e,t)}}function M2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ate(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Pte(e){if(Array.isArray(e))return e}var nm=Math.PI/180,Ote=function(t){return t*180/Math.PI},Nt=function(t,r,n,i){return{x:t+Math.cos(-nm*i)*n,y:r+Math.sin(-nm*i)*n}},MT=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Ete=function(t,r,n,i,s){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,f=Er(t.cx,o,o/2),d=Er(t.cy,l,l/2),m=MT(o,l,n),p=Er(t.innerRadius,m,0),v=Er(t.outerRadius,m,m*.8),g=Object.keys(r);return g.reduce(function(w,x){var y=r[x],h=y.domain,N=y.reversed,j;if(Je(y.range))i==="angleAxis"?j=[c,u]:i==="radiusAxis"&&(j=[p,v]),N&&(j=[j[1],j[0]]);else{j=y.range;var b=j,S=Nte(b,2);c=S[0],u=S[1]}var P=PT(y,s),A=P.realScaleType,E=P.scale;E.domain(h).range(j),OT(E);var O=ET(E,ha(ha({},y),{},{realScaleType:A})),C=ha(ha(ha({},y),O),{},{range:j,radius:v,realScaleType:A,scale:E,cx:f,cy:d,innerRadius:p,outerRadius:v,startAngle:c,endAngle:u});return ha(ha({},w),{},kT({},x,C))},{})},Cte=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},Tte=function(t,r){var n=t.x,i=t.y,s=r.cx,o=r.cy,l=Cte({x:n,y:i},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:Ote(u),angleInRadian:u}},kte=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},Mte=function(t,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(s,o);return t+l*360},$2=function(t,r){var n=t.x,i=t.y,s=Tte({x:n,y:i},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var f=kte(r),d=f.startAngle,m=f.endAngle,p=l,v;if(d<=m){for(;p>m;)p-=360;for(;p<d;)p+=360;v=p>=d&&p<=m}else{for(;p>d;)p-=360;for(;p<m;)p+=360;v=p>=m&&p<=d}return v?ha(ha({},r),{},{radius:o,angle:Mte(p,r)}):null},$T=function(t){return!_.isValidElement(t)&&!He(t)&&typeof t!="boolean"?t.className:""};function uu(e){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}var $te=["offset"];function Dte(e){return Bte(e)||Rte(e)||Lte(e)||Ite()}function Ite(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lte(e,t){if(e){if(typeof e=="string")return gx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gx(e,t)}}function Rte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bte(e){if(Array.isArray(e))return gx(e)}function gx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fte(e,t){if(e==null)return{};var r=zte(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function D2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D2(Object(r),!0).forEach(function(n){Vte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vte(e,t,r){return t=Ute(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ute(e){var t=Wte(e,"string");return uu(t)=="symbol"?t:t+""}function Wte(e,t){if(uu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function du(){return du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},du.apply(this,arguments)}var Hte=function(t){var r=t.value,n=t.formatter,i=Je(t.children)?r:t.children;return He(n)?n(i):i},qte=function(t,r){var n=Or(r-t),i=Math.min(Math.abs(r-t),360);return n*i},Gte=function(t,r,n){var i=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,f=c.cy,d=c.innerRadius,m=c.outerRadius,p=c.startAngle,v=c.endAngle,g=c.clockWise,w=(d+m)/2,x=qte(p,v),y=x>=0?1:-1,h,N;i==="insideStart"?(h=p+y*o,N=g):i==="insideEnd"?(h=v-y*o,N=!g):i==="end"&&(h=v+y*o,N=g),N=x<=0?N:!N;var j=Nt(u,f,w,h),b=Nt(u,f,w,h+(N?1:-1)*359),S="M".concat(j.x,",").concat(j.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(N?0:1,`,
    `).concat(b.x,",").concat(b.y),P=Je(t.id)?Bu("recharts-radial-line-"):t.id;return I.createElement("text",du({},n,{dominantBaseline:"central",className:Xe("recharts-radial-bar-label",l)}),I.createElement("defs",null,I.createElement("path",{id:P,d:S})),I.createElement("textPath",{xlinkHref:"#".concat(P)},r))},Kte=function(t){var r=t.viewBox,n=t.offset,i=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,f=s.startAngle,d=s.endAngle,m=(f+d)/2;if(i==="outside"){var p=Nt(o,l,u+n,m),v=p.x,g=p.y;return{x:v,y:g,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var w=(c+u)/2,x=Nt(o,l,w,m),y=x.x,h=x.y;return{x:y,y:h,textAnchor:"middle",verticalAnchor:"middle"}},Yte=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,f=o.height,d=f>=0?1:-1,m=d*i,p=d>0?"end":"start",v=d>0?"start":"end",g=u>=0?1:-1,w=g*i,x=g>0?"end":"start",y=g>0?"start":"end";if(s==="top"){var h={x:l+u/2,y:c-d*i,textAnchor:"middle",verticalAnchor:p};return Xt(Xt({},h),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var N={x:l+u/2,y:c+f+m,textAnchor:"middle",verticalAnchor:v};return Xt(Xt({},N),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(s==="left"){var j={x:l-w,y:c+f/2,textAnchor:x,verticalAnchor:"middle"};return Xt(Xt({},j),n?{width:Math.max(j.x-n.x,0),height:f}:{})}if(s==="right"){var b={x:l+u+w,y:c+f/2,textAnchor:y,verticalAnchor:"middle"};return Xt(Xt({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:f}:{})}var S=n?{width:u,height:f}:{};return s==="insideLeft"?Xt({x:l+w,y:c+f/2,textAnchor:y,verticalAnchor:"middle"},S):s==="insideRight"?Xt({x:l+u-w,y:c+f/2,textAnchor:x,verticalAnchor:"middle"},S):s==="insideTop"?Xt({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:v},S):s==="insideBottom"?Xt({x:l+u/2,y:c+f-m,textAnchor:"middle",verticalAnchor:p},S):s==="insideTopLeft"?Xt({x:l+w,y:c+m,textAnchor:y,verticalAnchor:v},S):s==="insideTopRight"?Xt({x:l+u-w,y:c+m,textAnchor:x,verticalAnchor:v},S):s==="insideBottomLeft"?Xt({x:l+w,y:c+f-m,textAnchor:y,verticalAnchor:p},S):s==="insideBottomRight"?Xt({x:l+u-w,y:c+f-m,textAnchor:x,verticalAnchor:p},S):gl(s)&&(xe(s.x)||ns(s.x))&&(xe(s.y)||ns(s.y))?Xt({x:l+Er(s.x,u),y:c+Er(s.y,f),textAnchor:"end",verticalAnchor:"end"},S):Xt({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},S)},Xte=function(t){return"cx"in t&&xe(t.cx)};function sr(e){var t=e.offset,r=t===void 0?5:t,n=Fte(e,$te),i=Xt({offset:r},n),s=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,f=i.className,d=f===void 0?"":f,m=i.textBreakAll;if(!s||Je(l)&&Je(c)&&!_.isValidElement(u)&&!He(u))return null;if(_.isValidElement(u))return _.cloneElement(u,i);var p;if(He(u)){if(p=_.createElement(u,i),_.isValidElement(p))return p}else p=Hte(i);var v=Xte(s),g=Ue(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Gte(i,p,g);var w=v?Kte(i):Yte(i);return I.createElement(Ss,du({className:Xe("recharts-label",d)},g,w,{breakAll:m}),p)}sr.displayName="Label";var DT=function(t){var r=t.cx,n=t.cy,i=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,d=t.x,m=t.y,p=t.top,v=t.left,g=t.width,w=t.height,x=t.clockWise,y=t.labelViewBox;if(y)return y;if(xe(g)&&xe(w)){if(xe(d)&&xe(m))return{x:d,y:m,width:g,height:w};if(xe(p)&&xe(v))return{x:p,y:v,width:g,height:w}}return xe(d)&&xe(m)?{x:d,y:m,width:0,height:0}:xe(r)&&xe(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},Jte=function(t,r){return t?t===!0?I.createElement(sr,{key:"label-implicit",viewBox:r}):er(t)?I.createElement(sr,{key:"label-implicit",viewBox:r,value:t}):_.isValidElement(t)?t.type===sr?_.cloneElement(t,{key:"label-implicit",viewBox:r}):I.createElement(sr,{key:"label-implicit",content:t,viewBox:r}):He(t)?I.createElement(sr,{key:"label-implicit",content:t,viewBox:r}):gl(t)?I.createElement(sr,du({viewBox:r},t,{key:"label-implicit"})):null:null},Zte=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,s=DT(t),o=jn(i,sr).map(function(c,u){return _.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=Jte(t.label,r||s);return[l].concat(Dte(o))};sr.parseViewBox=DT;sr.renderCallByParent=Zte;function Qte(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var ere=Qte;const tre=mt(ere);function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}var rre=["valueAccessor"],nre=["data","dataKey","clockWise","id","textBreakAll"];function are(e){return lre(e)||ore(e)||sre(e)||ire()}function ire(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sre(e,t){if(e){if(typeof e=="string")return xx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xx(e,t)}}function ore(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lre(e){if(Array.isArray(e))return xx(e)}function xx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function am(){return am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},am.apply(this,arguments)}function I2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function L2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I2(Object(r),!0).forEach(function(n){cre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cre(e,t,r){return t=ure(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ure(e){var t=dre(e,"string");return fu(t)=="symbol"?t:t+""}function dre(e,t){if(fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R2(e,t){if(e==null)return{};var r=fre(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var mre=function(t){return Array.isArray(t.value)?tre(t.value):t.value};function wi(e){var t=e.valueAccessor,r=t===void 0?mre:t,n=R2(e,rre),i=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=R2(n,nre);return!i||!i.length?null:I.createElement(dt,{className:"recharts-label-list"},i.map(function(f,d){var m=Je(s)?r(f,d):Nr(f&&f.payload,s),p=Je(l)?{}:{id:"".concat(l,"-").concat(d)};return I.createElement(sr,am({},Ue(f,!0),u,p,{parentViewBox:f.parentViewBox,value:m,textBreakAll:c,viewBox:sr.parseViewBox(Je(o)?f:L2(L2({},f),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}wi.displayName="LabelList";function hre(e,t){return e?e===!0?I.createElement(wi,{key:"labelList-implicit",data:t}):I.isValidElement(e)||He(e)?I.createElement(wi,{key:"labelList-implicit",data:t,content:e}):gl(e)?I.createElement(wi,am({data:t},e,{key:"labelList-implicit"})):null:null}function pre(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=jn(n,wi).map(function(o,l){return _.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return i;var s=hre(e.label,t);return[s].concat(are(i))}wi.renderCallByParent=pre;function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function yx(){return yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yx.apply(this,arguments)}function B2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function F2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B2(Object(r),!0).forEach(function(n){gre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gre(e,t,r){return t=xre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xre(e){var t=yre(e,"string");return mu(t)=="symbol"?t:t+""}function yre(e,t){if(mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vre=function(t,r){var n=Or(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Nd=function(t){var r=t.cx,n=t.cy,i=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(l?1:-1)+i,d=Math.asin(c/f)/nm,m=u?s:s+o*d,p=Nt(r,n,f,m),v=Nt(r,n,i,m),g=u?s-o*d:s,w=Nt(r,n,f*Math.cos(d*nm),g);return{center:p,circleTangency:v,lineTangency:w,theta:d}},IT=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=vre(o,l),u=o+c,f=Nt(r,n,s,o),d=Nt(r,n,s,u),m="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=Nt(r,n,i,o),v=Nt(r,n,i,u);m+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},bre=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,d=Or(f-u),m=Nd({cx:r,cy:n,radius:s,angle:u,sign:d,cornerRadius:o,cornerIsExternal:c}),p=m.circleTangency,v=m.lineTangency,g=m.theta,w=Nd({cx:r,cy:n,radius:s,angle:f,sign:-d,cornerRadius:o,cornerIsExternal:c}),x=w.circleTangency,y=w.lineTangency,h=w.theta,N=c?Math.abs(u-f):Math.abs(u-f)-g-h;if(N<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):IT({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f});var j="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(N>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var b=Nd({cx:r,cy:n,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=b.circleTangency,P=b.lineTangency,A=b.theta,E=Nd({cx:r,cy:n,radius:i,angle:f,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=E.circleTangency,C=E.lineTangency,T=E.theta,R=c?Math.abs(u-f):Math.abs(u-f)-A-T;if(R<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(d>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(P.x,",").concat(P.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},jre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},LT=function(t){var r=F2(F2({},jre),t),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,m=r.className;if(o<s||f===d)return null;var p=Xe("recharts-sector",m),v=o-s,g=Er(l,v,0,!0),w;return g>0&&Math.abs(f-d)<360?w=bre({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(g,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:d}):w=IT({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:f,endAngle:d}),I.createElement("path",yx({},Ue(r,!0),{className:p,d:w,role:"img"}))};function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vx.apply(this,arguments)}function z2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function V2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z2(Object(r),!0).forEach(function(n){wre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wre(e,t,r){return t=Nre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nre(e){var t=Sre(e,"string");return hu(t)=="symbol"?t:t+""}function Sre(e,t){if(hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U2={curveBasisClosed:wV,curveBasisOpen:NV,curveBasis:jV,curveBumpX:oV,curveBumpY:lV,curveLinearClosed:SV,curveLinear:jh,curveMonotoneX:_V,curveMonotoneY:AV,curveNatural:PV,curveStep:OV,curveStepAfter:CV,curveStepBefore:EV},Sd=function(t){return t.x===+t.x&&t.y===+t.y},ql=function(t){return t.x},Gl=function(t){return t.y},_re=function(t,r){if(He(t))return t;var n="curve".concat(vh(t));return(n==="curveMonotone"||n==="curveBump")&&r?U2["".concat(n).concat(r==="vertical"?"Y":"X")]:U2[n]||jh},Are=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,s=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=_re(n,l),d=u?s.filter(function(g){return Sd(g)}):s,m;if(Array.isArray(o)){var p=u?o.filter(function(g){return Sd(g)}):o,v=d.map(function(g,w){return V2(V2({},g),{},{base:p[w]})});return l==="vertical"?m=hd().y(Gl).x1(ql).x0(function(g){return g.base.x}):m=hd().x(ql).y1(Gl).y0(function(g){return g.base.y}),m.defined(Sd).curve(f),m(v)}return l==="vertical"&&xe(o)?m=hd().y(Gl).x1(ql).x0(o):xe(o)?m=hd().x(ql).y1(Gl).y0(o):m=TE().x(ql).y(Gl),m.defined(Sd).curve(f),m(d)},bx=function(t){var r=t.className,n=t.points,i=t.path,s=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Are(t):i;return _.createElement("path",vx({},Ue(t,!1),Ef(t),{className:Xe("recharts-curve",r),d:o,ref:s}))},RT={exports:{}},Pre="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ore=Pre,Ere=Ore;function BT(){}function FT(){}FT.resetWarningCache=BT;var Cre=function(){function e(n,i,s,o,l,c){if(c!==Ere){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:FT,resetWarningCache:BT};return r.PropTypes=r,r};RT.exports=Cre();var Tre=RT.exports;const lt=mt(Tre),{getOwnPropertyNames:kre,getOwnPropertySymbols:Mre}=Object,{hasOwnProperty:$re}=Object.prototype;function og(e,t){return function(n,i,s){return e(n,i,s)&&t(n,i,s)}}function _d(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);const{cache:s}=i,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);const c=e(r,n,i);return s.delete(r),s.delete(n),c}}function Dre(e){return e!=null?e[Symbol.toStringTag]:void 0}function W2(e){return kre(e).concat(Mre(e))}const Ire=Object.hasOwn||((e,t)=>$re.call(e,t));function Ds(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const Lre="__v",Rre="__o",Bre="_owner",{getOwnPropertyDescriptor:H2,keys:q2}=Object;function Fre(e,t){return e.byteLength===t.byteLength&&im(new Uint8Array(e),new Uint8Array(t))}function zre(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Vre(e,t){return e.byteLength===t.byteLength&&im(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function Ure(e,t){return Ds(e.getTime(),t.getTime())}function Wre(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Hre(e,t){return e===t}function G2(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),s=e.entries();let o,l,c=0;for(;(o=s.next())&&!o.done;){const u=t.entries();let f=!1,d=0;for(;(l=u.next())&&!l.done;){if(i[d]){d++;continue}const m=o.value,p=l.value;if(r.equals(m[0],p[0],c,d,e,t,r)&&r.equals(m[1],p[1],m[0],p[0],e,t,r)){f=i[d]=!0;break}d++}if(!f)return!1;c++}return!0}const qre=Ds;function Gre(e,t,r){const n=q2(e);let i=n.length;if(q2(t).length!==i)return!1;for(;i-- >0;)if(!zT(e,t,r,n[i]))return!1;return!0}function Kl(e,t,r){const n=W2(e);let i=n.length;if(W2(t).length!==i)return!1;let s,o,l;for(;i-- >0;)if(s=n[i],!zT(e,t,r,s)||(o=H2(e,s),l=H2(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Kre(e,t){return Ds(e.valueOf(),t.valueOf())}function Yre(e,t){return e.source===t.source&&e.flags===t.flags}function K2(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),s=e.values();let o,l;for(;(o=s.next())&&!o.done;){const c=t.values();let u=!1,f=0;for(;(l=c.next())&&!l.done;){if(!i[f]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function im(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Xre(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function zT(e,t,r,n){return(n===Bre||n===Rre||n===Lre)&&(e.$$typeof||t.$$typeof)?!0:Ire(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const Jre="[object ArrayBuffer]",Zre="[object Arguments]",Qre="[object Boolean]",ene="[object DataView]",tne="[object Date]",rne="[object Error]",nne="[object Map]",ane="[object Number]",ine="[object Object]",sne="[object RegExp]",one="[object Set]",lne="[object String]",cne={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},une="[object URL]",dne=Object.prototype.toString;function fne({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:s,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:f,areSetsEqual:d,areTypedArraysEqual:m,areUrlsEqual:p,unknownTagComparators:v}){return function(w,x,y){if(w===x)return!0;if(w==null||x==null)return!1;const h=typeof w;if(h!==typeof x)return!1;if(h!=="object")return h==="number"?l(w,x,y):h==="function"?s(w,x,y):!1;const N=w.constructor;if(N!==x.constructor)return!1;if(N===Object)return c(w,x,y);if(Array.isArray(w))return t(w,x,y);if(N===Date)return n(w,x,y);if(N===RegExp)return f(w,x,y);if(N===Map)return o(w,x,y);if(N===Set)return d(w,x,y);const j=dne.call(w);if(j===tne)return n(w,x,y);if(j===sne)return f(w,x,y);if(j===nne)return o(w,x,y);if(j===one)return d(w,x,y);if(j===ine)return typeof w.then!="function"&&typeof x.then!="function"&&c(w,x,y);if(j===une)return p(w,x,y);if(j===rne)return i(w,x,y);if(j===Zre)return c(w,x,y);if(cne[j])return m(w,x,y);if(j===Jre)return e(w,x,y);if(j===ene)return r(w,x,y);if(j===Qre||j===ane||j===lne)return u(w,x,y);if(v){let b=v[j];if(!b){const S=Dre(w);S&&(b=v[S])}if(b)return b(w,x,y)}return!1}}function mne({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:Fre,areArraysEqual:r?Kl:zre,areDataViewsEqual:Vre,areDatesEqual:Ure,areErrorsEqual:Wre,areFunctionsEqual:Hre,areMapsEqual:r?og(G2,Kl):G2,areNumbersEqual:qre,areObjectsEqual:r?Kl:Gre,arePrimitiveWrappersEqual:Kre,areRegExpsEqual:Yre,areSetsEqual:r?og(K2,Kl):K2,areTypedArraysEqual:r?og(im,Kl):im,areUrlsEqual:Xre,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const i=_d(n.areArraysEqual),s=_d(n.areMapsEqual),o=_d(n.areObjectsEqual),l=_d(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return n}function hne(e){return function(t,r,n,i,s,o,l){return e(t,r,l)}}function pne({circular:e,comparator:t,createState:r,equals:n,strict:i}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:f}=r();return t(l,c,{cache:u,equals:n,meta:f,strict:i})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const s={cache:void 0,equals:n,meta:void 0,strict:i};return function(l,c){return t(l,c,s)}}const gne=Li();Li({strict:!0});Li({circular:!0});Li({circular:!0,strict:!0});Li({createInternalComparator:()=>Ds});Li({strict:!0,createInternalComparator:()=>Ds});Li({circular:!0,createInternalComparator:()=>Ds});Li({circular:!0,createInternalComparator:()=>Ds,strict:!0});function Li(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:i=!1}=e,s=mne(e),o=fne(s),l=r?r(o):hne(o);return pne({circular:t,comparator:o,createState:n,equals:l,strict:i})}function xne(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Y2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>t?(e(s),r=-1):xne(i)};requestAnimationFrame(n)}function jx(e){"@babel/helpers - typeof";return jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jx(e)}function yne(e){return wne(e)||jne(e)||bne(e)||vne()}function vne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bne(e,t){if(e){if(typeof e=="string")return X2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X2(e,t)}}function X2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wne(e){if(Array.isArray(e))return e}function Nne(){var e={},t=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=yne(o),c=l[0],u=l.slice(1);if(typeof c=="number"){Y2(i.bind(null,u),c);return}i(c),Y2(i.bind(null,u));return}jx(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function J2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Z2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J2(Object(r),!0).forEach(function(n){VT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VT(e,t,r){return t=Sne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sne(e){var t=_ne(e,"string");return pu(t)==="symbol"?t:String(t)}function _ne(e,t){if(pu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ane=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},Pne=function(t){return t},One=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},yc=function(t,r){return Object.keys(r).reduce(function(n,i){return Z2(Z2({},n),{},VT({},i,t(i,r[i])))},{})},Q2=function(t,r,n){return t.map(function(i){return"".concat(One(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Ene(e,t){return kne(e)||Tne(e,t)||UT(e,t)||Cne()}function Cne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function kne(e){if(Array.isArray(e))return e}function Mne(e){return Ine(e)||Dne(e)||UT(e)||$ne()}function $ne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UT(e,t){if(e){if(typeof e=="string")return wx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wx(e,t)}}function Dne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ine(e){if(Array.isArray(e))return wx(e)}function wx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sm=1e-4,WT=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},HT=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},eS=function(t,r){return function(n){var i=WT(t,r);return HT(i,n)}},Lne=function(t,r){return function(n){var i=WT(t,r),s=[].concat(Mne(i.map(function(o,l){return o*l}).slice(1)),[0]);return HT(s,n)}},tS=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),f=Ene(u,4);i=f[0],s=f[1],o=f[2],l=f[3]}}}var d=eS(i,o),m=eS(s,l),p=Lne(i,o),v=function(x){return x>1?1:x<0?0:x},g=function(x){for(var y=x>1?1:x,h=y,N=0;N<8;++N){var j=d(h)-y,b=p(h);if(Math.abs(j-y)<sm||b<sm)return m(h);h=v(h-j/b)}return m(h)};return g.isStepper=!1,g},Rne=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,s=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(f,d,m){var p=-(f-d)*n,v=m*s,g=m+(p-v)*l/1e3,w=m*l/1e3+f;return Math.abs(w-d)<sm&&Math.abs(g)<sm?[d,0]:[w,g]};return c.isStepper=!0,c.dt=l,c},Bne=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return tS(i);case"spring":return Rne();default:if(i.split("(")[0]==="cubic-bezier")return tS(i)}return typeof i=="function"?i:null};function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}function rS(e){return Vne(e)||zne(e)||qT(e)||Fne()}function Fne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vne(e){if(Array.isArray(e))return Sx(e)}function nS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nS(Object(r),!0).forEach(function(n){Nx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nx(e,t,r){return t=Une(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Une(e){var t=Wne(e,"string");return gu(t)==="symbol"?t:String(t)}function Wne(e,t){if(gu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hne(e,t){return Kne(e)||Gne(e,t)||qT(e,t)||qne()}function qne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qT(e,t){if(e){if(typeof e=="string")return Sx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sx(e,t)}}function Sx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Kne(e){if(Array.isArray(e))return e}var om=function(t,r,n){return t+(r-t)*n},_x=function(t){var r=t.from,n=t.to;return r!==n},Yne=function e(t,r,n){var i=yc(function(s,o){if(_x(o)){var l=t(o.from,o.to,o.velocity),c=Hne(l,2),u=c[0],f=c[1];return ur(ur({},o),{},{from:u,velocity:f})}return o},r);return n<1?yc(function(s,o){return _x(o)?ur(ur({},o),{},{velocity:om(o.velocity,i[s].velocity,n),from:om(o.from,i[s].from,n)}):o},r):e(t,i,n-1)};const Xne=function(e,t,r,n,i){var s=Ane(e,t),o=s.reduce(function(w,x){return ur(ur({},w),{},Nx({},x,[e[x],t[x]]))},{}),l=s.reduce(function(w,x){return ur(ur({},w),{},Nx({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,f,d=function(){return null},m=function(){return yc(function(x,y){return y.from},l)},p=function(){return!Object.values(l).filter(_x).length},v=function(x){u||(u=x);var y=x-u,h=y/r.dt;l=Yne(r,l,h),i(ur(ur(ur({},e),t),m())),u=x,p()||(c=requestAnimationFrame(d))},g=function(x){f||(f=x);var y=(x-f)/n,h=yc(function(j,b){return om.apply(void 0,rS(b).concat([r(y)]))},o);if(i(ur(ur(ur({},e),t),h)),y<1)c=requestAnimationFrame(d);else{var N=yc(function(j,b){return om.apply(void 0,rS(b).concat([r(1)]))},o);i(ur(ur(ur({},e),t),N))}};return d=r.isStepper?v:g,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function Yo(e){"@babel/helpers - typeof";return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yo(e)}var Jne=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Zne(e,t){if(e==null)return{};var r=Qne(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qne(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function lg(e){return nae(e)||rae(e)||tae(e)||eae()}function eae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tae(e,t){if(e){if(typeof e=="string")return Ax(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ax(e,t)}}function rae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nae(e){if(Array.isArray(e))return Ax(e)}function Ax(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function On(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(r),!0).forEach(function(n){tc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tc(e,t,r){return t=GT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GT(n.key),n)}}function sae(e,t,r){return t&&iae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GT(e){var t=oae(e,"string");return Yo(t)==="symbol"?t:String(t)}function oae(e,t){if(Yo(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yo(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Px(e,t)}function Px(e,t){return Px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Px(e,t)}function cae(e){var t=uae();return function(){var n=lm(e),i;if(t){var s=lm(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Ox(this,i)}}function Ox(e,t){if(t&&(Yo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ex(e)}function Ex(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lm(e){return lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lm(e)}var Va=function(e){lae(r,e);var t=cae(r);function r(n,i){var s;aae(this,r),s=t.call(this,n,i);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,f=o.to,d=o.steps,m=o.children,p=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Ex(s)),s.changeStyle=s.changeStyle.bind(Ex(s)),!l||p<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:f}),Ox(s);if(d&&d.length)s.state={style:d[0].style};else if(u){if(typeof m=="function")return s.state={style:u},Ox(s);s.state={style:c?tc({},c,u):u}}else s.state={style:{}};return s}return sae(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,f=s.to,d=s.from,m=this.state.style;if(l){if(!o){var p={style:c?tc({},c,f):f};this.state&&m&&(c&&m[c]!==f||!c&&m!==f)&&this.setState(p);return}if(!(gne(i.to,f)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=v||u?d:i.to;if(this.state&&m){var w={style:c?tc({},c,g):g};(c&&m[c]!==g||!c&&m!==g)&&this.setState(w)}this.runAnimation(On(On({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,c=i.duration,u=i.easing,f=i.begin,d=i.onAnimationEnd,m=i.onAnimationStart,p=Xne(o,l,Bne(u),c,this.changeStyle),v=function(){s.stopJSAnimation=p()};this.manager.start([m,f,v,c,d])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],f=u.style,d=u.duration,m=d===void 0?0:d,p=function(g,w,x){if(x===0)return g;var y=w.duration,h=w.easing,N=h===void 0?"ease":h,j=w.style,b=w.properties,S=w.onAnimationEnd,P=x>0?o[x-1]:w,A=b||Object.keys(j);if(typeof N=="function"||N==="spring")return[].concat(lg(g),[s.runJSAnimation.bind(s,{from:P.style,to:j,duration:y,easing:N}),y]);var E=Q2(A,y,N),O=On(On(On({},P.style),j),{},{transition:E});return[].concat(lg(g),[O,y,S]).filter(Pne)};return this.manager.start([c].concat(lg(o.reduce(p,[f,Math.max(m,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Nne());var s=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,f=i.onAnimationStart,d=i.onAnimationEnd,m=i.steps,p=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var g=l?tc({},l,c):c,w=Q2(Object.keys(g),o,u);v.start([f,s,On(On({},g),{},{transition:w}),o,d])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Zne(i,Jne),u=_.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!l||u===0||o<=0)return s;var d=function(p){var v=p.props,g=v.style,w=g===void 0?{}:g,x=v.className,y=_.cloneElement(p,On(On({},c),{},{style:On(On({},w),f),className:x}));return y};return u===1?d(_.Children.only(s)):I.createElement("div",null,_.Children.map(s,function(m){return d(m)}))}}]),r}(_.PureComponent);Va.displayName="Animate";Va.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Va.propTypes={from:lt.oneOfType([lt.object,lt.string]),to:lt.oneOfType([lt.object,lt.string]),attributeName:lt.string,duration:lt.number,begin:lt.number,easing:lt.oneOfType([lt.string,lt.func]),steps:lt.arrayOf(lt.shape({duration:lt.number.isRequired,style:lt.object.isRequired,easing:lt.oneOfType([lt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),lt.func]),properties:lt.arrayOf("string"),onAnimationEnd:lt.func})),children:lt.oneOfType([lt.node,lt.func]),isActive:lt.bool,canBegin:lt.bool,onAnimationEnd:lt.func,shouldReAnimate:lt.bool,onAnimationStart:lt.func,onAnimationReStart:lt.func};function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function cm(){return cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cm.apply(this,arguments)}function dae(e,t){return pae(e)||hae(e,t)||mae(e,t)||fae()}function fae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mae(e,t){if(e){if(typeof e=="string")return iS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iS(e,t)}}function iS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function pae(e){if(Array.isArray(e))return e}function sS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(r),!0).forEach(function(n){gae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gae(e,t,r){return t=xae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xae(e){var t=yae(e,"string");return xu(t)=="symbol"?t:t+""}function yae(e,t){if(xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lS=function(t,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,f;if(o>0&&s instanceof Array){for(var d=[0,0,0,0],m=0,p=4;m<p;m++)d[m]=s[m]>o?o:s[m];f="M".concat(t,",").concat(r+l*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+c*d[0],",").concat(r)),f+="L ".concat(t+n-c*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*d[1])),f+="L ".concat(t+n,",").concat(r+i-l*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+n-c*d[2],",").concat(r+i)),f+="L ".concat(t+c*d[3],",").concat(r+i),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-l*d[3])),f+="Z"}else if(o>0&&s===+s&&s>0){var v=Math.min(o,s);f="M ".concat(t,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*v,`
            L `).concat(t+n,",").concat(r+i-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-c*v,",").concat(r+i,`
            L `).concat(t+c*v,",").concat(r+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+i-l*v," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return f},vae=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),f=Math.max(s,s+l),d=Math.min(o,o+c),m=Math.max(o,o+c);return n>=u&&n<=f&&i>=d&&i<=m}return!1},bae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wb=function(t){var r=oS(oS({},bae),t),n=_.useRef(),i=_.useState(-1),s=dae(i,2),o=s[0],l=s[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,f=r.width,d=r.height,m=r.radius,p=r.className,v=r.animationEasing,g=r.animationDuration,w=r.animationBegin,x=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||f===0||d===0)return null;var h=Xe("recharts-rectangle",p);return y?I.createElement(Va,{canBegin:o>0,from:{width:f,height:d,x:c,y:u},to:{width:f,height:d,x:c,y:u},duration:g,animationEasing:v,isActive:y},function(N){var j=N.width,b=N.height,S=N.x,P=N.y;return I.createElement(Va,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:g,isActive:x,easing:v},I.createElement("path",cm({},Ue(r,!0),{className:h,d:lS(S,P,j,b,m),ref:n})))}):I.createElement("path",cm({},Ue(r,!0),{className:h,d:lS(c,u,f,d,m)}))},jae=["points","className","baseLinePoints","connectNulls"];function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lo.apply(this,arguments)}function wae(e,t){if(e==null)return{};var r=Nae(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cS(e){return Pae(e)||Aae(e)||_ae(e)||Sae()}function Sae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ae(e,t){if(e){if(typeof e=="string")return Cx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cx(e,t)}}function Aae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pae(e){if(Array.isArray(e))return Cx(e)}function Cx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var uS=function(t){return t&&t.x===+t.x&&t.y===+t.y},Oae=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){uS(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),uS(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},vc=function(t,r){var n=Oae(t);r&&(n=[n.reduce(function(s,o){return[].concat(cS(s),cS(o))},[])]);var i=n.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Eae=function(t,r,n){var i=vc(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(vc(r.reverse(),n).slice(1))},Cae=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,s=t.connectNulls,o=wae(t,jae);if(!r||!r.length)return null;var l=Xe("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=Eae(r,i,s);return I.createElement("g",{className:l},I.createElement("path",lo({},Ue(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?I.createElement("path",lo({},Ue(o,!0),{fill:"none",d:vc(r,s)})):null,c?I.createElement("path",lo({},Ue(o,!0),{fill:"none",d:vc(i,s)})):null)}var f=vc(r,s);return I.createElement("path",lo({},Ue(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function Tx(){return Tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tx.apply(this,arguments)}var Nb=function(t){var r=t.cx,n=t.cy,i=t.r,s=t.className,o=Xe("recharts-dot",s);return r===+r&&n===+n&&i===+i?_.createElement("circle",Tx({},Ue(t,!1),Ef(t),{className:o,cx:r,cy:n,r:i})):null};function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}var Tae=["x","y","top","left","width","height","className"];function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kx.apply(this,arguments)}function dS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(r),!0).forEach(function(n){Mae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mae(e,t,r){return t=$ae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ae(e){var t=Dae(e,"string");return yu(t)=="symbol"?t:t+""}function Dae(e,t){if(yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iae(e,t){if(e==null)return{};var r=Lae(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Rae=function(t,r,n,i,s,o){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},Bae=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,f=t.width,d=f===void 0?0:f,m=t.height,p=m===void 0?0:m,v=t.className,g=Iae(t,Tae),w=kae({x:n,y:s,top:l,left:u,width:d,height:p},g);return!xe(n)||!xe(s)||!xe(d)||!xe(p)||!xe(l)||!xe(u)?null:I.createElement("path",kx({},Ue(w,!0),{className:Xe("recharts-cross",v),d:Rae(n,s,d,p,l,u)}))},Fae=kh,zae=iT,Vae=ua;function Uae(e,t){return e&&e.length?Fae(e,Vae(t),zae):void 0}var Wae=Uae;const Hae=mt(Wae);var qae=kh,Gae=ua,Kae=sT;function Yae(e,t){return e&&e.length?qae(e,Gae(t),Kae):void 0}var Xae=Yae;const Jae=mt(Xae);var Zae=["cx","cy","angle","ticks","axisLine"],Qae=["ticks","tick","angle","tickFormatter","stroke"];function Xo(e){"@babel/helpers - typeof";return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xo(e)}function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bc.apply(this,arguments)}function fS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fS(Object(r),!0).forEach(function(n){Bh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mS(e,t){if(e==null)return{};var r=eie(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YT(n.key),n)}}function rie(e,t,r){return t&&hS(e.prototype,t),r&&hS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nie(e,t,r){return t=um(t),aie(e,KT()?Reflect.construct(t,r||[],um(e).constructor):t.apply(e,r))}function aie(e,t){if(t&&(Xo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iie(e)}function iie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KT=function(){return!!e})()}function um(e){return um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},um(e)}function sie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mx(e,t)}function Mx(e,t){return Mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Mx(e,t)}function Bh(e,t,r){return t=YT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YT(e){var t=oie(e,"string");return Xo(t)=="symbol"?t:t+""}function oie(e,t){if(Xo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fh=function(e){function t(){return tie(this,t),nie(this,t,arguments)}return sie(t,e),rie(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return Nt(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=Hae(l,function(f){return f.coordinate||0}),u=Jae(l,function(f){return f.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=mS(n,Zae),f=l.reduce(function(v,g){return[Math.min(v[0],g.coordinate),Math.max(v[1],g.coordinate)]},[1/0,-1/0]),d=Nt(i,s,f[0],o),m=Nt(i,s,f[1],o),p=Fi(Fi(Fi({},Ue(u,!1)),{},{fill:"none"},Ue(c,!1)),{},{x1:d.x,y1:d.y,x2:m.x,y2:m.y});return I.createElement("line",bc({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,f=mS(i,Qae),d=this.getTickTextAnchor(),m=Ue(f,!1),p=Ue(o,!1),v=s.map(function(g,w){var x=n.getTickValueCoord(g),y=Fi(Fi(Fi(Fi({textAnchor:d,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},m),{},{stroke:"none",fill:u},p),{},{index:w},x),{},{payload:g});return I.createElement(dt,bc({className:Xe("recharts-polar-radius-axis-tick",$T(o)),key:"tick-".concat(g.coordinate)},Ns(n.props,g,w)),t.renderTickItem(o,y,c?c(g.value,w):g.value))});return I.createElement(dt,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,o=n.tick;return!i||!i.length?null:I.createElement(dt,{className:Xe("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),sr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var o;return I.isValidElement(n)?o=I.cloneElement(n,i):He(n)?o=n(i):o=I.createElement(Ss,bc({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(_.PureComponent);Bh(Fh,"displayName","PolarRadiusAxis");Bh(Fh,"axisType","radiusAxis");Bh(Fh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Jo(e){"@babel/helpers - typeof";return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jo(e)}function Ji(){return Ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ji.apply(this,arguments)}function pS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(r),!0).forEach(function(n){zh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JT(n.key),n)}}function cie(e,t,r){return t&&gS(e.prototype,t),r&&gS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uie(e,t,r){return t=dm(t),die(e,XT()?Reflect.construct(t,r||[],dm(e).constructor):t.apply(e,r))}function die(e,t){if(t&&(Jo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fie(e)}function fie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XT=function(){return!!e})()}function dm(e){return dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dm(e)}function mie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$x(e,t)}function $x(e,t){return $x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$x(e,t)}function zh(e,t,r){return t=JT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JT(e){var t=hie(e,"string");return Jo(t)=="symbol"?t:t+""}function hie(e,t){if(Jo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pie=Math.PI/180,xS=1e-5,Vh=function(e){function t(){return lie(this,t),uie(this,t,arguments)}return mie(t,e),cie(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,f=u||8,d=Nt(s,o,l,n.coordinate),m=Nt(s,o,l+(c==="inner"?-1:1)*f,n.coordinate);return{x1:d.x,y1:d.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*pie),o;return s>xS?o=i==="outer"?"start":"end":s<-xS?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=zi(zi({},Ue(this.props,!1)),{},{fill:"none"},Ue(l,!1));if(c==="circle")return I.createElement(Nb,Ji({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:s,r:o}));var f=this.props.ticks,d=f.map(function(m){return Nt(i,s,o,m.coordinate)});return I.createElement(Cae,Ji({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,f=Ue(this.props,!1),d=Ue(o,!1),m=zi(zi({},f),{},{fill:"none"},Ue(l,!1)),p=s.map(function(v,g){var w=n.getTickLineCoord(v),x=n.getTickTextAnchor(v),y=zi(zi(zi({textAnchor:x},f),{},{stroke:"none",fill:u},d),{},{index:g,payload:v,x:w.x2,y:w.y2});return I.createElement(dt,Ji({className:Xe("recharts-polar-angle-axis-tick",$T(o)),key:"tick-".concat(v.coordinate)},Ns(n.props,v,g)),l&&I.createElement("line",Ji({className:"recharts-polar-angle-axis-tick-line"},m,w)),o&&t.renderTickItem(o,y,c?c(v.value,g):v.value))});return I.createElement(dt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!i||!i.length?null:I.createElement(dt,{className:Xe("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var o;return I.isValidElement(n)?o=I.cloneElement(n,i):He(n)?o=n(i):o=I.createElement(Ss,Ji({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(_.PureComponent);zh(Vh,"displayName","PolarAngleAxis");zh(Vh,"axisType","angleAxis");zh(Vh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var gie=tC,xie=gie(Object.getPrototypeOf,Object),yie=xie,vie=Wa,bie=yie,jie=Ha,wie="[object Object]",Nie=Function.prototype,Sie=Object.prototype,ZT=Nie.toString,_ie=Sie.hasOwnProperty,Aie=ZT.call(Object);function Pie(e){if(!jie(e)||vie(e)!=wie)return!1;var t=bie(e);if(t===null)return!0;var r=_ie.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&ZT.call(r)==Aie}var Oie=Pie;const Eie=mt(Oie);var Cie=Wa,Tie=Ha,kie="[object Boolean]";function Mie(e){return e===!0||e===!1||Tie(e)&&Cie(e)==kie}var $ie=Mie;const Die=mt($ie);function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fm.apply(this,arguments)}function Iie(e,t){return Fie(e)||Bie(e,t)||Rie(e,t)||Lie()}function Lie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rie(e,t){if(e){if(typeof e=="string")return yS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yS(e,t)}}function yS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Fie(e){if(Array.isArray(e))return e}function vS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vS(Object(r),!0).forEach(function(n){zie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zie(e,t,r){return t=Vie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vie(e){var t=Uie(e,"string");return vu(t)=="symbol"?t:t+""}function Uie(e,t){if(vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jS=function(t,r,n,i,s){var o=n-i,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-i,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},Wie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Hie=function(t){var r=bS(bS({},Wie),t),n=_.useRef(),i=_.useState(-1),s=Iie(i,2),o=s[0],l=s[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var h=n.current.getTotalLength();h&&l(h)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,d=r.lowerWidth,m=r.height,p=r.className,v=r.animationEasing,g=r.animationDuration,w=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||m!==+m||f===0&&d===0||m===0)return null;var y=Xe("recharts-trapezoid",p);return x?I.createElement(Va,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:f,lowerWidth:d,height:m,x:c,y:u},duration:g,animationEasing:v,isActive:x},function(h){var N=h.upperWidth,j=h.lowerWidth,b=h.height,S=h.x,P=h.y;return I.createElement(Va,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:g,easing:v},I.createElement("path",fm({},Ue(r,!0),{className:y,d:jS(S,P,N,j,b),ref:n})))}):I.createElement("g",null,I.createElement("path",fm({},Ue(r,!0),{className:y,d:jS(c,u,f,d,m)})))},qie=["option","shapeType","propTransformer","activeClassName","isActive"];function bu(e){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}function Gie(e,t){if(e==null)return{};var r=Kie(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wS(Object(r),!0).forEach(function(n){Yie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yie(e,t,r){return t=Xie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xie(e){var t=Jie(e,"string");return bu(t)=="symbol"?t:t+""}function Jie(e,t){if(bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zie(e,t){return mm(mm({},t),e)}function Qie(e,t){return e==="symbols"}function NS(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return I.createElement(wb,r);case"trapezoid":return I.createElement(Hie,r);case"sector":return I.createElement(LT,r);case"symbols":if(Qie(t))return I.createElement(zv,r);break;default:return null}}function ese(e){return _.isValidElement(e)?e.props:e}function QT(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?Zie:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=Gie(e,qie),u;if(_.isValidElement(t))u=_.cloneElement(t,mm(mm({},c),ese(t)));else if(He(t))u=t(c);else if(Eie(t)&&!Die(t)){var f=i(t,c);u=I.createElement(NS,{shapeType:r,elementProps:f})}else{var d=c;u=I.createElement(NS,{shapeType:r,elementProps:d})}return l?I.createElement(dt,{className:o},u):u}function Uh(e,t){return t!=null&&"trapezoids"in e.props}function Wh(e,t){return t!=null&&"sectors"in e.props}function ju(e,t){return t!=null&&"points"in e.props}function tse(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&s}function rse(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function nse(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function ase(e,t){var r;return Uh(e,t)?r=tse:Wh(e,t)?r=rse:ju(e,t)&&(r=nse),r}function ise(e,t){var r;return Uh(e,t)?r="trapezoids":Wh(e,t)?r="sectors":ju(e,t)&&(r="points"),r}function sse(e,t){if(Uh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Wh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return ju(e,t)?t.payload:{}}function ose(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=ise(r,t),s=sse(r,t),o=n.filter(function(c,u){var f=Dh(s,c),d=r.props[i].filter(function(v){var g=ase(r,t);return g(v,t)}),m=r.props[i].indexOf(d[d.length-1]),p=u===m;return f&&p}),l=n.indexOf(o[o.length-1]);return l}var Wd;function Zo(e){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zo(e)}function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},co.apply(this,arguments)}function SS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SS(Object(r),!0).forEach(function(n){pn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tk(n.key),n)}}function cse(e,t,r){return t&&_S(e.prototype,t),r&&_S(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function use(e,t,r){return t=hm(t),dse(e,ek()?Reflect.construct(t,r||[],hm(e).constructor):t.apply(e,r))}function dse(e,t){if(t&&(Zo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fse(e)}function fse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ek(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ek=function(){return!!e})()}function hm(e){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hm(e)}function mse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dx(e,t)}function Dx(e,t){return Dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Dx(e,t)}function pn(e,t,r){return t=tk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tk(e){var t=hse(e,"string");return Zo(t)=="symbol"?t:t+""}function hse(e,t){if(Zo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var la=function(e){function t(r){var n;return lse(this,t),n=use(this,t,[r]),pn(n,"pieRef",null),pn(n,"sectorRefs",[]),pn(n,"id",Bu("recharts-pie-")),pn(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),He(i)&&i()}),pn(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),He(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return mse(t,e),cse(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,f=Ue(this.props,!1),d=Ue(o,!1),m=Ue(l,!1),p=o&&o.offsetRadius||20,v=n.map(function(g,w){var x=(g.startAngle+g.endAngle)/2,y=Nt(g.cx,g.cy,g.outerRadius+p,x),h=vt(vt(vt(vt({},f),g),{},{stroke:"none"},d),{},{index:w,textAnchor:t.getTextAnchor(y.x,g.cx)},y),N=vt(vt(vt(vt({},f),g),{},{fill:"none",stroke:g.fill},m),{},{index:w,points:[Nt(g.cx,g.cy,g.outerRadius,x),y]}),j=c;return Je(c)&&Je(u)?j="value":Je(c)&&(j=u),I.createElement(dt,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(w)},l&&t.renderLabelLineItem(l,N,"line"),t.renderLabelItem(o,h,Nr(g,j)))});return I.createElement(dt,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var d=i.isActiveIndex(f),m=c&&i.hasActiveIndex()?c:null,p=d?o:m,v=vt(vt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return I.createElement(dt,co({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},Ns(i.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),I.createElement(QT,co({option:p,isActive:d,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,d=this.state,m=d.prevSectors,p=d.prevIsAnimationActive;return I.createElement(Va,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var g=v.t,w=[],x=s&&s[0],y=x.startAngle;return s.forEach(function(h,N){var j=m&&m[N],b=N>0?tn(h,"paddingAngle",0):0;if(j){var S=ei(j.endAngle-j.startAngle,h.endAngle-h.startAngle),P=vt(vt({},h),{},{startAngle:y+b,endAngle:y+S(g)+b});w.push(P),y=P.endAngle}else{var A=h.endAngle,E=h.startAngle,O=ei(0,A-E),C=O(g),T=vt(vt({},h),{},{startAngle:y+b,endAngle:y+C+b});w.push(T),y=T.endAngle}}),I.createElement(dt,null,n.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!Dh(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,f=i.cy,d=i.innerRadius,m=i.outerRadius,p=i.isAnimationActive,v=this.state.isAnimationFinished;if(s||!o||!o.length||!xe(u)||!xe(f)||!xe(d)||!xe(m))return null;var g=Xe("recharts-pie",l);return I.createElement(dt,{tabIndex:this.props.rootTabIndex,className:g,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(o),sr.renderCallByParent(this.props,null,!1),(!p||v)&&wi.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(I.isValidElement(n))return I.cloneElement(n,i);if(He(n))return n(i);var o=Xe("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return I.createElement(bx,co({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,s){if(I.isValidElement(n))return I.cloneElement(n,i);var o=s;if(He(n)&&(o=n(i),I.isValidElement(o)))return o;var l=Xe("recharts-pie-label-text",typeof n!="boolean"&&!He(n)?n.className:"");return I.createElement(Ss,co({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(_.PureComponent);Wd=la;pn(la,"displayName","Pie");pn(la,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Nl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});pn(la,"parseDeltaAngle",function(e,t){var r=Or(t-e),n=Math.min(Math.abs(t-e),360);return r*n});pn(la,"getRealPieData",function(e){var t=e.data,r=e.children,n=Ue(e,!1),i=jn(r,Jc);return t&&t.length?t.map(function(s,o){return vt(vt(vt({payload:s},n),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return vt(vt({},n),s.props)}):[]});pn(la,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,s=t.height,o=MT(i,s),l=n+Er(e.cx,i,i/2),c=r+Er(e.cy,s,s/2),u=Er(e.innerRadius,o,0),f=Er(e.outerRadius,o,o*.8),d=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:d}});pn(la,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?vt(vt({},t.type.defaultProps),t.props):t.props,i=Wd.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,f=n.nameKey,d=n.valueKey,m=n.tooltipType,p=Math.abs(n.minAngle),v=Wd.parseCoordinateOfPie(n,r),g=Wd.parseDeltaAngle(o,l),w=Math.abs(g),x=u;Je(u)&&Je(d)?(Ln(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Je(u)&&(Ln(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=d);var y=i.filter(function(P){return Nr(P,x,0)!==0}).length,h=(w>=360?y:y-1)*c,N=w-y*p-h,j=i.reduce(function(P,A){var E=Nr(A,x,0);return P+(xe(E)?E:0)},0),b;if(j>0){var S;b=i.map(function(P,A){var E=Nr(P,x,0),O=Nr(P,f,A),C=(xe(E)?E:0)/j,T;A?T=S.endAngle+Or(g)*c*(E!==0?1:0):T=o;var R=T+Or(g)*((E!==0?p:0)+C*N),z=(T+R)/2,G=(v.innerRadius+v.outerRadius)/2,X=[{name:O,value:E,payload:P,dataKey:x,type:m}],F=Nt(v.cx,v.cy,G,z);return S=vt(vt(vt({percent:C,cornerRadius:s,name:O,tooltipPayload:X,midAngle:z,middleRadius:G,tooltipPosition:F},P),v),{},{value:Nr(P,x),startAngle:T,endAngle:R,payload:P,paddingAngle:Or(g)*c}),S})}return vt(vt({},v),{},{sectors:b,data:i})});var pse=Math.ceil,gse=Math.max;function xse(e,t,r,n){for(var i=-1,s=gse(pse((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++i]=e,e+=r;return o}var yse=xse,vse=bC,AS=1/0,bse=17976931348623157e292;function jse(e){if(!e)return e===0?e:0;if(e=vse(e),e===AS||e===-AS){var t=e<0?-1:1;return t*bse}return e===e?e:0}var rk=jse,wse=yse,Nse=_h,cg=rk;function Sse(e){return function(t,r,n){return n&&typeof n!="number"&&Nse(t,r,n)&&(r=n=void 0),t=cg(t),r===void 0?(r=t,t=0):r=cg(r),n=n===void 0?t<r?1:-1:cg(n),wse(t,r,n,e)}}var _se=Sse,Ase=_se,Pse=Ase(),Ose=Pse;const pm=mt(Ose);function wu(e){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}function PS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function OS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PS(Object(r),!0).forEach(function(n){nk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nk(e,t,r){return t=Ese(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ese(e){var t=Cse(e,"string");return wu(t)=="symbol"?t:t+""}function Cse(e,t){if(wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tse=["Webkit","Moz","O","ms"],kse=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Tse.reduce(function(s,o){return OS(OS({},s),{},nk({},o+n,r))},{});return i[t]=r,i};function Qo(e){"@babel/helpers - typeof";return Qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qo(e)}function gm(){return gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gm.apply(this,arguments)}function ES(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ug(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ES(Object(r),!0).forEach(function(n){Gr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ik(n.key),n)}}function $se(e,t,r){return t&&CS(e.prototype,t),r&&CS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dse(e,t,r){return t=xm(t),Ise(e,ak()?Reflect.construct(t,r||[],xm(e).constructor):t.apply(e,r))}function Ise(e,t){if(t&&(Qo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lse(e)}function Lse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ak(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ak=function(){return!!e})()}function xm(e){return xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xm(e)}function Rse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ix(e,t)}function Ix(e,t){return Ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ix(e,t)}function Gr(e,t,r){return t=ik(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ik(e){var t=Bse(e,"string");return Qo(t)=="symbol"?t:t+""}function Bse(e,t){if(Qo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fse=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=gc().domain(pm(0,c)).range([s,s+o-l]),f=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:f}},TS=function(t){return t.changedTouches&&!!t.changedTouches.length},el=function(e){function t(r){var n;return Mse(this,t),n=Dse(this,t,[r]),Gr(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Gr(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Gr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),Gr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Gr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Gr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Gr(n,"handleSlideDragStart",function(i){var s=TS(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Rse(t,e),$se(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,d=Math.min(i,s),m=Math.max(i,s),p=t.getIndexInRange(o,d),v=t.getIndexInRange(o,m);return{startIndex:p-p%c,endIndex:v===f?f:v-v%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,c=Nr(s[n],l,n);return He(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,f=c.width,d=c.travellerWidth,m=c.startIndex,p=c.endIndex,v=c.onChange,g=n.pageX-s;g>0?g=Math.min(g,u+f-d-l,u+f-d-o):g<0&&(g=Math.max(g,u-o,u-l));var w=this.getIndex({startX:o+g,endX:l+g});(w.startIndex!==m||w.endIndex!==p)&&v&&v(w),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=TS(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],f=this.props,d=f.x,m=f.width,p=f.travellerWidth,v=f.onChange,g=f.gap,w=f.data,x={startX:this.state.startX,endX:this.state.endX},y=n.pageX-s;y>0?y=Math.min(y,d+m-p-u):y<0&&(y=Math.max(y,d-u)),x[o]=u+y;var h=this.getIndex(x),N=h.startIndex,j=h.endIndex,b=function(){var P=w.length-1;return o==="startX"&&(l>c?N%g===0:j%g===0)||l<c&&j===P||o==="endX"&&(l>c?j%g===0:N%g===0)||l>c&&j===P};this.setState(Gr(Gr({},o,u+y),"brushMoveStartX",n.pageX),function(){v&&b()&&v(h)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,f=this.state[i],d=l.indexOf(f);if(d!==-1){var m=d+n;if(!(m===-1||m>=l.length)){var p=l[m];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState(Gr({},i,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return I.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,d=_.Children.only(u);return d?I.cloneElement(d,{x:i,y:s,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,l=this,c=this.props,u=c.y,f=c.travellerWidth,d=c.height,m=c.traveller,p=c.ariaLabel,v=c.data,g=c.startIndex,w=c.endIndex,x=Math.max(n,this.props.x),y=ug(ug({},Ue(this.props,!1)),{},{x,y:u,width:f,height:d}),h=p||"Min value: ".concat((s=v[g])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=v[w])===null||o===void 0?void 0:o.name);return I.createElement(dt,{tabIndex:0,role:"slider","aria-label":h,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,y))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,f=Math.min(n,i)+u,d=Math.max(Math.abs(i-n)-u,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:d,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,d=f.startX,m=f.endX,p=5,v={pointerEvents:"none",fill:u};return I.createElement(dt,{className:"recharts-brush-texts"},I.createElement(Ss,gm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,m)-p,y:o+l/2},v),this.getTextOfTick(i)),I.createElement(Ss,gm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,m)+c+p,y:o+l/2},v),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,f=n.height,d=n.alwaysShowText,m=this.state,p=m.startX,v=m.endX,g=m.isTextActive,w=m.isSlideMoving,x=m.isTravellerMoving,y=m.isTravellerFocused;if(!i||!i.length||!xe(l)||!xe(c)||!xe(u)||!xe(f)||u<=0||f<=0)return null;var h=Xe("recharts-brush",s),N=I.Children.count(o)===1,j=kse("userSelect","none");return I.createElement(dt,{className:h,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(g||w||x||y||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:i,y:s,width:o,height:l,fill:c,stroke:"none"}),I.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return I.isValidElement(n)?s=I.cloneElement(n,i):He(n)?s=n(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,d=n.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return ug({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?Fse({data:s,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var m=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])}(_.PureComponent);Gr(el,"displayName","Brush");Gr(el,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var zse=Kv;function Vse(e,t){var r;return zse(e,function(n,i,s){return r=t(n,i,s),!r}),!!r}var Use=Vse,Wse=GE,Hse=ua,qse=Use,Gse=qr,Kse=_h;function Yse(e,t,r){var n=Gse(e)?Wse:qse;return r&&Kse(e,t,r)&&(t=void 0),n(e,Hse(t))}var Xse=Yse;const Jse=mt(Xse);var ra=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},kS=pC;function Zse(e,t,r){t=="__proto__"&&kS?kS(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Qse=Zse,eoe=Qse,toe=mC,roe=ua;function noe(e,t){var r={};return t=roe(t),toe(e,function(n,i,s){eoe(r,i,t(n,i,s))}),r}var aoe=noe;const ioe=mt(aoe);function soe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var ooe=soe,loe=Kv;function coe(e,t){var r=!0;return loe(e,function(n,i,s){return r=!!t(n,i,s),r}),r}var uoe=coe,doe=ooe,foe=uoe,moe=ua,hoe=qr,poe=_h;function goe(e,t,r){var n=hoe(e)?doe:foe;return r&&poe(e,t,r)&&(t=void 0),n(e,moe(t))}var xoe=goe;const sk=mt(xoe);var yoe=["x","y"];function Nu(e){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nu(e)}function Lx(){return Lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lx.apply(this,arguments)}function MS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MS(Object(r),!0).forEach(function(n){voe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function voe(e,t,r){return t=boe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function boe(e){var t=joe(e,"string");return Nu(t)=="symbol"?t:t+""}function joe(e,t){if(Nu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function woe(e,t){if(e==null)return{};var r=Noe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Noe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Soe(e,t){var r=e.x,n=e.y,i=woe(e,yoe),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),f=parseInt(u,10),d="".concat(t.width||i.width),m=parseInt(d,10);return Yl(Yl(Yl(Yl(Yl({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:m,name:t.name,radius:t.radius})}function $S(e){return I.createElement(QT,Lx({shapeType:"rectangle",propTransformer:Soe,activeClassName:"recharts-active-bar"},e))}var _oe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var s=xe(n)||Gz(n);return s?t(n,i):(s||As(),r)}},Aoe=["value","background"],ok;function tl(e){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tl(e)}function Poe(e,t){if(e==null)return{};var r=Ooe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ooe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ym(){return ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ym.apply(this,arguments)}function DS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DS(Object(r),!0).forEach(function(n){ci(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ck(n.key),n)}}function Coe(e,t,r){return t&&IS(e.prototype,t),r&&IS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Toe(e,t,r){return t=vm(t),koe(e,lk()?Reflect.construct(t,r||[],vm(e).constructor):t.apply(e,r))}function koe(e,t){if(t&&(tl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Moe(e)}function Moe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lk=function(){return!!e})()}function vm(e){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vm(e)}function $oe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rx(e,t)}function Rx(e,t){return Rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Rx(e,t)}function ci(e,t,r){return t=ck(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ck(e){var t=Doe(e,"string");return tl(t)=="symbol"?t:t+""}function Doe(e,t){if(tl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xn=function(e){function t(){var r;Eoe(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Toe(this,t,[].concat(i)),ci(r,"state",{isAnimationFinished:!1}),ci(r,"id",Bu("recharts-bar-")),ci(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ci(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return $oe(t,e),Coe(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,f=Ue(this.props,!1);return n&&n.map(function(d,m){var p=m===c,v=p?u:o,g=Wt(Wt(Wt({},f),d),{},{isActive:p,option:v,index:m,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return I.createElement(dt,ym({className:"recharts-bar-rectangle"},Ns(i.props,d,m),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(m)}),I.createElement($S,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,f=i.animationEasing,d=i.animationId,m=this.state.prevData;return I.createElement(Va,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,g=s.map(function(w,x){var y=m&&m[x];if(y){var h=ei(y.x,w.x),N=ei(y.y,w.y),j=ei(y.width,w.width),b=ei(y.height,w.height);return Wt(Wt({},w),{},{x:h(v),y:N(v),width:j(v),height:b(v)})}if(o==="horizontal"){var S=ei(0,w.height),P=S(v);return Wt(Wt({},w),{},{y:w.y+w.height-P,height:P})}var A=ei(0,w.width),E=A(v);return Wt(Wt({},w),{},{width:E})});return I.createElement(dt,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!Dh(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,c=Ue(this.props.background,!1);return s.map(function(u,f){u.value;var d=u.background,m=Poe(u,Aoe);if(!d)return null;var p=Wt(Wt(Wt(Wt(Wt({},m),{},{fill:"#eee"},d),c),Ns(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return I.createElement($S,ym({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,d=jn(f,Rh);if(!d)return null;var m=u==="vertical"?o[0].height/2:o[0].width/2,p=function(w,x){var y=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:y,errorVal:Nr(w,x)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return I.createElement(dt,v,d.map(function(g){return I.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:m,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,d=n.width,m=n.height,p=n.isAnimationActive,v=n.background,g=n.id;if(i||!s||!s.length)return null;var w=this.state.isAnimationFinished,x=Xe("recharts-bar",o),y=l&&l.allowDataOverflow,h=c&&c.allowDataOverflow,N=y||h,j=Je(g)?this.id:g;return I.createElement(dt,{className:x},y||h?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(j)},I.createElement("rect",{x:y?u:u-d/2,y:h?f:f-m/2,width:y?d:d*2,height:h?m:m*2}))):null,I.createElement(dt,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(j,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,j),(!p||w)&&wi.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(_.PureComponent);ok=Xn;ci(Xn,"displayName","Bar");ci(Xn,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Nl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ci(Xn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,m=e.offset,p=dte(n,r);if(!p)return null;var v=t.layout,g=r.type.defaultProps,w=g!==void 0?Wt(Wt({},g),r.props):r.props,x=w.dataKey,y=w.children,h=w.minPointSize,N=v==="horizontal"?o:s,j=u?N.scale.domain():null,b=yte({numericAxis:N}),S=jn(y,Jc),P=d.map(function(A,E){var O,C,T,R,z,G;u?O=fte(u[f+E],j):(O=Nr(A,x),Array.isArray(O)||(O=[b,O]));var X=_oe(h,ok.defaultProps.minPointSize)(O[1],E);if(v==="horizontal"){var F,Y=[o.scale(O[0]),o.scale(O[1])],J=Y[0],k=Y[1];C=O2({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:A,index:E}),T=(F=k??J)!==null&&F!==void 0?F:void 0,R=p.size;var K=J-k;if(z=Number.isNaN(K)?0:K,G={x:C,y:o.y,width:R,height:o.height},Math.abs(X)>0&&Math.abs(z)<Math.abs(X)){var oe=Or(z||X)*(Math.abs(X)-Math.abs(z));T-=oe,z+=oe}}else{var B=[s.scale(O[0]),s.scale(O[1])],M=B[0],re=B[1];if(C=M,T=O2({axis:o,ticks:c,bandSize:i,offset:p.offset,entry:A,index:E}),R=re-M,z=p.size,G={x:s.x,y:T,width:s.width,height:z},Math.abs(X)>0&&Math.abs(R)<Math.abs(X)){var we=Or(R||X)*(Math.abs(X)-Math.abs(R));R+=we}}return Wt(Wt(Wt({},A),{},{x:C,y:T,width:R,height:z,value:u?O:O[1],payload:A,background:G},S&&S[E]&&S[E].props),{},{tooltipPayload:[TT(r,A)],tooltipPosition:{x:C+R/2,y:T+z/2}})});return Wt({data:P,layout:v},m)});function Su(e){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}function Ioe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uk(n.key),n)}}function Loe(e,t,r){return t&&LS(e.prototype,t),r&&LS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RS(Object(r),!0).forEach(function(n){Hh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hh(e,t,r){return t=uk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uk(e){var t=Roe(e,"string");return Su(t)=="symbol"?t:t+""}function Roe(e,t){if(Su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Boe=function(t,r,n,i,s){var o=t.width,l=t.height,c=t.layout,u=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},m=!!Xr(u,Xn);return f.reduce(function(p,v){var g=r[v],w=g.orientation,x=g.domain,y=g.padding,h=y===void 0?{}:y,N=g.mirror,j=g.reversed,b="".concat(w).concat(N?"Mirror":""),S,P,A,E,O;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var C=x[1]-x[0],T=1/0,R=g.categoricalDomain.sort(Xz);if(R.forEach(function(B,M){M>0&&(T=Math.min((B||0)-(R[M-1]||0),T))}),Number.isFinite(T)){var z=T/C,G=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(S=z*G/2),g.padding==="no-gap"){var X=Er(t.barCategoryGap,z*G),F=z*G/2;S=F-X-(F-X)/G*X}}}i==="xAxis"?P=[n.left+(h.left||0)+(S||0),n.left+n.width-(h.right||0)-(S||0)]:i==="yAxis"?P=c==="horizontal"?[n.top+n.height-(h.bottom||0),n.top+(h.top||0)]:[n.top+(h.top||0)+(S||0),n.top+n.height-(h.bottom||0)-(S||0)]:P=g.range,j&&(P=[P[1],P[0]]);var Y=PT(g,s,m),J=Y.scale,k=Y.realScaleType;J.domain(x).range(P),OT(J);var K=ET(J,Tn(Tn({},g),{},{realScaleType:k}));i==="xAxis"?(O=w==="top"&&!N||w==="bottom"&&N,A=n.left,E=d[b]-O*g.height):i==="yAxis"&&(O=w==="left"&&!N||w==="right"&&N,A=d[b]-O*g.width,E=n.top);var oe=Tn(Tn(Tn({},g),K),{},{realScaleType:k,x:A,y:E,scale:J,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return oe.bandSize=rm(oe,K),!g.hide&&i==="xAxis"?d[b]+=(O?-1:1)*oe.height:g.hide||(d[b]+=(O?-1:1)*oe.width),Tn(Tn({},p),{},Hh({},v,oe))},{})},dk=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},Foe=function(t){var r=t.x1,n=t.y1,i=t.x2,s=t.y2;return dk({x:r,y:n},{x:i,y:s})},fk=function(){function e(t){Ioe(this,e),this.scale=t}return Loe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();Hh(fk,"EPS",1e-4);var Sb=function(t){var r=Object.keys(t).reduce(function(n,i){return Tn(Tn({},n),{},Hh({},i,fk.create(t[i])))},{});return Tn(Tn({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return ioe(i,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return sk(i,function(s,o){return r[o].isInRange(s)})}})};function zoe(e){return(e%180+180)%180}var Voe=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=zoe(i),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Uoe=ua,Woe=Fu,Hoe=Nh;function qoe(e){return function(t,r,n){var i=Object(t);if(!Woe(t)){var s=Uoe(r);t=Hoe(t),r=function(l){return s(i[l],l,i)}}var o=e(t,r,n);return o>-1?i[s?t[o]:o]:void 0}}var Goe=qoe,Koe=rk;function Yoe(e){var t=Koe(e),r=t%1;return t===t?r?t-r:t:0}var Xoe=Yoe,Joe=oC,Zoe=ua,Qoe=Xoe,ele=Math.max;function tle(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:Qoe(r);return i<0&&(i=ele(n+i,0)),Joe(e,Zoe(t),i)}var rle=tle,nle=Goe,ale=rle,ile=nle(ale),sle=ile;const ole=mt(sle);var lle=Q8(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),_b=_.createContext(void 0),Ab=_.createContext(void 0),mk=_.createContext(void 0),hk=_.createContext({}),pk=_.createContext(void 0),gk=_.createContext(0),xk=_.createContext(0),BS=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,f=lle(s);return I.createElement(_b.Provider,{value:n},I.createElement(Ab.Provider,{value:i},I.createElement(hk.Provider,{value:s},I.createElement(mk.Provider,{value:f},I.createElement(pk.Provider,{value:o},I.createElement(gk.Provider,{value:u},I.createElement(xk.Provider,{value:c},l)))))))},cle=function(){return _.useContext(pk)},yk=function(t){var r=_.useContext(_b);r==null&&As();var n=r[t];return n==null&&As(),n},ule=function(){var t=_.useContext(_b);return ai(t)},dle=function(){var t=_.useContext(Ab),r=ole(t,function(n){return sk(n.domain,Number.isFinite)});return r||ai(t)},vk=function(t){var r=_.useContext(Ab);r==null&&As();var n=r[t];return n==null&&As(),n},fle=function(){var t=_.useContext(mk);return t},mle=function(){return _.useContext(hk)},Pb=function(){return _.useContext(xk)},Ob=function(){return _.useContext(gk)};function rl(e){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(e)}function hle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ple(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jk(n.key),n)}}function gle(e,t,r){return t&&ple(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xle(e,t,r){return t=bm(t),yle(e,bk()?Reflect.construct(t,r||[],bm(e).constructor):t.apply(e,r))}function yle(e,t){if(t&&(rl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vle(e)}function vle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bk=function(){return!!e})()}function bm(e){return bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bm(e)}function ble(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bx(e,t)}function Bx(e,t){return Bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Bx(e,t)}function FS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FS(Object(r),!0).forEach(function(n){Eb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eb(e,t,r){return t=jk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jk(e){var t=jle(e,"string");return rl(t)=="symbol"?t:t+""}function jle(e,t){if(rl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function wle(e,t){return Ale(e)||_le(e,t)||Sle(e,t)||Nle()}function Nle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sle(e,t){if(e){if(typeof e=="string")return VS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VS(e,t)}}function VS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _le(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Ale(e){if(Array.isArray(e))return e}function Fx(){return Fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fx.apply(this,arguments)}var Ple=function(t,r){var n;return I.isValidElement(t)?n=I.cloneElement(t,r):He(t)?n=t(r):n=I.createElement("line",Fx({},r,{className:"recharts-reference-line-line"})),n},Ole=function(t,r,n,i,s,o,l,c,u){var f=s.x,d=s.y,m=s.width,p=s.height;if(n){var v=u.y,g=t.y.apply(v,{position:o});if(ra(u,"discard")&&!t.y.isInRange(g))return null;var w=[{x:f+m,y:g},{x:f,y:g}];return c==="left"?w.reverse():w}if(r){var x=u.x,y=t.x.apply(x,{position:o});if(ra(u,"discard")&&!t.x.isInRange(y))return null;var h=[{x:y,y:d+p},{x:y,y:d}];return l==="top"?h.reverse():h}if(i){var N=u.segment,j=N.map(function(b){return t.apply(b,{position:o})});return ra(u,"discard")&&Jse(j,function(b){return!t.isInRange(b)})?null:j}return null};function Ele(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=cle(),f=yk(i),d=vk(s),m=fle();if(!u||!m)return null;Ln(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Sb({x:f.scale,y:d.scale}),v=er(t),g=er(r),w=n&&n.length===2,x=Ole(p,v,g,w,m,e.position,f.orientation,d.orientation,e);if(!x)return null;var y=wle(x,2),h=y[0],N=h.x,j=h.y,b=y[1],S=b.x,P=b.y,A=ra(e,"hidden")?"url(#".concat(u,")"):void 0,E=zS(zS({clipPath:A},Ue(e,!0)),{},{x1:N,y1:j,x2:S,y2:P});return I.createElement(dt,{className:Xe("recharts-reference-line",l)},Ple(o,E),sr.renderCallByParent(e,Foe({x1:N,y1:j,x2:S,y2:P})))}var Cb=function(e){function t(){return hle(this,t),xle(this,t,arguments)}return ble(t,e),gle(t,[{key:"render",value:function(){return I.createElement(Ele,this.props)}}])}(I.Component);Eb(Cb,"displayName","ReferenceLine");Eb(Cb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function zx(){return zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zx.apply(this,arguments)}function nl(e){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(e)}function US(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function WS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?US(Object(r),!0).forEach(function(n){qh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nk(n.key),n)}}function kle(e,t,r){return t&&Tle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mle(e,t,r){return t=jm(t),$le(e,wk()?Reflect.construct(t,r||[],jm(e).constructor):t.apply(e,r))}function $le(e,t){if(t&&(nl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dle(e)}function Dle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wk=function(){return!!e})()}function jm(e){return jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jm(e)}function Ile(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vx(e,t)}function Vx(e,t){return Vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Vx(e,t)}function qh(e,t,r){return t=Nk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nk(e){var t=Lle(e,"string");return nl(t)=="symbol"?t:t+""}function Lle(e,t){if(nl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rle=function(t){var r=t.x,n=t.y,i=t.xAxis,s=t.yAxis,o=Sb({x:i.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return ra(t,"discard")&&!o.isInRange(l)?null:l},Gh=function(e){function t(){return Cle(this,t),Mle(this,t,arguments)}return Ile(t,e),kle(t,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=er(i),f=er(s);if(Ln(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var d=Rle(this.props);if(!d)return null;var m=d.x,p=d.y,v=this.props,g=v.shape,w=v.className,x=ra(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=WS(WS({clipPath:x},Ue(this.props,!0)),{},{cx:m,cy:p});return I.createElement(dt,{className:Xe("recharts-reference-dot",w)},t.renderDot(g,y),sr.renderCallByParent(this.props,{x:m-o,y:p-o,width:2*o,height:2*o}))}}])}(I.Component);qh(Gh,"displayName","ReferenceDot");qh(Gh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});qh(Gh,"renderDot",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):He(e)?r=e(t):r=I.createElement(Nb,zx({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ux.apply(this,arguments)}function al(e){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){Kh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ble(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_k(n.key),n)}}function zle(e,t,r){return t&&Fle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vle(e,t,r){return t=wm(t),Ule(e,Sk()?Reflect.construct(t,r||[],wm(e).constructor):t.apply(e,r))}function Ule(e,t){if(t&&(al(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wle(e)}function Wle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sk=function(){return!!e})()}function wm(e){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wm(e)}function Hle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wx(e,t)}function Wx(e,t){return Wx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Wx(e,t)}function Kh(e,t,r){return t=_k(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _k(e){var t=qle(e,"string");return al(t)=="symbol"?t:t+""}function qle(e,t){if(al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gle=function(t,r,n,i,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,f=s.xAxis,d=s.yAxis;if(!f||!d)return null;var m=Sb({x:f.scale,y:d.scale}),p={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},v={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(u,{position:"end"}):m.y.rangeMax};return ra(s,"discard")&&(!m.isInRange(p)||!m.isInRange(v))?null:dk(p,v)},Yh=function(e){function t(){return Ble(this,t),Vle(this,t,arguments)}return Hle(t,e),zle(t,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;Ln(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=er(i),m=er(s),p=er(o),v=er(l),g=this.props.shape;if(!d&&!m&&!p&&!v&&!g)return null;var w=Gle(d,m,p,v,this.props);if(!w&&!g)return null;var x=ra(this.props,"hidden")?"url(#".concat(f,")"):void 0;return I.createElement(dt,{className:Xe("recharts-reference-area",c)},t.renderRect(g,qS(qS({clipPath:x},Ue(this.props,!0)),w)),sr.renderCallByParent(this.props,w))}}])}(I.Component);Kh(Yh,"displayName","ReferenceArea");Kh(Yh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Kh(Yh,"renderRect",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):He(e)?r=e(t):r=I.createElement(wb,Ux({},t,{className:"recharts-reference-area-rect"})),r});function Ak(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function Kle(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Voe(n,r)}function Yle(e,t,r){var n=r==="width",i=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?i:s,end:n?i+o:s+l}:{start:n?i+o:s+l,end:n?i:s}}function Nm(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function Xle(e,t){return Ak(e,t+1)}function Jle(e,t,r,n,i){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,f=o,d=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:Ak(n,u)};var g=c,w,x=function(){return w===void 0&&(w=r(v,g)),w},y=v.coordinate,h=c===0||Nm(e,y,x,f,l);h||(c=0,f=o,u+=1),h&&(f=y+e*(x()/2+i),c+=u)},m;u<=s.length;)if(m=d(),m)return m.v;return[]}function _u(e){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_u(e)}function GS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GS(Object(r),!0).forEach(function(n){Zle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zle(e,t,r){return t=Qle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qle(e){var t=ece(e,"string");return _u(t)=="symbol"?t:t+""}function ece(e,t){if(_u(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tce(e,t,r,n,i){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(m){var p=s[m],v,g=function(){return v===void 0&&(v=r(p,m)),v};if(m===o-1){var w=e*(p.coordinate+e*g()/2-c);s[m]=p=vr(vr({},p),{},{tickCoord:w>0?p.coordinate-w*e:p.coordinate})}else s[m]=p=vr(vr({},p),{},{tickCoord:p.coordinate});var x=Nm(e,p.tickCoord,g,l,c);x&&(c=p.tickCoord-e*(g()/2+i),s[m]=vr(vr({},p),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return s}function rce(e,t,r,n,i,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var f=n[l-1],d=r(f,l-1),m=e*(f.coordinate+e*d/2-u);o[l-1]=f=vr(vr({},f),{},{tickCoord:m>0?f.coordinate-m*e:f.coordinate});var p=Nm(e,f.tickCoord,function(){return d},c,u);p&&(u=f.tickCoord-e*(d/2+i),o[l-1]=vr(vr({},f),{},{isShow:!0}))}for(var v=s?l-1:l,g=function(y){var h=o[y],N,j=function(){return N===void 0&&(N=r(h,y)),N};if(y===0){var b=e*(h.coordinate-e*j()/2-c);o[y]=h=vr(vr({},h),{},{tickCoord:b<0?h.coordinate-b*e:h.coordinate})}else o[y]=h=vr(vr({},h),{},{tickCoord:h.coordinate});var S=Nm(e,h.tickCoord,j,c,u);S&&(c=h.tickCoord+e*(j()/2+i),o[y]=vr(vr({},h),{},{isShow:!0}))},w=0;w<v;w++)g(w);return o}function Tb(e,t,r){var n=e.tick,i=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,d=e.angle;if(!i||!i.length||!n)return[];if(xe(c)||Nl.isSsr)return Xle(i,typeof c=="number"&&xe(c)?c:0);var m=[],p=l==="top"||l==="bottom"?"width":"height",v=f&&p==="width"?pc(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(h,N){var j=He(u)?u(h.value,N):h.value;return p==="width"?Kle(pc(j,{fontSize:t,letterSpacing:r}),v,d):pc(j,{fontSize:t,letterSpacing:r})[p]},w=i.length>=2?Or(i[1].coordinate-i[0].coordinate):1,x=Yle(s,w,p);return c==="equidistantPreserveStart"?Jle(w,x,g,i,o):(c==="preserveStart"||c==="preserveStartEnd"?m=rce(w,x,g,i,o,c==="preserveStartEnd"):m=tce(w,x,g,i,o),m.filter(function(y){return y.isShow}))}var nce=["viewBox"],ace=["viewBox"],ice=["ticks"];function il(e){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(e)}function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uo.apply(this,arguments)}function KS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KS(Object(r),!0).forEach(function(n){kb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dg(e,t){if(e==null)return{};var r=sce(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ok(n.key),n)}}function lce(e,t,r){return t&&YS(e.prototype,t),r&&YS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cce(e,t,r){return t=Sm(t),uce(e,Pk()?Reflect.construct(t,r||[],Sm(e).constructor):t.apply(e,r))}function uce(e,t){if(t&&(il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dce(e)}function dce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pk=function(){return!!e})()}function Sm(e){return Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sm(e)}function fce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hx(e,t)}function Hx(e,t){return Hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hx(e,t)}function kb(e,t,r){return t=Ok(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ok(e){var t=mce(e,"string");return il(t)=="symbol"?t:t+""}function mce(e,t){if(il(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pl=function(e){function t(r){var n;return oce(this,t),n=cce(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return fce(t,e),lce(t,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=dg(n,nce),l=this.props,c=l.viewBox,u=dg(l,ace);return!No(s,c)||!No(o,u)||!No(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,f=i.tickSize,d=i.mirror,m=i.tickMargin,p,v,g,w,x,y,h=d?-1:1,N=n.tickSize||f,j=xe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=v=n.coordinate,w=o+ +!d*c,g=w-h*N,y=g-h*m,x=j;break;case"left":g=w=n.coordinate,v=s+ +!d*l,p=v-h*N,x=p-h*m,y=j;break;case"right":g=w=n.coordinate,v=s+ +d*l,p=v+h*N,x=p+h*m,y=j;break;default:p=v=n.coordinate,w=o+ +d*c,g=w+h*N,y=g+h*m,x=j;break}return{line:{x1:p,y1:g,x2:v,y2:w},tick:{x,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,d=Yt(Yt(Yt({},Ue(this.props,!1)),Ue(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);d=Yt(Yt({},d),{},{x1:i,y1:s+m*l,x2:i+o,y2:s+m*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);d=Yt(Yt({},d),{},{x1:i+p*o,y1:s,x2:i+p*o,y2:s+l})}return I.createElement("line",uo({},d,{className:Xe("recharts-cartesian-axis-line",tn(f,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,d=l.tickFormatter,m=l.unit,p=Tb(Yt(Yt({},this.props),{},{ticks:n}),i,s),v=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),w=Ue(this.props,!1),x=Ue(f,!1),y=Yt(Yt({},w),{},{fill:"none"},Ue(c,!1)),h=p.map(function(N,j){var b=o.getTickLineCoord(N),S=b.line,P=b.tick,A=Yt(Yt(Yt(Yt({textAnchor:v,verticalAnchor:g},w),{},{stroke:"none",fill:u},x),P),{},{index:j,payload:N,visibleTicksCount:p.length,tickFormatter:d});return I.createElement(dt,uo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Ns(o.props,N,j)),c&&I.createElement("line",uo({},y,S,{className:Xe("recharts-cartesian-axis-tick-line",tn(c,"className"))})),f&&t.renderTickItem(f,A,"".concat(He(d)?d(N.value,j):N.value).concat(m||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},h)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var d=this.props,m=d.ticks,p=dg(d,ice),v=m;return He(c)&&(v=m&&m.length>0?c(this.props):c(p)),o<=0||l<=0||!v||!v.length?null:I.createElement(dt,{className:Xe("recharts-cartesian-axis",u),ref:function(w){n.layerReference=w}},s&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),sr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o,l=Xe(i.className,"recharts-cartesian-axis-tick-value");return I.isValidElement(n)?o=I.cloneElement(n,Yt(Yt({},i),{},{className:l})):He(n)?o=n(Yt(Yt({},i),{},{className:l})):o=I.createElement(Ss,uo({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(_.Component);kb(Pl,"displayName","CartesianAxis");kb(Pl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var hce=["x1","y1","x2","y2","key"],pce=["offset"];function Ps(e){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}function XS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XS(Object(r),!0).forEach(function(n){gce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gce(e,t,r){return t=xce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xce(e){var t=yce(e,"string");return Ps(t)=="symbol"?t:t+""}function yce(e,t){if(Ps(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ss(){return ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ss.apply(this,arguments)}function JS(e,t){if(e==null)return{};var r=vce(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var bce=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return I.createElement("rect",{x:i,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Ek(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(He(e))r=e(t);else{var n=t.x1,i=t.y1,s=t.x2,o=t.y2,l=t.key,c=JS(t,hce),u=Ue(c,!1);u.offset;var f=JS(u,pce);r=I.createElement("line",ss({},f,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:l}))}return r}function jce(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,s=e.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=wr(wr({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return Ek(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function wce(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,s=e.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=wr(wr({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return Ek(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Nce(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var f=l.map(function(m){return Math.round(m+i-i)}).sort(function(m,p){return m-p});i!==f[0]&&f.unshift(0);var d=f.map(function(m,p){var v=!f[p+1],g=v?i+o-m:f[p+1]-m;if(g<=0)return null;var w=p%t.length;return I.createElement("rect",{key:"react-".concat(p),y:m,x:n,height:g,width:s,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Sce(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(m){return Math.round(m+s-s)}).sort(function(m,p){return m-p});s!==f[0]&&f.unshift(0);var d=f.map(function(m,p){var v=!f[p+1],g=v?s+l-m:f[p+1]-m;if(g<=0)return null;var w=p%n.length;return I.createElement("rect",{key:"react-".concat(p),x:m,y:o,width:g,height:c,stroke:"none",fill:n[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var _ce=function(t,r){var n=t.xAxis,i=t.width,s=t.height,o=t.offset;return AT(Tb(wr(wr(wr({},Pl.defaultProps),n),{},{ticks:wa(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},Ace=function(t,r){var n=t.yAxis,i=t.width,s=t.height,o=t.offset;return AT(Tb(wr(wr(wr({},Pl.defaultProps),n),{},{ticks:wa(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},zs={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Hd(e){var t,r,n,i,s,o,l=Pb(),c=Ob(),u=mle(),f=wr(wr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:zs.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:zs.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:zs.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:zs.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:zs.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:zs.verticalFill,x:xe(e.x)?e.x:u.left,y:xe(e.y)?e.y:u.top,width:xe(e.width)?e.width:u.width,height:xe(e.height)?e.height:u.height}),d=f.x,m=f.y,p=f.width,v=f.height,g=f.syncWithTicks,w=f.horizontalValues,x=f.verticalValues,y=ule(),h=dle();if(!xe(p)||p<=0||!xe(v)||v<=0||!xe(d)||d!==+d||!xe(m)||m!==+m)return null;var N=f.verticalCoordinatesGenerator||_ce,j=f.horizontalCoordinatesGenerator||Ace,b=f.horizontalPoints,S=f.verticalPoints;if((!b||!b.length)&&He(j)){var P=w&&w.length,A=j({yAxis:h?wr(wr({},h),{},{ticks:P?w:h.ticks}):void 0,width:l,height:c,offset:u},P?!0:g);Ln(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ps(A),"]")),Array.isArray(A)&&(b=A)}if((!S||!S.length)&&He(N)){var E=x&&x.length,O=N({xAxis:y?wr(wr({},y),{},{ticks:E?x:y.ticks}):void 0,width:l,height:c,offset:u},E?!0:g);Ln(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ps(O),"]")),Array.isArray(O)&&(S=O)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(bce,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),I.createElement(jce,ss({},f,{offset:u,horizontalPoints:b,xAxis:y,yAxis:h})),I.createElement(wce,ss({},f,{offset:u,verticalPoints:S,xAxis:y,yAxis:h})),I.createElement(Nce,ss({},f,{horizontalPoints:b})),I.createElement(Sce,ss({},f,{verticalPoints:S})))}Hd.displayName="CartesianGrid";function sl(e){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(e)}function Pce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kk(n.key),n)}}function Ece(e,t,r){return t&&Oce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cce(e,t,r){return t=_m(t),Tce(e,Ck()?Reflect.construct(t,r||[],_m(e).constructor):t.apply(e,r))}function Tce(e,t){if(t&&(sl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kce(e)}function kce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ck(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ck=function(){return!!e})()}function _m(e){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_m(e)}function Mce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qx(e,t)}function qx(e,t){return qx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qx(e,t)}function Tk(e,t,r){return t=kk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kk(e){var t=$ce(e,"string");return sl(t)=="symbol"?t:t+""}function $ce(e,t){if(sl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Gx(){return Gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gx.apply(this,arguments)}function Dce(e){var t=e.xAxisId,r=Pb(),n=Ob(),i=yk(t);return i==null?null:_.createElement(Pl,Gx({},i,{className:Xe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return wa(o,!0)}}))}var Ao=function(e){function t(){return Pce(this,t),Cce(this,t,arguments)}return Mce(t,e),Ece(t,[{key:"render",value:function(){return _.createElement(Dce,this.props)}}])}(_.Component);Tk(Ao,"displayName","XAxis");Tk(Ao,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ol(e){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(e)}function Ice(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dk(n.key),n)}}function Rce(e,t,r){return t&&Lce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bce(e,t,r){return t=Am(t),Fce(e,Mk()?Reflect.construct(t,r||[],Am(e).constructor):t.apply(e,r))}function Fce(e,t){if(t&&(ol(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zce(e)}function zce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mk=function(){return!!e})()}function Am(e){return Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Am(e)}function Vce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kx(e,t)}function Kx(e,t){return Kx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kx(e,t)}function $k(e,t,r){return t=Dk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dk(e){var t=Uce(e,"string");return ol(t)=="symbol"?t:t+""}function Uce(e,t){if(ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Yx(){return Yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yx.apply(this,arguments)}var Wce=function(t){var r=t.yAxisId,n=Pb(),i=Ob(),s=vk(r);return s==null?null:_.createElement(Pl,Yx({},s,{className:Xe("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return wa(l,!0)}}))},Po=function(e){function t(){return Ice(this,t),Bce(this,t,arguments)}return Vce(t,e),Rce(t,[{key:"render",value:function(){return _.createElement(Wce,this.props)}}])}(_.Component);$k(Po,"displayName","YAxis");$k(Po,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function ZS(e){return Kce(e)||Gce(e)||qce(e)||Hce()}function Hce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qce(e,t){if(e){if(typeof e=="string")return Xx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xx(e,t)}}function Gce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kce(e){if(Array.isArray(e))return Xx(e)}function Xx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Jx=function(t,r,n,i,s){var o=jn(t,Cb),l=jn(t,Gh),c=[].concat(ZS(o),ZS(l)),u=jn(t,Yh),f="".concat(i,"Id"),d=i[0],m=r;if(c.length&&(m=c.reduce(function(g,w){if(w.props[f]===n&&ra(w.props,"extendDomain")&&xe(w.props[d])){var x=w.props[d];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},m)),u.length){var p="".concat(d,"1"),v="".concat(d,"2");m=u.reduce(function(g,w){if(w.props[f]===n&&ra(w.props,"extendDomain")&&xe(w.props[p])&&xe(w.props[v])){var x=w.props[p],y=w.props[v];return[Math.min(g[0],x,y),Math.max(g[1],x,y)]}return g},m)}return s&&s.length&&(m=s.reduce(function(g,w){return xe(w)?[Math.min(g[0],w),Math.max(g[1],w)]:g},m)),m},Ik={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function s(c,u,f,d,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new i(f,d||c,m),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],p]:c._events[v].push(p):(c._events[v]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var m=0,p=d.length,v=new Array(p);m<p;m++)v[m]=d[m].fn;return v},l.prototype.listenerCount=function(u){var f=r?r+u:u,d=this._events[f];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,f,d,m,p,v){var g=r?r+u:u;if(!this._events[g])return!1;var w=this._events[g],x=arguments.length,y,h;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),x){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,f),!0;case 3:return w.fn.call(w.context,f,d),!0;case 4:return w.fn.call(w.context,f,d,m),!0;case 5:return w.fn.call(w.context,f,d,m,p),!0;case 6:return w.fn.call(w.context,f,d,m,p,v),!0}for(h=1,y=new Array(x-1);h<x;h++)y[h-1]=arguments[h];w.fn.apply(w.context,y)}else{var N=w.length,j;for(h=0;h<N;h++)switch(w[h].once&&this.removeListener(u,w[h].fn,void 0,!0),x){case 1:w[h].fn.call(w[h].context);break;case 2:w[h].fn.call(w[h].context,f);break;case 3:w[h].fn.call(w[h].context,f,d);break;case 4:w[h].fn.call(w[h].context,f,d,m);break;default:if(!y)for(j=1,y=new Array(x-1);j<x;j++)y[j-1]=arguments[j];w[h].fn.apply(w[h].context,y)}}return!0},l.prototype.on=function(u,f,d){return s(this,u,f,d,!1)},l.prototype.once=function(u,f,d){return s(this,u,f,d,!0)},l.prototype.removeListener=function(u,f,d,m){var p=r?r+u:u;if(!this._events[p])return this;if(!f)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===f&&(!m||v.once)&&(!d||v.context===d)&&o(this,p);else{for(var g=0,w=[],x=v.length;g<x;g++)(v[g].fn!==f||m&&!v[g].once||d&&v[g].context!==d)&&w.push(v[g]);w.length?this._events[p]=w.length===1?w[0]:w:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Ik);var Yce=Ik.exports;const Xce=mt(Yce);var fg=new Xce,mg="recharts.syncMouseEvents";function Au(e){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(e)}function Jce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lk(n.key),n)}}function Qce(e,t,r){return t&&Zce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hg(e,t,r){return t=Lk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lk(e){var t=eue(e,"string");return Au(t)=="symbol"?t:t+""}function eue(e,t){if(Au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tue=function(){function e(){Jce(this,e),hg(this,"activeIndex",0),hg(this,"coordinateList",[]),hg(this,"layout","horizontal")}return Qce(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,f=r.offset,d=f===void 0?null:f,m=r.mouseHandlerCallback,p=m===void 0?null:m;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=s+c+u,m=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:d,pageY:m})}}}])}();function rue(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&xe(n)&&xe(i))return!0}return!1}function nue(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Rk(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,s=e.endAngle,o=Nt(t,r,n,i),l=Nt(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function aue(e,t,r){var n,i,s,o;if(e==="horizontal")n=t.x,s=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,d=t.angle,m=Nt(l,c,u,d),p=Nt(l,c,f,d);n=m.x,i=m.y,s=p.x,o=p.y}else return Rk(t);return[{x:n,y:i},{x:s,y:o}]}function Pu(e){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(e)}function QS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ad(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QS(Object(r),!0).forEach(function(n){iue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iue(e,t,r){return t=sue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sue(e){var t=oue(e,"string");return Pu(t)=="symbol"?t:t+""}function oue(e,t){if(Pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lue(e){var t,r,n=e.element,i=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,m=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!s||!o||m!=="ScatterChart"&&i!=="axis")return null;var v,g=bx;if(m==="ScatterChart")v=o,g=Bae;else if(m==="BarChart")v=nue(d,o,c,f),g=wb;else if(d==="radial"){var w=Rk(o),x=w.cx,y=w.cy,h=w.radius,N=w.startAngle,j=w.endAngle;v={cx:x,cy:y,startAngle:N,endAngle:j,innerRadius:h,outerRadius:h},g=LT}else v={points:aue(d,o,c)},g=bx;var b=Ad(Ad(Ad(Ad({stroke:"#ccc",pointerEvents:"none"},c),v),Ue(p,!1)),{},{payload:l,payloadIndex:u,className:Xe("recharts-tooltip-cursor",p.className)});return _.isValidElement(p)?_.cloneElement(p,b):_.createElement(g,b)}var cue=["item"],uue=["children","className","width","height","style","compact","title","desc"];function ll(e){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(e)}function fo(){return fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fo.apply(this,arguments)}function e_(e,t){return mue(e)||fue(e,t)||Fk(e,t)||due()}function due(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function mue(e){if(Array.isArray(e))return e}function t_(e,t){if(e==null)return{};var r=hue(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zk(n.key),n)}}function xue(e,t,r){return t&&gue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yue(e,t,r){return t=Pm(t),vue(e,Bk()?Reflect.construct(t,r||[],Pm(e).constructor):t.apply(e,r))}function vue(e,t){if(t&&(ll(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bue(e)}function bue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bk=function(){return!!e})()}function Pm(e){return Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pm(e)}function jue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zx(e,t)}function Zx(e,t){return Zx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zx(e,t)}function cl(e){return Sue(e)||Nue(e)||Fk(e)||wue()}function wue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fk(e,t){if(e){if(typeof e=="string")return Qx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qx(e,t)}}function Nue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sue(e){if(Array.isArray(e))return Qx(e)}function Qx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(r),!0).forEach(function(n){Fe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fe(e,t,r){return t=zk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zk(e){var t=_ue(e,"string");return ll(t)=="symbol"?t:t+""}function _ue(e,t){if(ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aue={xAxis:["bottom","top"],yAxis:["left","right"]},Pue={width:"100%",height:"100%"},Vk={x:0,y:0};function Pd(e){return e}var Oue=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Eue=function(t,r,n,i){var s=r.find(function(f){return f&&f.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=i.radius;return se(se(se({},i),Nt(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=i.angle;return se(se(se({},i),Nt(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return Vk},Xh=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(cl(l),cl(u)):l},[]);return o.length>0?o:t&&t.length&&xe(i)&&xe(s)?t.slice(i,s+1):[]};function Uk(e){return e==="number"?[0,"auto"]:void 0}var ey=function(t,r,n,i){var s=t.graphicalItems,o=t.tooltipAxis,l=Xh(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var f,d=(f=u.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var p=d===void 0?l:d;m=O0(p,o.dataKey,i)}else m=d&&d[n]||l[n];return m?[].concat(cl(c),[TT(u,m)]):c},[])},n_=function(t,r,n,i){var s=i||{x:t.chartX,y:t.chartY},o=Oue(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=ite(o,l,u,c);if(f>=0&&u){var d=u[f]&&u[f].value,m=ey(t,r,f,d),p=Eue(n,l,f,s);return{activeTooltipIndex:f,activeLabel:d,activePayload:m,activeCoordinate:p}}return null},Cue=function(t,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,m=t.stackOffset,p=_T(f,s);return n.reduce(function(v,g){var w,x=g.type.defaultProps!==void 0?se(se({},g.type.defaultProps),g.props):g.props,y=x.type,h=x.dataKey,N=x.allowDataOverflow,j=x.allowDuplicatedCategory,b=x.scale,S=x.ticks,P=x.includeHidden,A=x[o];if(v[A])return v;var E=Xh(t.data,{graphicalItems:i.filter(function(K){var oe,B=o in K.props?K.props[o]:(oe=K.type.defaultProps)===null||oe===void 0?void 0:oe[o];return B===A}),dataStartIndex:c,dataEndIndex:u}),O=E.length,C,T,R;rue(x.domain,N,y)&&(C=px(x.domain,null,N),p&&(y==="number"||b!=="auto")&&(R=xc(E,h,"category")));var z=Uk(y);if(!C||C.length===0){var G,X=(G=x.domain)!==null&&G!==void 0?G:z;if(h){if(C=xc(E,h,y),y==="category"&&p){var F=Yz(C);j&&F?(T=C,C=pm(0,O)):j||(C=T2(X,C,g).reduce(function(K,oe){return K.indexOf(oe)>=0?K:[].concat(cl(K),[oe])},[]))}else if(y==="category")j?C=C.filter(function(K){return K!==""&&!Je(K)}):C=T2(X,C,g).reduce(function(K,oe){return K.indexOf(oe)>=0||oe===""||Je(oe)?K:[].concat(cl(K),[oe])},[]);else if(y==="number"){var Y=ute(E,i.filter(function(K){var oe,B,M=o in K.props?K.props[o]:(oe=K.type.defaultProps)===null||oe===void 0?void 0:oe[o],re="hide"in K.props?K.props.hide:(B=K.type.defaultProps)===null||B===void 0?void 0:B.hide;return M===A&&(P||!re)}),h,s,f);Y&&(C=Y)}p&&(y==="number"||b!=="auto")&&(R=xc(E,h,"category"))}else p?C=pm(0,O):l&&l[A]&&l[A].hasStack&&y==="number"?C=m==="expand"?[0,1]:CT(l[A].stackGroups,c,u):C=ST(E,i.filter(function(K){var oe=o in K.props?K.props[o]:K.type.defaultProps[o],B="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return oe===A&&(P||!B)}),y,f,!0);if(y==="number")C=Jx(d,C,A,s,S),X&&(C=px(X,C,N));else if(y==="category"&&X){var J=X,k=C.every(function(K){return J.indexOf(K)>=0});k&&(C=J)}}return se(se({},v),{},Fe({},A,se(se({},x),{},{axisType:s,domain:C,categoricalDomain:R,duplicateDomain:T,originalDomain:(w=x.domain)!==null&&w!==void 0?w:z,isCategorical:p,layout:f})))},{})},Tue=function(t,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,m=Xh(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=m.length,v=_T(f,s),g=-1;return n.reduce(function(w,x){var y=x.type.defaultProps!==void 0?se(se({},x.type.defaultProps),x.props):x.props,h=y[o],N=Uk("number");if(!w[h]){g++;var j;return v?j=pm(0,p):l&&l[h]&&l[h].hasStack?(j=CT(l[h].stackGroups,c,u),j=Jx(d,j,h,s)):(j=px(N,ST(m,n.filter(function(b){var S,P,A=o in b.props?b.props[o]:(S=b.type.defaultProps)===null||S===void 0?void 0:S[o],E="hide"in b.props?b.props.hide:(P=b.type.defaultProps)===null||P===void 0?void 0:P.hide;return A===h&&!E}),"number",f),i.defaultProps.allowDataOverflow),j=Jx(d,j,h,s)),se(se({},w),{},Fe({},h,se(se({axisType:s},i.defaultProps),{},{hide:!0,orientation:tn(Aue,"".concat(s,".").concat(g%2),null),domain:j,originalDomain:N,isCategorical:v,layout:f})))}return w},{})},kue=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.children,d="".concat(i,"Id"),m=jn(f,s),p={};return m&&m.length?p=Cue(t,{axes:m,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=Tue(t,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},Mue=function(t){var r=ai(t),n=wa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Yv(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:rm(r,n)}},a_=function(t){var r=t.children,n=t.defaultShowTooltip,i=Xr(r,el),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},$ue=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ea(r&&r.type);return n&&n.indexOf("Bar")>=0})},i_=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Due=function(t,r){var n=t.props,i=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,d=n.children,m=n.margin||{},p=Xr(d,el),v=Xr(d,Ca),g=Object.keys(c).reduce(function(j,b){var S=c[b],P=S.orientation;return!S.mirror&&!S.hide?se(se({},j),{},Fe({},P,j[P]+S.width)):j},{left:m.left||0,right:m.right||0}),w=Object.keys(o).reduce(function(j,b){var S=o[b],P=S.orientation;return!S.mirror&&!S.hide?se(se({},j),{},Fe({},P,tn(j,"".concat(P))+S.height)):j},{top:m.top||0,bottom:m.bottom||0}),x=se(se({},w),g),y=x.bottom;p&&(x.bottom+=p.props.height||el.defaultProps.height),v&&r&&(x=lte(x,i,n,r));var h=u-x.left-x.right,N=f-x.top-x.bottom;return se(se({brushBottom:y},x),{},{width:Math.max(h,0),height:Math.max(N,0)})},Iue=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Wk=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,m=function(x,y){var h=y.graphicalItems,N=y.stackGroups,j=y.offset,b=y.updateId,S=y.dataStartIndex,P=y.dataEndIndex,A=x.barSize,E=x.layout,O=x.barGap,C=x.barCategoryGap,T=x.maxBarSize,R=i_(E),z=R.numericAxisName,G=R.cateAxisName,X=$ue(h),F=[];return h.forEach(function(Y,J){var k=Xh(x.data,{graphicalItems:[Y],dataStartIndex:S,dataEndIndex:P}),K=Y.type.defaultProps!==void 0?se(se({},Y.type.defaultProps),Y.props):Y.props,oe=K.dataKey,B=K.maxBarSize,M=K["".concat(z,"Id")],re=K["".concat(G,"Id")],we={},be=c.reduce(function(ve,De){var $e=y["".concat(De.axisType,"Map")],Qe=K["".concat(De.axisType,"Id")];$e&&$e[Qe]||De.axisType==="zAxis"||As();var je=$e[Qe];return se(se({},ve),{},Fe(Fe({},De.axisType,je),"".concat(De.axisType,"Ticks"),wa(je)))},we),$=be[G],ae=be["".concat(G,"Ticks")],fe=N&&N[M]&&N[M].hasStack&&vte(Y,N[M].stackGroups),q=Ea(Y.type).indexOf("Bar")>=0,ye=rm($,ae),Ne=[],V=X&&ste({barSize:A,stackGroups:N,totalSize:Iue(be,G)});if(q){var me,Se,We=Je(B)?T:B,Ie=(me=(Se=rm($,ae,!0))!==null&&Se!==void 0?Se:We)!==null&&me!==void 0?me:0;Ne=ote({barGap:O,barCategoryGap:C,bandSize:Ie!==ye?Ie:ye,sizeList:V[re],maxBarSize:We}),Ie!==ye&&(Ne=Ne.map(function(ve){return se(se({},ve),{},{position:se(se({},ve.position),{},{offset:ve.position.offset-Ie/2})})}))}var H=Y&&Y.type&&Y.type.getComposedData;H&&F.push({props:se(se({},H(se(se({},be),{},{displayedData:k,props:x,dataKey:oe,item:Y,bandSize:ye,barPosition:Ne,offset:j,stackedData:fe,layout:E,dataStartIndex:S,dataEndIndex:P}))),{},Fe(Fe(Fe({key:Y.key||"item-".concat(J)},z,be[z]),G,be[G]),"animationId",b)),childIndex:o7(Y,x.children),item:Y})}),F},p=function(x,y){var h=x.props,N=x.dataStartIndex,j=x.dataEndIndex,b=x.updateId;if(!_1({props:h}))return null;var S=h.children,P=h.layout,A=h.stackOffset,E=h.data,O=h.reverseStackOrder,C=i_(P),T=C.numericAxisName,R=C.cateAxisName,z=jn(S,n),G=xte(E,z,"".concat(T,"Id"),"".concat(R,"Id"),A,O),X=c.reduce(function(K,oe){var B="".concat(oe.axisType,"Map");return se(se({},K),{},Fe({},B,kue(h,se(se({},oe),{},{graphicalItems:z,stackGroups:oe.axisType===T&&G,dataStartIndex:N,dataEndIndex:j}))))},{}),F=Due(se(se({},X),{},{props:h,graphicalItems:z}),y==null?void 0:y.legendBBox);Object.keys(X).forEach(function(K){X[K]=f(h,X[K],F,K.replace("Map",""),r)});var Y=X["".concat(R,"Map")],J=Mue(Y),k=m(h,se(se({},X),{},{dataStartIndex:N,dataEndIndex:j,updateId:b,graphicalItems:z,stackGroups:G,offset:F}));return se(se({formattedGraphicalItems:k,graphicalItems:z,offset:F,stackGroups:G},J),X)},v=function(w){function x(y){var h,N,j;return pue(this,x),j=yue(this,x,[y]),Fe(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Fe(j,"accessibilityManager",new tue),Fe(j,"handleLegendBBoxUpdate",function(b){if(b){var S=j.state,P=S.dataStartIndex,A=S.dataEndIndex,E=S.updateId;j.setState(se({legendBBox:b},p({props:j.props,dataStartIndex:P,dataEndIndex:A,updateId:E},se(se({},j.state),{},{legendBBox:b}))))}}),Fe(j,"handleReceiveSyncEvent",function(b,S,P){if(j.props.syncId===b){if(P===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(S)}}),Fe(j,"handleBrushChange",function(b){var S=b.startIndex,P=b.endIndex;if(S!==j.state.dataStartIndex||P!==j.state.dataEndIndex){var A=j.state.updateId;j.setState(function(){return se({dataStartIndex:S,dataEndIndex:P},p({props:j.props,dataStartIndex:S,dataEndIndex:P,updateId:A},j.state))}),j.triggerSyncEvent({dataStartIndex:S,dataEndIndex:P})}}),Fe(j,"handleMouseEnter",function(b){var S=j.getMouseInfo(b);if(S){var P=se(se({},S),{},{isTooltipActive:!0});j.setState(P),j.triggerSyncEvent(P);var A=j.props.onMouseEnter;He(A)&&A(P,b)}}),Fe(j,"triggeredAfterMouseMove",function(b){var S=j.getMouseInfo(b),P=S?se(se({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(P),j.triggerSyncEvent(P);var A=j.props.onMouseMove;He(A)&&A(P,b)}),Fe(j,"handleItemMouseEnter",function(b){j.setState(function(){return{isTooltipActive:!0,activeItem:b,activePayload:b.tooltipPayload,activeCoordinate:b.tooltipPosition||{x:b.cx,y:b.cy}}})}),Fe(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Fe(j,"handleMouseMove",function(b){b.persist(),j.throttleTriggeredAfterMouseMove(b)}),Fe(j,"handleMouseLeave",function(b){j.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};j.setState(S),j.triggerSyncEvent(S);var P=j.props.onMouseLeave;He(P)&&P(S,b)}),Fe(j,"handleOuterEvent",function(b){var S=s7(b),P=tn(j.props,"".concat(S));if(S&&He(P)){var A,E;/.*touch.*/i.test(S)?E=j.getMouseInfo(b.changedTouches[0]):E=j.getMouseInfo(b),P((A=E)!==null&&A!==void 0?A:{},b)}}),Fe(j,"handleClick",function(b){var S=j.getMouseInfo(b);if(S){var P=se(se({},S),{},{isTooltipActive:!0});j.setState(P),j.triggerSyncEvent(P);var A=j.props.onClick;He(A)&&A(P,b)}}),Fe(j,"handleMouseDown",function(b){var S=j.props.onMouseDown;if(He(S)){var P=j.getMouseInfo(b);S(P,b)}}),Fe(j,"handleMouseUp",function(b){var S=j.props.onMouseUp;if(He(S)){var P=j.getMouseInfo(b);S(P,b)}}),Fe(j,"handleTouchMove",function(b){b.changedTouches!=null&&b.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(b.changedTouches[0])}),Fe(j,"handleTouchStart",function(b){b.changedTouches!=null&&b.changedTouches.length>0&&j.handleMouseDown(b.changedTouches[0])}),Fe(j,"handleTouchEnd",function(b){b.changedTouches!=null&&b.changedTouches.length>0&&j.handleMouseUp(b.changedTouches[0])}),Fe(j,"handleDoubleClick",function(b){var S=j.props.onDoubleClick;if(He(S)){var P=j.getMouseInfo(b);S(P,b)}}),Fe(j,"handleContextMenu",function(b){var S=j.props.onContextMenu;if(He(S)){var P=j.getMouseInfo(b);S(P,b)}}),Fe(j,"triggerSyncEvent",function(b){j.props.syncId!==void 0&&fg.emit(mg,j.props.syncId,b,j.eventEmitterSymbol)}),Fe(j,"applySyncEvent",function(b){var S=j.props,P=S.layout,A=S.syncMethod,E=j.state.updateId,O=b.dataStartIndex,C=b.dataEndIndex;if(b.dataStartIndex!==void 0||b.dataEndIndex!==void 0)j.setState(se({dataStartIndex:O,dataEndIndex:C},p({props:j.props,dataStartIndex:O,dataEndIndex:C,updateId:E},j.state)));else if(b.activeTooltipIndex!==void 0){var T=b.chartX,R=b.chartY,z=b.activeTooltipIndex,G=j.state,X=G.offset,F=G.tooltipTicks;if(!X)return;if(typeof A=="function")z=A(F,b);else if(A==="value"){z=-1;for(var Y=0;Y<F.length;Y++)if(F[Y].value===b.activeLabel){z=Y;break}}var J=se(se({},X),{},{x:X.left,y:X.top}),k=Math.min(T,J.x+J.width),K=Math.min(R,J.y+J.height),oe=F[z]&&F[z].value,B=ey(j.state,j.props.data,z),M=F[z]?{x:P==="horizontal"?F[z].coordinate:k,y:P==="horizontal"?K:F[z].coordinate}:Vk;j.setState(se(se({},b),{},{activeLabel:oe,activeCoordinate:M,activePayload:B,activeTooltipIndex:z}))}else j.setState(b)}),Fe(j,"renderCursor",function(b){var S,P=j.state,A=P.isTooltipActive,E=P.activeCoordinate,O=P.activePayload,C=P.offset,T=P.activeTooltipIndex,R=P.tooltipAxisBandSize,z=j.getTooltipEventType(),G=(S=b.props.active)!==null&&S!==void 0?S:A,X=j.props.layout,F=b.key||"_recharts-cursor";return I.createElement(lue,{key:F,activeCoordinate:E,activePayload:O,activeTooltipIndex:T,chartName:r,element:b,isActive:G,layout:X,offset:C,tooltipAxisBandSize:R,tooltipEventType:z})}),Fe(j,"renderPolarAxis",function(b,S,P){var A=tn(b,"type.axisType"),E=tn(j.state,"".concat(A,"Map")),O=b.type.defaultProps,C=O!==void 0?se(se({},O),b.props):b.props,T=E&&E[C["".concat(A,"Id")]];return _.cloneElement(b,se(se({},T),{},{className:Xe(A,T.className),key:b.key||"".concat(S,"-").concat(P),ticks:wa(T,!0)}))}),Fe(j,"renderPolarGrid",function(b){var S=b.props,P=S.radialLines,A=S.polarAngles,E=S.polarRadius,O=j.state,C=O.radiusAxisMap,T=O.angleAxisMap,R=ai(C),z=ai(T),G=z.cx,X=z.cy,F=z.innerRadius,Y=z.outerRadius;return _.cloneElement(b,{polarAngles:Array.isArray(A)?A:wa(z,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(E)?E:wa(R,!0).map(function(J){return J.coordinate}),cx:G,cy:X,innerRadius:F,outerRadius:Y,key:b.key||"polar-grid",radialLines:P})}),Fe(j,"renderLegend",function(){var b=j.state.formattedGraphicalItems,S=j.props,P=S.children,A=S.width,E=S.height,O=j.props.margin||{},C=A-(O.left||0)-(O.right||0),T=wT({children:P,formattedGraphicalItems:b,legendWidth:C,legendContent:u});if(!T)return null;var R=T.item,z=t_(T,cue);return _.cloneElement(R,se(se({},z),{},{chartWidth:A,chartHeight:E,margin:O,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Fe(j,"renderTooltip",function(){var b,S=j.props,P=S.children,A=S.accessibilityLayer,E=Xr(P,Lr);if(!E)return null;var O=j.state,C=O.isTooltipActive,T=O.activeCoordinate,R=O.activePayload,z=O.activeLabel,G=O.offset,X=(b=E.props.active)!==null&&b!==void 0?b:C;return _.cloneElement(E,{viewBox:se(se({},G),{},{x:G.left,y:G.top}),active:X,label:z,payload:X?R:[],coordinate:T,accessibilityLayer:A})}),Fe(j,"renderBrush",function(b){var S=j.props,P=S.margin,A=S.data,E=j.state,O=E.offset,C=E.dataStartIndex,T=E.dataEndIndex,R=E.updateId;return _.cloneElement(b,{key:b.key||"_recharts-brush",onChange:wd(j.handleBrushChange,b.props.onChange),data:A,x:xe(b.props.x)?b.props.x:O.left,y:xe(b.props.y)?b.props.y:O.top+O.height+O.brushBottom-(P.bottom||0),width:xe(b.props.width)?b.props.width:O.width,startIndex:C,endIndex:T,updateId:"brush-".concat(R)})}),Fe(j,"renderReferenceElement",function(b,S,P){if(!b)return null;var A=j,E=A.clipPathId,O=j.state,C=O.xAxisMap,T=O.yAxisMap,R=O.offset,z=b.type.defaultProps||{},G=b.props,X=G.xAxisId,F=X===void 0?z.xAxisId:X,Y=G.yAxisId,J=Y===void 0?z.yAxisId:Y;return _.cloneElement(b,{key:b.key||"".concat(S,"-").concat(P),xAxis:C[F],yAxis:T[J],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:E})}),Fe(j,"renderActivePoints",function(b){var S=b.item,P=b.activePoint,A=b.basePoint,E=b.childIndex,O=b.isRange,C=[],T=S.props.key,R=S.item.type.defaultProps!==void 0?se(se({},S.item.type.defaultProps),S.item.props):S.item.props,z=R.activeDot,G=R.dataKey,X=se(se({index:E,dataKey:G,cx:P.x,cy:P.y,r:4,fill:jb(S.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Ue(z,!1)),Ef(z));return C.push(x.renderActiveDot(z,X,"".concat(T,"-activePoint-").concat(E))),A?C.push(x.renderActiveDot(z,se(se({},X),{},{cx:A.x,cy:A.y}),"".concat(T,"-basePoint-").concat(E))):O&&C.push(null),C}),Fe(j,"renderGraphicChild",function(b,S,P){var A=j.filterFormatItem(b,S,P);if(!A)return null;var E=j.getTooltipEventType(),O=j.state,C=O.isTooltipActive,T=O.tooltipAxis,R=O.activeTooltipIndex,z=O.activeLabel,G=j.props.children,X=Xr(G,Lr),F=A.props,Y=F.points,J=F.isRange,k=F.baseLine,K=A.item.type.defaultProps!==void 0?se(se({},A.item.type.defaultProps),A.item.props):A.item.props,oe=K.activeDot,B=K.hide,M=K.activeBar,re=K.activeShape,we=!!(!B&&C&&X&&(oe||M||re)),be={};E!=="axis"&&X&&X.props.trigger==="click"?be={onClick:wd(j.handleItemMouseEnter,b.props.onClick)}:E!=="axis"&&(be={onMouseLeave:wd(j.handleItemMouseLeave,b.props.onMouseLeave),onMouseEnter:wd(j.handleItemMouseEnter,b.props.onMouseEnter)});var $=_.cloneElement(b,se(se({},A.props),be));function ae(De){return typeof T.dataKey=="function"?T.dataKey(De.payload):null}if(we)if(R>=0){var fe,q;if(T.dataKey&&!T.allowDuplicatedCategory){var ye=typeof T.dataKey=="function"?ae:"payload.".concat(T.dataKey.toString());fe=O0(Y,ye,z),q=J&&k&&O0(k,ye,z)}else fe=Y==null?void 0:Y[R],q=J&&k&&k[R];if(re||M){var Ne=b.props.activeIndex!==void 0?b.props.activeIndex:R;return[_.cloneElement(b,se(se(se({},A.props),be),{},{activeIndex:Ne})),null,null]}if(!Je(fe))return[$].concat(cl(j.renderActivePoints({item:A,activePoint:fe,basePoint:q,childIndex:R,isRange:J})))}else{var V,me=(V=j.getItemByXY(j.state.activeCoordinate))!==null&&V!==void 0?V:{graphicalItem:$},Se=me.graphicalItem,We=Se.item,Ie=We===void 0?b:We,H=Se.childIndex,ve=se(se(se({},A.props),be),{},{activeIndex:H});return[_.cloneElement(Ie,ve),null,null]}return J?[$,null,null]:[$,null]}),Fe(j,"renderCustomized",function(b,S,P){return _.cloneElement(b,se(se({key:"recharts-customized-".concat(P)},j.props),j.state))}),Fe(j,"renderMap",{CartesianGrid:{handler:Pd,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Pd},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Pd},YAxis:{handler:Pd},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((h=y.id)!==null&&h!==void 0?h:Bu("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=jC(j.triggeredAfterMouseMove,(N=y.throttleDelay)!==null&&N!==void 0?N:1e3/60),j.state={},j}return jue(x,w),xue(x,[{key:"componentDidMount",value:function(){var h,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(h=this.props.margin.left)!==null&&h!==void 0?h:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var h=this.props,N=h.children,j=h.data,b=h.height,S=h.layout,P=Xr(N,Lr);if(P){var A=P.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,O=ey(this.state,j,A,E),C=this.state.tooltipTicks[A].coordinate,T=(this.state.offset.top+b)/2,R=S==="horizontal",z=R?{x:C,y:T}:{y:C,x:T},G=this.state.formattedGraphicalItems.find(function(F){var Y=F.item;return Y.type.name==="Scatter"});G&&(z=se(se({},z),G.props.points[A].tooltipPosition),O=G.props.points[A].tooltipPayload);var X={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:E,activePayload:O,activeCoordinate:z};this.setState(X),this.renderCursor(P),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(h,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==h.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==h.margin){var j,b;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(b=this.props.margin.top)!==null&&b!==void 0?b:0}})}return null}},{key:"componentDidUpdate",value:function(h){C0([Xr(h.children,Lr)],[Xr(this.props.children,Lr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var h=Xr(this.props.children,Lr);if(h&&typeof h.props.shared=="boolean"){var N=h.props.shared?"axis":"item";return l.indexOf(N)>=0?N:s}return s}},{key:"getMouseInfo",value:function(h){if(!this.container)return null;var N=this.container,j=N.getBoundingClientRect(),b=MX(j),S={chartX:Math.round(h.pageX-b.left),chartY:Math.round(h.pageY-b.top)},P=j.width/N.offsetWidth||1,A=this.inRange(S.chartX,S.chartY,P);if(!A)return null;var E=this.state,O=E.xAxisMap,C=E.yAxisMap,T=this.getTooltipEventType(),R=n_(this.state,this.props.data,this.props.layout,A);if(T!=="axis"&&O&&C){var z=ai(O).scale,G=ai(C).scale,X=z&&z.invert?z.invert(S.chartX):null,F=G&&G.invert?G.invert(S.chartY):null;return se(se({},S),{},{xValue:X,yValue:F},R)}return R?se(se({},S),R):null}},{key:"inRange",value:function(h,N){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,b=this.props.layout,S=h/j,P=N/j;if(b==="horizontal"||b==="vertical"){var A=this.state.offset,E=S>=A.left&&S<=A.left+A.width&&P>=A.top&&P<=A.top+A.height;return E?{x:S,y:P}:null}var O=this.state,C=O.angleAxisMap,T=O.radiusAxisMap;if(C&&T){var R=ai(C);return $2({x:S,y:P},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var h=this.props.children,N=this.getTooltipEventType(),j=Xr(h,Lr),b={};j&&N==="axis"&&(j.props.trigger==="click"?b={onClick:this.handleClick}:b={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Ef(this.props,this.handleOuterEvent);return se(se({},S),b)}},{key:"addListener",value:function(){fg.on(mg,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){fg.removeListener(mg,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(h,N,j){for(var b=this.state.formattedGraphicalItems,S=0,P=b.length;S<P;S++){var A=b[S];if(A.item===h||A.props.key===h.key||N===Ea(A.item.type)&&j===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var h=this.clipPathId,N=this.state.offset,j=N.left,b=N.top,S=N.height,P=N.width;return I.createElement("defs",null,I.createElement("clipPath",{id:h},I.createElement("rect",{x:j,y:b,height:S,width:P})))}},{key:"getXScales",value:function(){var h=this.state.xAxisMap;return h?Object.entries(h).reduce(function(N,j){var b=e_(j,2),S=b[0],P=b[1];return se(se({},N),{},Fe({},S,P.scale))},{}):null}},{key:"getYScales",value:function(){var h=this.state.yAxisMap;return h?Object.entries(h).reduce(function(N,j){var b=e_(j,2),S=b[0],P=b[1];return se(se({},N),{},Fe({},S,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(h){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[h])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(h){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[h])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(h){var N=this.state,j=N.formattedGraphicalItems,b=N.activeItem;if(j&&j.length)for(var S=0,P=j.length;S<P;S++){var A=j[S],E=A.props,O=A.item,C=O.type.defaultProps!==void 0?se(se({},O.type.defaultProps),O.props):O.props,T=Ea(O.type);if(T==="Bar"){var R=(E.data||[]).find(function(F){return vae(h,F)});if(R)return{graphicalItem:A,payload:R}}else if(T==="RadialBar"){var z=(E.data||[]).find(function(F){return $2(h,F)});if(z)return{graphicalItem:A,payload:z}}else if(Uh(A,b)||Wh(A,b)||ju(A,b)){var G=ose({graphicalItem:A,activeTooltipItem:b,itemData:C.data}),X=C.activeIndex===void 0?G:C.activeIndex;return{graphicalItem:se(se({},A),{},{childIndex:X}),payload:ju(A,b)?C.data[G]:A.props.data[G]}}}return null}},{key:"render",value:function(){var h=this;if(!_1(this))return null;var N=this.props,j=N.children,b=N.className,S=N.width,P=N.height,A=N.style,E=N.compact,O=N.title,C=N.desc,T=t_(N,uue),R=Ue(T,!1);if(E)return I.createElement(BS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement(k0,fo({},R,{width:S,height:P,title:O,desc:C}),this.renderClipPath(),P1(j,this.renderMap)));if(this.props.accessibilityLayer){var z,G;R.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,R.role=(G=this.props.role)!==null&&G!==void 0?G:"application",R.onKeyDown=function(F){h.accessibilityManager.keyboardEvent(F)},R.onFocus=function(){h.accessibilityManager.focus()}}var X=this.parseEventsOfWrapper();return I.createElement(BS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",fo({className:Xe("recharts-wrapper",b),style:se({position:"relative",cursor:"default",width:S,height:P},A)},X,{ref:function(Y){h.container=Y}}),I.createElement(k0,fo({},R,{width:S,height:P,title:O,desc:C,style:Pue}),this.renderClipPath(),P1(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(_.Component);Fe(v,"displayName",r),Fe(v,"defaultProps",se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Fe(v,"getDerivedStateFromProps",function(w,x){var y=w.dataKey,h=w.data,N=w.children,j=w.width,b=w.height,S=w.layout,P=w.stackOffset,A=w.margin,E=x.dataStartIndex,O=x.dataEndIndex;if(x.updateId===void 0){var C=a_(w);return se(se(se({},C),{},{updateId:0},p(se(se({props:w},C),{},{updateId:0}),x)),{},{prevDataKey:y,prevData:h,prevWidth:j,prevHeight:b,prevLayout:S,prevStackOffset:P,prevMargin:A,prevChildren:N})}if(y!==x.prevDataKey||h!==x.prevData||j!==x.prevWidth||b!==x.prevHeight||S!==x.prevLayout||P!==x.prevStackOffset||!No(A,x.prevMargin)){var T=a_(w),R={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},z=se(se({},n_(x,h,S)),{},{updateId:x.updateId+1}),G=se(se(se({},T),R),z);return se(se(se({},G),p(se({props:w},G),x)),{},{prevDataKey:y,prevData:h,prevWidth:j,prevHeight:b,prevLayout:S,prevStackOffset:P,prevMargin:A,prevChildren:N})}if(!C0(N,x.prevChildren)){var X,F,Y,J,k=Xr(N,el),K=k&&(X=(F=k.props)===null||F===void 0?void 0:F.startIndex)!==null&&X!==void 0?X:E,oe=k&&(Y=(J=k.props)===null||J===void 0?void 0:J.endIndex)!==null&&Y!==void 0?Y:O,B=K!==E||oe!==O,M=!Je(h),re=M&&!B?x.updateId:x.updateId+1;return se(se({updateId:re},p(se(se({props:w},x),{},{updateId:re,dataStartIndex:K,dataEndIndex:oe}),x)),{},{prevChildren:N,dataStartIndex:K,dataEndIndex:oe})}return null}),Fe(v,"renderActiveDot",function(w,x,y){var h;return _.isValidElement(w)?h=_.cloneElement(w,x):He(w)?h=w(x):h=I.createElement(Nb,x),I.createElement(dt,{className:"recharts-active-dot",key:y},h)});var g=_.forwardRef(function(x,y){return I.createElement(v,fo({},x,{ref:y}))});return g.displayName=v.displayName,g},pg=Wk({chartName:"BarChart",GraphicalChild:Xn,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ao},{axisType:"yAxis",AxisComp:Po}],formatAxisMap:Boe}),s_=Wk({chartName:"PieChart",GraphicalChild:la,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Vh},{axisType:"radiusAxis",AxisComp:Fh}],formatAxisMap:Ete,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function Lue(){const e=nt(),[t,r]=_.useState(!0),[n,i]=_.useState(Oe(wo(new Date,1),"yyyy-MM-dd")),[s,o]=_.useState(Oe(new Date,"yyyy-MM-dd")),[l,c]=_.useState("mois"),[u,f]=_.useState("all"),[d,m]=_.useState("all"),[p,v]=_.useState("all"),[g,w]=_.useState("all"),[x,y]=_.useState({eleves:[],presences:[],paiements:[],accidents:[],inscriptions:[],buses:[],demandes:[],signalements:[],essence:[],tuteurs:[]}),h=["#F59E0B","#3B82F6","#10B981","#EF4444","#8B5CF6","#EC4899"];_.useEffect(()=>{b();const V=setInterval(b,3e4);return()=>clearInterval(V)},[]);const[N,j]=_.useState(!0);_.useEffect(()=>{if(N){j(!1);return}if(n&&s){const V=setTimeout(()=>{b()},500);return()=>clearTimeout(V)}},[n,s]),_.useEffect(()=>{const V=new Date;switch(l){case"aujourdhui":i(Oe(V,"yyyy-MM-dd")),o(Oe(V,"yyyy-MM-dd"));break;case"hier":i(Oe(Of(V,1),"yyyy-MM-dd")),o(Oe(Of(V,1),"yyyy-MM-dd"));break;case"semaine":i(Oe(lR(V),"yyyy-MM-dd")),o(Oe(V,"yyyy-MM-dd"));break;case"mois":i(Oe(wo(V,1),"yyyy-MM-dd")),o(Oe(V,"yyyy-MM-dd"));break;case"annee":i(Oe(cR(V),"yyyy-MM-dd")),o(Oe(V,"yyyy-MM-dd"));break}},[l]);const b=async()=>{var V,me,Se,We,Ie,H,ve,De,$e;r(!0);try{const[Qe,je,Ct,qe,Le,pt,et,pr,da]=await Promise.allSettled([kt.getAll(),Hm.getAll(),Ia.getAll(),Sr.getAll(),bn.getAll(),qt.getAll(),ki.getAll(),Sa.getAll(),vo.getAll()]),Ga=Qe.status==="fulfilled"?((V=Qe.value)==null?void 0:V.data)||Qe.value||[]:[],rr=je.status==="fulfilled"?((me=je.value)==null?void 0:me.data)||je.value||[]:[],on=Ct.status==="fulfilled"?((Se=Ct.value)==null?void 0:Se.data)||Ct.value||[]:[],W=qe.status==="fulfilled"?((We=qe.value)==null?void 0:We.data)||qe.value||[]:[],ge=Le.status==="fulfilled"?((Ie=Le.value)==null?void 0:Ie.data)||Le.value||[]:[],L=pt.status==="fulfilled"?((H=pt.value)==null?void 0:H.data)||pt.value||[]:[],ie=et.status==="fulfilled"?((ve=et.value)==null?void 0:ve.data)||et.value||[]:[],le=pr.status==="fulfilled"?((De=pr.value)==null?void 0:De.data)||pr.value||[]:[],Z=da.status==="fulfilled"?(($e=da.value)==null?void 0:$e.data)||da.value||[]:[],ce=Array.isArray(L)?L.filter(Ge=>Ge.type_demande==="inscription"):[],ee=Array.isArray(Ga)?Ga.filter(Ge=>{const Be=Array.isArray(ce)?ce.filter(nr=>nr.eleve_id===Ge.id).sort((nr,Is)=>new Date(Is.date_creation||0)-new Date(nr.date_creation||0))[0]:null;return(Be==null?void 0:Be.statut)==="Refuse"?!1:(Array.isArray(ge)?ge.find(nr=>nr.eleve_id===Ge.id&&nr.statut==="Active"):null)!==null||Be&&["Inscrit","Valide","Paye","En attente de paiement","En cours de traitement"].includes(Be.statut)}):[],D=Array.isArray(rr)?rr:[],de=Array.isArray(ce)?ce.filter(Ge=>Ge.statut==="Paye"&&Ge.montant_facture).map(Ge=>{let Be=Ge.date_traitement||Ge.date_creation;return Be?typeof Be=="string"&&Be.includes(" ")&&(Be=Be.split(" ")[0]):Be=new Date().toISOString().split("T")[0],{id:`demande_${Ge.id}`,montant:parseFloat(Ge.montant_facture)||0,date_paiement:Be,statut:"Pay",type_paiement:"initial"}}):[],Re=[...D,...de];let ze=[];try{const Ge=new Date(n),Be=new Date(s),Ye=[];for(let nr=new Date(Ge);nr<=Be;nr.setDate(nr.getDate()+1)){const Is=Oe(nr,"yyyy-MM-dd");Ye.push(Wn.getByDate(Is).catch(()=>({data:[]})))}ze=(await Promise.allSettled(Ye)).filter(nr=>nr.status==="fulfilled").flatMap(nr=>{var Mb;const Is=((Mb=nr.value)==null?void 0:Mb.data)||nr.value||[];return Array.isArray(Is)?Is:[]})}catch(Ge){console.warn("Prsences non disponibles:",Ge)}y({eleves:ee,presences:ze,paiements:Re,accidents:on,inscriptions:ge,buses:W,demandes:L,tuteurs:ie,signalements:Array.isArray(le)?le:[],essence:Array.isArray(Z)?Z:[]})}catch(Qe){console.error("Erreur lors du chargement des statistiques:",Qe),y({eleves:[],presences:[],paiements:[],accidents:[],inscriptions:[],buses:[],demandes:[],tuteurs:[],signalements:[],essence:[]})}finally{r(!1)}},S=(V,me="date")=>V.filter(Se=>{const We=Se[me]||Se.date_creation;if(!We)return!1;const Ie=new Date(We);return Ie>=new Date(n)&&Ie<=new Date(s+"T23:59:59")}),P=["1AP","2AP","3AP","4AP","5AP","6AP","1AC","2AC","3AC","TC","1BAC","2BAC"],A=["Primaire","Collge","Lyce"],E=V=>{const me=(V||"").toUpperCase();return["1AP","2AP","3AP","4AP","5AP","6AP"].includes(me)?"Primaire":["1AC","2AC","3AC"].includes(me)?"Collge":["TC","1BAC","2BAC"].includes(me)?"Lyce":null},O=x.eleves.filter(V=>{var De;const me=x.inscriptions.find($e=>$e.eleve_id===V.id),Se=u==="all"||((De=me==null?void 0:me.bus_id)==null?void 0:De.toString())===u,We=d==="all"||V.groupe===d,Ie=p==="all"||V.classe&&V.classe.toUpperCase()===p.toUpperCase(),H=E(V.classe);return Se&&We&&Ie&&(g==="all"||H===g)}),T=(V=>V.filter(me=>{var Qe;const Se=x.eleves.find(je=>je.id===me.eleve_id);if(!Se)return!0;const We=x.inscriptions.find(je=>je.eleve_id===Se.id),Ie=u==="all"||((Qe=We==null?void 0:We.bus_id)==null?void 0:Qe.toString())===u,H=d==="all"||Se.groupe===d,ve=p==="all"||Se.classe&&Se.classe.toUpperCase()===p.toUpperCase(),De=E(Se.classe);return Ie&&H&&ve&&(g==="all"||De===g)}))(S(x.presences)),R=S(x.paiements,"date_paiement"),z=S(x.accidents,"date"),G=S(x.inscriptions,"date_inscription"),X=R.filter(V=>V.statut==="Pay").reduce((V,me)=>V+(parseFloat(me.montant)||0),0),F=T.filter(V=>!V.present_matin).length,Y=T.filter(V=>!V.present_soir).length,J=T.filter(V=>V.present_matin).length,k=T.filter(V=>V.present_soir).length,K=O.filter(V=>V.sexe==="Masculin"||V.sexe==="M").length,oe=O.filter(V=>V.sexe==="Fminin"||V.sexe==="F").length,B=O.filter(V=>{const me=(V.classe||"").toUpperCase();return["1AP","2AP","3AP","4AP","5AP","6AP"].includes(me)}).length,M=O.filter(V=>{const me=(V.classe||"").toUpperCase();return["1AC","2AC","3AC"].includes(me)}).length,re=O.filter(V=>{const me=(V.classe||"").toUpperCase();return["TC","1BAC","2BAC"].includes(me)}).length,we={};T.forEach(V=>{(!V.present_matin||!V.present_soir)&&(we[V.eleve_id]=(we[V.eleve_id]||0)+(V.present_matin?0:1)+(V.present_soir?0:1))});const be=Object.entries(we).sort(([,V],[,me])=>me-V).slice(0,5).map(([V,me])=>{const Se=x.eleves.find(We=>We.id===parseInt(V));return{name:Se?`${Se.prenom} ${Se.nom}`:"Inconnu",absences:me}}),$={};T.forEach(V=>{(V.present_matin||V.present_soir)&&($[V.eleve_id]=($[V.eleve_id]||0)+(V.present_matin?1:0)+(V.present_soir?1:0))});const ae=Object.entries($).sort(([,V],[,me])=>me-V).slice(0,5).map(([V,me])=>{const Se=O.find(We=>We.id===parseInt(V));return{name:Se?`${Se.prenom} ${Se.nom}`:"Inconnu",presences:me}}),fe=[{name:"Garons",value:K},{name:"Filles",value:oe}],q=[{name:"Primaire",value:B},{name:"Collge",value:M},{name:"Lyce",value:re}],ye=[{name:"Matin",Prsents:J,Absents:F},{name:"Soir",Prsents:k,Absents:Y}],Ne={};return O.forEach(V=>{if(V.tuteur_id){const me=V.tuteur_id;Ne[me]=(Ne[me]||0)+1}}),Object.entries(Ne).sort(([,V],[,me])=>me-V).slice(0,5).map(([V,me])=>{const Se=Array.isArray(x.tuteurs)?x.tuteurs.find(We=>We.id===parseInt(V)):null;return{name:Se&&`${Se.prenom||""} ${Se.nom||""}`.trim()||"Inconnu",inscriptions:me}}),t?a.jsx(Et,{children:a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsx("div",{className:"w-12 h-12 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"})})}):a.jsxs(Et,{title:"Statistiques",children:[a.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[a.jsxs("button",{onClick:()=>e(ke("AdminDashboard")),className:"flex items-center gap-2 text-gray-600 hover:text-amber-600 transition-colors",children:[a.jsx(Kt,{className:"w-4 h-4"}),"Retour au tableau de bord"]}),a.jsxs(ne,{onClick:()=>b(),disabled:t,className:"bg-amber-500 hover:bg-amber-600 text-white rounded-xl",children:[a.jsx(qm,{className:`w-4 h-4 mr-2 ${t?"animate-spin":""}`}),"Actualiser"]})]}),a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6 mb-6",children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2 mb-6",children:[a.jsx(EP,{className:"w-7 h-7 text-indigo-500"}),"Statistiques & Historiques"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[a.jsxs(Te,{value:l,onValueChange:c,children:[a.jsx(Ee,{className:"rounded-xl",children:a.jsx(Ce,{placeholder:"Priode"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"aujourdhui",children:"Aujourd'hui"}),a.jsx(U,{value:"hier",children:"Hier"}),a.jsx(U,{value:"semaine",children:"Semaine dernire"}),a.jsx(U,{value:"mois",children:"Mois dernier"}),a.jsx(U,{value:"annee",children:"Anne dernire"}),a.jsx(U,{value:"custom",children:"Personnalis"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Mr,{className:"w-4 h-4 text-gray-400"}),a.jsx(ue,{type:"date",value:n,onChange:V=>{i(V.target.value),c("custom")},className:"rounded-xl"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-400",children:""}),a.jsx(ue,{type:"date",value:s,onChange:V=>{o(V.target.value),c("custom")},className:"rounded-xl"})]}),a.jsxs(Te,{value:u,onValueChange:f,children:[a.jsx(Ee,{className:"rounded-xl",children:a.jsx(Ce,{placeholder:"Bus"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"all",children:"Tous les bus"}),x.buses.map(V=>a.jsx(U,{value:V.id.toString(),children:V.numero},V.id))]})]}),a.jsxs(Te,{value:d,onValueChange:m,children:[a.jsx(Ee,{className:"rounded-xl",children:a.jsx(Ce,{placeholder:"Groupe"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"all",children:"Tous les groupes"}),a.jsx(U,{value:"A",children:"Groupe A"}),a.jsx(U,{value:"B",children:"Groupe B"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 mt-4",children:[a.jsxs(Te,{value:g,onValueChange:w,children:[a.jsx(Ee,{className:"rounded-xl",children:a.jsx(Ce,{placeholder:"Niveau"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"all",children:"Tous les niveaux"}),A.map(V=>a.jsx(U,{value:V,children:V},V))]})]}),a.jsxs(Te,{value:p,onValueChange:v,children:[a.jsx(Ee,{className:"rounded-xl",children:a.jsx(Ce,{placeholder:"Classe"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"all",children:"Toutes les classes"}),P.map(V=>a.jsx(U,{value:V,children:V},V))]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[a.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:a.jsx(Zt,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total lves"}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:O.length})]})]})}),a.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:a.jsx(br,{className:"w-6 h-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Paiements"}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:R.filter(V=>V.statut==="Pay").length}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[X.toLocaleString("fr-FR",{minimumFractionDigits:2,maximumFractionDigits:2})," DH"]})]})]})}),a.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center",children:a.jsx(tt,{className:"w-6 h-6 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Accidents"}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:z.length})]})]})}),a.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center",children:a.jsx(Fc,{className:"w-6 h-6 text-amber-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Inscriptions"}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:G.length})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Prsences vs Absences"}),a.jsx("div",{className:"h-64",children:a.jsx(zl,{width:"100%",height:"100%",children:a.jsxs(pg,{data:ye,children:[a.jsx(Hd,{strokeDasharray:"3 3"}),a.jsx(Ao,{dataKey:"name"}),a.jsx(Po,{allowDecimals:!1}),a.jsx(Lr,{}),a.jsx(Ca,{}),a.jsx(Xn,{dataKey:"Prsents",fill:"#10B981"}),a.jsx(Xn,{dataKey:"Absents",fill:"#EF4444"})]})})})]}),a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Rpartition Filles / Garons"}),a.jsx("div",{className:"h-64",children:a.jsx(zl,{width:"100%",height:"100%",children:a.jsxs(s_,{children:[a.jsx(la,{data:fe,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,dataKey:"value",label:({name:V,value:me})=>`${V}: ${me}`,children:fe.map((V,me)=>a.jsx(Jc,{fill:me===0?"#3B82F6":"#EC4899"},`cell-${me}`))}),a.jsx(Lr,{}),a.jsx(Ca,{})]})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Rpartition par Niveau"}),a.jsx("div",{className:"h-64",children:a.jsx(zl,{width:"100%",height:"100%",children:a.jsxs(s_,{children:[a.jsx(la,{data:q,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,dataKey:"value",label:({name:V,value:me})=>`${V}: ${me}`,children:q.map((V,me)=>a.jsx(Jc,{fill:h[me%h.length]},`cell-${me}`))}),a.jsx(Lr,{}),a.jsx(Ca,{})]})})})]}),a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"lves les plus absents"}),be.length===0?a.jsx("p",{className:"text-gray-400 text-center py-8",children:"Aucune absence enregistre"}):a.jsx("div",{className:"h-64",children:a.jsx(zl,{width:"100%",height:"100%",children:a.jsxs(pg,{data:be,layout:"vertical",children:[a.jsx(Hd,{strokeDasharray:"3 3"}),a.jsx(Ao,{type:"number",allowDecimals:!1}),a.jsx(Po,{dataKey:"name",type:"category",width:100}),a.jsx(Lr,{}),a.jsx(Xn,{dataKey:"absences",fill:"#EF4444"})]})})})]})]}),a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"lves les plus prsents"}),ae.length===0?a.jsx("p",{className:"text-gray-400 text-center py-8",children:"Aucune prsence enregistre"}):a.jsx("div",{className:"h-64",children:a.jsx(zl,{width:"100%",height:"100%",children:a.jsxs(pg,{data:ae,layout:"vertical",children:[a.jsx(Hd,{strokeDasharray:"3 3"}),a.jsx(Ao,{type:"number",allowDecimals:!1}),a.jsx(Po,{dataKey:"name",type:"category",width:100}),a.jsx(Lr,{}),a.jsx(Xn,{dataKey:"presences",fill:"#10B981"})]})})})]})]})]})}function Rue(){const e=nt(),[t,r]=_.useState([]),[n,i]=_.useState([]),[s,o]=_.useState([]),[l,c]=_.useState([]),[u,f]=_.useState(!0),[d,m]=_.useState(null),[p,v]=_.useState(""),[g,w]=_.useState("all"),[x,y]=_.useState("");_.useEffect(()=>{h();const A=setInterval(()=>{h()},3e4);return()=>clearInterval(A)},[]);const h=async()=>{f(!0),m(null);try{const[A,E,O,C,T]=await Promise.all([Hm.getAll(),kt.getAll(),ki.getAll(),bn.getAll(),qt.getAll()]),R=(A==null?void 0:A.data)||A||[],z=(E==null?void 0:E.data)||E||[],G=(O==null?void 0:O.data)||O||[],X=(C==null?void 0:C.data)||C||[],F=(T==null?void 0:T.data)||T||[],Y=Array.isArray(R)?R.map(K=>{const oe=Array.isArray(X)?X.find(re=>re.id===K.inscription_id):null,B=oe&&Array.isArray(z)?z.find(re=>re.id===oe.eleve_id):null,M=B&&Array.isArray(G)?G.find(re=>re.id===B.tuteur_id):null;return{...K,montant:parseFloat(K.montant)||0,eleve:B,tuteur:M,inscription:oe,type_paiement:"mensuel"}}):[],J=Array.isArray(F)?F.filter(K=>K.type_demande==="inscription"&&K.statut==="Paye"&&K.montant_facture).map(K=>{const oe=Array.isArray(z)?z.find(be=>be.id===K.eleve_id):null,B=oe&&Array.isArray(G)?G.find(be=>be.id===oe.tuteur_id):null,M=Array.isArray(X)?X.find(be=>be.eleve_id===(oe==null?void 0:oe.id)):null;let re=K.date_traitement||K.date_creation;re?typeof re=="string"&&re.includes(" ")&&(re=re.split(" ")[0]):re=new Date().toISOString().split("T")[0];const we=new Date(re);return{id:`demande_${K.id}`,inscription_id:(M==null?void 0:M.id)||null,montant:parseFloat(K.montant_facture)||0,mois:we.getMonth()+1,annee:we.getFullYear(),date_paiement:re,mode_paiement:"Espces",statut:"Pay",date_creation:K.date_traitement||K.date_creation,eleve:oe,tuteur:B,inscription:M,demande:K,type_paiement:"initial"}}):[],k=[...Y,...J];k.sort((K,oe)=>{const B=new Date(K.date_paiement||0);return new Date(oe.date_paiement||0)-B}),r(k),i(Array.isArray(z)?z:[]),o(Array.isArray(G)?G:[]),c(Array.isArray(X)?X:[])}catch(A){console.error("Erreur lors du chargement des paiements:",A),m("Erreur lors du chargement des paiements. Veuillez ressayer."),r([]),i([]),o([]),c([])}finally{f(!1)}},N=t.filter(A=>{var T,R,z,G,X,F,Y,J,k;const E=p===""||((R=(T=A.eleve)==null?void 0:T.nom)==null?void 0:R.toLowerCase().includes(p.toLowerCase()))||((G=(z=A.eleve)==null?void 0:z.prenom)==null?void 0:G.toLowerCase().includes(p.toLowerCase()))||((F=(X=A.tuteur)==null?void 0:X.nom)==null?void 0:F.toLowerCase().includes(p.toLowerCase()))||((J=(Y=A.tuteur)==null?void 0:Y.prenom)==null?void 0:J.toLowerCase().includes(p.toLowerCase())),O=g==="all"||A.statut===g,C=!x||((k=A.date_paiement)==null?void 0:k.startsWith(x));return E&&O&&C}),j=N.filter(A=>A.statut==="Pay").reduce((A,E)=>A+(parseFloat(E.montant)||0),0),b=A=>({"En attente":"bg-yellow-100 text-yellow-700",Pay:"bg-green-100 text-green-700",chou:"bg-red-100 text-red-700"})[A]||"bg-gray-100 text-gray-700",S=A=>({Espces:"bg-blue-100 text-blue-700",Virement:"bg-purple-100 text-purple-700","Carte bancaire":"bg-teal-100 text-teal-700",Chque:"bg-orange-100 text-orange-700"})[A]||"bg-gray-100 text-gray-700",P=A=>{if(!A)return"";try{const E=new Date(A);return isNaN(E.getTime())?A:Oe(E,"dd MMM yyyy",{locale:kr})}catch(E){return console.error("Erreur de formatage de date:",E),A}};return u?a.jsx(Et,{children:a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsx("div",{className:"w-12 h-12 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"})})}):a.jsxs(Et,{title:"Gestion des Paiements",children:[a.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[a.jsxs("button",{onClick:()=>e(ke("AdminDashboard")),className:"flex items-center gap-2 text-gray-600 hover:text-amber-600 transition-colors",children:[a.jsx(Kt,{className:"w-4 h-4"}),"Retour au tableau de bord"]}),a.jsxs(ne,{onClick:()=>h(),disabled:u,className:"bg-amber-500 hover:bg-amber-600 text-white rounded-xl",children:[a.jsx(qm,{className:`w-4 h-4 mr-2 ${u?"animate-spin":""}`}),"Actualiser"]})]}),d&&a.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl mb-4 flex items-center justify-between",children:[a.jsx("span",{children:d}),a.jsx("button",{onClick:()=>m(null),className:"text-red-500 hover:text-red-700",children:""})]}),a.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-teal-500 to-cyan-500 rounded-3xl p-6 mb-6 text-white",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Total des paiements valids"}),a.jsxs("p",{className:"opacity-90",children:["Priode: ",x||"Tous"]})]}),a.jsxs("div",{className:"text-4xl font-bold mt-4 md:mt-0",children:[j.toLocaleString("fr-FR",{minimumFractionDigits:2,maximumFractionDigits:2})," DH"]})]})}),a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-3xl shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2 mb-4",children:[a.jsx(br,{className:"w-6 h-6 text-teal-500"}),"Historique des Paiements"]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(rv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(ue,{placeholder:"Rechercher...",value:p,onChange:A=>v(A.target.value),className:"pl-10 h-12 rounded-xl"})]}),a.jsxs(Te,{value:g,onValueChange:w,children:[a.jsx(Ee,{className:"w-full md:w-40 h-12 rounded-xl",children:a.jsx(Ce,{placeholder:"Statut"})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"all",children:"Tous"}),a.jsx(U,{value:"Pay",children:"Pays"}),a.jsx(U,{value:"En attente",children:"En attente"}),a.jsx(U,{value:"chou",children:"chous"})]})]}),a.jsx(ue,{type:"date",value:x,onChange:A=>y(A.target.value),className:"w-full md:w-48 h-12 rounded-xl"})]})]}),a.jsx("div",{className:"divide-y divide-gray-100",children:N.length===0?a.jsxs("div",{className:"p-12 text-center text-gray-400",children:[a.jsx(br,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"Aucun paiement trouv"})]}):N.map(A=>a.jsx("div",{className:"p-6 hover:bg-teal-50/50 transition-colors",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-xl flex items-center justify-center",children:a.jsx(br,{className:"w-6 h-6 text-teal-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-800",children:A.eleve?`${A.eleve.nom} ${A.eleve.prenom}`:"lve inconnu"}),A.tuteur&&a.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[a.jsx(xt,{className:"w-3 h-3"}),"Tuteur: ",A.tuteur.prenom," ",A.tuteur.nom]}),a.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 text-sm",children:[a.jsx("span",{className:`px-2 py-1 rounded-lg ${S(A.mode_paiement)}`,children:A.mode_paiement}),A.mois&&A.annee&&a.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-lg",children:[A.mois,"/",A.annee]})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[(typeof A.montant=="number"?A.montant:parseFloat(A.montant||0)).toLocaleString("fr-FR",{minimumFractionDigits:2,maximumFractionDigits:2})," DH"]}),a.jsxs("span",{className:`inline-block mt-2 px-3 py-1 rounded-full text-sm font-medium ${b(A.statut)}`,children:[A.statut==="Pay"&&a.jsx(it,{className:"w-3 h-3 inline mr-1"}),A.statut]}),a.jsxs("p",{className:"text-xs text-gray-400 mt-2 flex items-center justify-end gap-1",children:[a.jsx(Mr,{className:"w-3 h-3"}),P(A.date_paiement)]})]})]})},A.id))})]})]})}function Bue(){const e=nt(),[t,r]=_.useState(!1),[n,i]=_.useState(!1),[s,o]=_.useState(""),[l,c]=_.useState(null),[u,f]=_.useState("");_.useEffect(()=>{const m=localStorage.getItem("admin_session");if(!m){e(ke("AdminLogin"));return}const p=JSON.parse(m);c(p),f(p.adresse||"")},[e]);const d=async m=>{m.preventDefault(),r(!0),o("");try{const v={...JSON.parse(localStorage.getItem("admin_session")),adresse:u};localStorage.setItem("admin_session",JSON.stringify(v)),c(v),i(!0),setTimeout(()=>i(!1),3e3)}catch(p){console.error("Erreur lors de la sauvegarde:",p),o("Erreur lors de la sauvegarde de l'adresse. Veuillez ressayer.")}r(!1)};return l?a.jsxs(Et,{title:"Mon Profil",children:[a.jsx("div",{className:"mb-4",children:a.jsxs("button",{onClick:()=>e(ke("AdminDashboard")),className:"flex items-center gap-2 text-gray-600 hover:text-amber-600 transition-colors",children:[a.jsx(Kt,{className:"w-4 h-4"}),"Retour au tableau de bord"]})}),a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"p-6 bg-gradient-to-r from-amber-500 to-yellow-500",children:[a.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[a.jsx(us,{className:"w-7 h-7"}),"Mon Profil Administrateur"]}),a.jsx("p",{className:"text-amber-100 mt-1",children:"Informations personnelles (en lecture seule)"})]}),a.jsxs("div",{className:"p-6",children:[n&&a.jsxs(te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl flex items-center gap-2 text-green-700",children:[a.jsx(it,{className:"w-5 h-5"}),"Adresse mise  jour avec succs !"]}),s&&a.jsxs(te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-center gap-2 text-red-600",children:[a.jsx(tt,{className:"w-5 h-5"}),s]}),a.jsxs("form",{onSubmit:d,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs(Q,{className:"text-gray-700 font-medium flex items-center gap-2",children:["Nom",a.jsx(cd,{className:"w-4 h-4 text-gray-400",title:"En lecture seule"})]}),a.jsx(ue,{value:l.nom||"",disabled:!0,className:"mt-1 h-12 rounded-xl bg-gray-50 text-gray-600 cursor-not-allowed"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Ce champ ne peut pas tre modifi"})]}),a.jsxs("div",{children:[a.jsxs(Q,{className:"text-gray-700 font-medium flex items-center gap-2",children:["Prnom",a.jsx(cd,{className:"w-4 h-4 text-gray-400",title:"En lecture seule"})]}),a.jsx(ue,{value:l.prenom||"",disabled:!0,className:"mt-1 h-12 rounded-xl bg-gray-50 text-gray-600 cursor-not-allowed"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Ce champ ne peut pas tre modifi"})]}),a.jsxs("div",{children:[a.jsxs(Q,{className:"text-gray-700 font-medium flex items-center gap-2",children:["Email",a.jsx(cd,{className:"w-4 h-4 text-gray-400",title:"En lecture seule"})]}),a.jsx(ue,{type:"email",value:l.email||"",disabled:!0,className:"mt-1 h-12 rounded-xl bg-gray-50 text-gray-600 cursor-not-allowed"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Ce champ ne peut pas tre modifi"})]}),a.jsxs("div",{children:[a.jsxs(Q,{className:"text-gray-700 font-medium flex items-center gap-2",children:["Tlphone",a.jsx(cd,{className:"w-4 h-4 text-gray-400",title:"En lecture seule"})]}),a.jsx(ue,{value:l.telephone||"",disabled:!0,className:"mt-1 h-12 rounded-xl bg-gray-50 text-gray-600 cursor-not-allowed"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Ce champ ne peut pas tre modifi"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:"Adresse"}),a.jsx(ue,{value:u,onChange:m=>f(m.target.value),placeholder:"Entrez votre adresse",className:"mt-1 h-12 rounded-xl"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Vous pouvez modifier votre adresse"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[a.jsx(ne,{type:"button",variant:"outline",onClick:()=>e(ke("AdminDashboard")),className:"rounded-xl",children:"Annuler"}),a.jsx(ne,{type:"submit",disabled:t,className:"flex-1 bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-600 hover:to-yellow-600 text-white rounded-xl font-semibold shadow-lg",children:t?a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(js,{className:"w-5 h-5 mr-2"}),"Enregistrer l'adresse"]})})]})]})]})]})]}):a.jsx(Et,{children:a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsx("div",{className:"w-12 h-12 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"})})})}function Fue(){const e=nt(),[t,r]=_.useState([]),[n,i]=_.useState(!0),[s,o]=_.useState(!1),[l,c]=_.useState(null),[u,f]=_.useState(null),d=["Rabat","Sal","Temara"],[m,p]=_.useState({nom:"",ville:"",description:"",actif:!0});_.useEffect(()=>{v()},[]);const v=async()=>{i(!0),f(null);try{const h=await ya.getAll(),N=(h==null?void 0:h.data)||h||[];r(Array.isArray(N)?N:[])}catch(h){console.error("Erreur lors du chargement:",h),f("Erreur lors du chargement des zones")}finally{i(!1)}},g=async h=>{h.preventDefault(),f(null);try{l?await ya.update({id:l.id,nom:m.nom,ville:m.ville,description:m.description,actif:m.actif}):await ya.create({nom:m.nom,ville:m.ville,description:m.description,actif:m.actif}),y(),await v()}catch(N){console.error("Erreur lors de la sauvegarde:",N),f(N.message||"Erreur lors de la sauvegarde de la zone")}},w=async h=>{if(window.confirm("tes-vous sr de vouloir supprimer cette zone ?"))try{await ya.delete(h),await v()}catch(N){console.error("Erreur lors de la suppression:",N),f(N.message||"Erreur lors de la suppression de la zone")}},x=h=>{c(h),p({nom:h.nom||"",ville:h.ville||"",description:h.description||"",actif:h.actif!==void 0?h.actif:!0}),o(!0)},y=()=>{p({nom:"",ville:"",description:"",actif:!0}),c(null),o(!1),f(null)};return n?a.jsx(Et,{children:a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsx("div",{className:"w-12 h-12 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"})})}):a.jsxs(Et,{title:"Gestion des Zones",children:[a.jsx("div",{className:"mb-4",children:a.jsxs("button",{onClick:()=>e(ke("AdminDashboard")),className:"flex items-center gap-2 text-gray-600 hover:text-amber-600 transition-colors",children:[a.jsx(Kt,{className:"w-4 h-4"}),"Retour au tableau de bord"]})}),u&&a.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl flex items-center justify-between",children:[a.jsx("span",{children:u}),a.jsx("button",{onClick:()=>f(null),className:"text-red-500 hover:text-red-700",children:""})]}),a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-xl overflow-hidden mb-6",children:[a.jsx("div",{className:"p-6 bg-gradient-to-r from-blue-500 to-indigo-500",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[a.jsx(Ot,{className:"w-7 h-7"}),"Gestion des Zones"]}),a.jsxs("p",{className:"text-blue-100 mt-1",children:[t.length," zone(s) au total"]})]}),a.jsxs(ne,{onClick:()=>{y(),o(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white rounded-xl",children:[a.jsx(Aa,{className:"w-4 h-4 mr-2"}),"Ajouter une zone"]})]})}),s&&a.jsx("div",{className:"p-6 border-b border-gray-100 bg-gray-50",children:a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:"Nom de la zone *"}),a.jsx(ue,{value:m.nom,onChange:h=>p({...m,nom:h.target.value}),className:"mt-1 h-12 rounded-xl",required:!0})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:"Ville *"}),a.jsxs("select",{value:m.ville,onChange:h=>p({...m,ville:h.target.value}),className:"mt-1 h-12 rounded-xl w-full px-3 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"",children:"Slectionner une ville"}),d.map(h=>a.jsx("option",{value:h,children:h},h))]})]})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-gray-700 font-medium",children:"Description"}),a.jsx(ue,{value:m.description,onChange:h=>p({...m,description:h.target.value}),className:"mt-1 h-12 rounded-xl"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"actif",checked:m.actif,onChange:h=>p({...m,actif:h.target.checked}),className:"w-4 h-4 text-blue-600 rounded"}),a.jsx(Q,{htmlFor:"actif",className:"text-gray-700 font-medium cursor-pointer",children:"Zone active"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(ne,{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white rounded-xl",children:[a.jsx(js,{className:"w-4 h-4 mr-2"}),l?"Modifier":"Ajouter"]}),a.jsxs(ne,{type:"button",variant:"outline",onClick:y,className:"rounded-xl",children:[a.jsx(Ke,{className:"w-4 h-4 mr-2"}),"Annuler"]})]})]})}),a.jsx("div",{className:"divide-y divide-gray-100",children:t.length===0?a.jsxs("div",{className:"p-12 text-center text-gray-400",children:[a.jsx(Ot,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"Aucune zone trouve"})]}):t.map(h=>a.jsx("div",{className:"p-6 hover:bg-blue-50/50 transition-colors",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center flex-shrink-0",children:a.jsx(Ot,{className:"w-6 h-6 text-blue-500"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold text-gray-800 text-lg flex items-center gap-2",children:[h.nom,h.ville&&a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:h.ville}),h.actif&&a.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:[a.jsx(it,{className:"w-3 h-3 inline mr-1"}),"Active"]}),!h.actif&&a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-medium",children:"Inactive"})]}),h.description&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:h.description})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ne,{onClick:()=>x(h),variant:"outline",className:"rounded-xl",children:[a.jsx(La,{className:"w-4 h-4 mr-2"}),"Modifier"]}),a.jsxs(ne,{onClick:()=>w(h.id),variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50 rounded-xl",children:[a.jsx(Wr,{className:"w-4 h-4 mr-2"}),"Supprimer"]})]})]})},h.id))})]})]})}function zue(){const e=nt(),[t,r]=_.useState(null),[n,i]=_.useState([]),[s,o]=_.useState(!0),[l,c]=_.useState("all"),[u,f]=_.useState("all");_.useEffect(()=>{const h=localStorage.getItem("admin_session");if(!h){e(ke("AdminLogin"));return}const N=JSON.parse(h);r(N),d(N.id)},[e]);const d=async h=>{o(!0);try{const N=await ut.getByUser(h,"admin"),b=(Array.isArray(N==null?void 0:N.data)?N.data:Array.isArray(N)?N:[]).sort((S,P)=>{const A=new Date(S.date||S.date_creation||0);return new Date(P.date||P.date_creation||0)-A});i(b)}catch(N){console.error("Erreur lors du chargement des notifications:",N)}finally{o(!1)}},m=async h=>{try{await ut.marquerLue(h),i(N=>N.map(j=>j.id===h?{...j,lue:!0}:j))}catch(N){console.error("Erreur lors de la mise  jour:",N)}},p=async h=>{try{await ut.delete(h),i(N=>N.filter(j=>j.id!==h))}catch(N){console.error("Erreur lors de la suppression:",N)}},v=h=>{if(!h)return"";const N=new Date(h),b=new Date-N,S=Math.floor(b/6e4),P=Math.floor(b/36e5),A=Math.floor(b/864e5);return S<1?" l'instant":S<60?`Il y a ${S} min`:P<24?`Il y a ${P}h`:A<7?`Il y a ${A}j`:N.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})},g=(h,N)=>{const j=(N==null?void 0:N.toLowerCase())||"",b=(h==null?void 0:h.toLowerCase())||"";return b==="alerte"||j.includes("accident")||j.includes("urgent")||j.includes("requis")?a.jsx(tt,{className:"w-5 h-5 text-red-500"}):b==="warning"||j.includes("attention")||j.includes("avertissement")?a.jsx(bo,{className:"w-5 h-5 text-orange-500"}):j.includes("message")||j.includes("contact")?a.jsx(Io,{className:"w-5 h-5 text-blue-500"}):j.includes("rapport")||j.includes("rapports")?a.jsx(_a,{className:"w-5 h-5 text-purple-500"}):b==="success"||j.includes("confirm")||j.includes("valid")?a.jsx(it,{className:"w-5 h-5 text-green-500"}):a.jsx(tv,{className:"w-5 h-5 text-blue-500"})},w=(h,N)=>{const j=(h==null?void 0:h.toLowerCase())||"",b=(N==null?void 0:N.toLowerCase())||"";return j==="alerte"||b.includes("accident")||b.includes("urgent")||b.includes("requis")?"bg-red-50 border-red-200":j==="warning"||b.includes("attention")?"bg-orange-50 border-orange-200":j==="success"||b.includes("confirm")||b.includes("valid")?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200"},x=n.filter(h=>{var N;return!(l==="unread"&&h.lue||l==="read"&&!h.lue||u!=="all"&&((N=h.type)==null?void 0:N.toLowerCase())!==u.toLowerCase())}),y=n.filter(h=>!h.lue).length;return s?a.jsx(Et,{children:a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsx("div",{className:"w-12 h-12 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"})})}):a.jsxs(Et,{title:"Mes Notifications",children:[a.jsx("div",{className:"mb-4",children:a.jsxs("button",{onClick:()=>e(ke("AdminDashboard")),className:"flex items-center gap-2 text-gray-600 hover:text-amber-600 transition-colors",children:[a.jsx(Kt,{className:"w-4 h-4"}),"Retour au tableau de bord"]})}),a.jsx(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-xl p-6 mb-8",children:a.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-amber-400 to-amber-500 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(aa,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Mes Notifications"}),a.jsx("p",{className:"text-gray-500",children:y>0?`${y} notification${y>1?"s":""} non lue${y>1?"s":""}`:"Aucune notification non lue"})]})]})})}),a.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-lg p-4 mb-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Do,{className:"w-4 h-4 inline mr-1"}),"Filtrer par statut"]}),a.jsxs(Te,{value:l,onValueChange:c,children:[a.jsx(Ee,{className:"rounded-xl",children:a.jsx(Ce,{})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"all",children:"Toutes"}),a.jsxs(U,{value:"unread",children:["Non lues (",n.filter(h=>!h.lue).length,")"]}),a.jsxs(U,{value:"read",children:["Lues (",n.filter(h=>h.lue).length,")"]})]})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Do,{className:"w-4 h-4 inline mr-1"}),"Filtrer par type"]}),a.jsxs(Te,{value:u,onValueChange:f,children:[a.jsx(Ee,{className:"rounded-xl",children:a.jsx(Ce,{})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"all",children:"Tous les types"}),a.jsx(U,{value:"info",children:"Informations"}),a.jsx(U,{value:"alerte",children:"Alertes"}),a.jsx(U,{value:"warning",children:"Avertissements"}),a.jsx(U,{value:"success",children:"Succs"})]})]})]})]})}),a.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-4",children:x.length===0?a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-12 text-center",children:[a.jsx(aa,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Aucune notification"}),a.jsx("p",{className:"text-gray-500",children:l==="all"?"Vous n'avez aucune notification pour le moment.":`Aucune notification ${l==="unread"?"non lue":"lue"} trouve.`})]}):x.map((h,N)=>a.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:N*.05},className:`bg-white rounded-2xl shadow-lg overflow-hidden border-l-4 ${h.lue?"border-gray-300 opacity-75":"border-amber-500"} ${w(h.type,h.titre)}`,children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[a.jsx("div",{className:`mt-1 ${h.lue?"opacity-50":""}`,children:g(h.type,h.titre)}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[a.jsx("h3",{className:`font-semibold text-gray-800 ${h.lue?"line-through":""}`,children:h.titre}),!h.lue&&a.jsx("span",{className:"px-2 py-1 bg-amber-500 text-white text-xs font-semibold rounded-full whitespace-nowrap",children:"Nouveau"})]}),a.jsx("p",{className:"text-gray-700 mb-3 whitespace-pre-wrap",children:h.message}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[a.jsx("span",{children:v(h.date||h.date_creation)}),h.type&&a.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-lg text-xs font-medium",children:h.type})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[!h.lue&&a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>m(h.id),className:"rounded-xl text-green-600 hover:text-green-700 hover:bg-green-50",title:"Marquer comme lu",children:a.jsx(it,{className:"w-5 h-5"})}),a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>p(h.id),className:"rounded-xl text-red-500 hover:text-red-600 hover:bg-red-50",title:"Supprimer",children:a.jsx(Wr,{className:"w-5 h-5"})})]})]})})},h.id))})]})}function Vue(){const e=nt(),[t,r]=_.useState([]),[n,i]=_.useState([]),[s,o]=_.useState([]),[l,c]=_.useState([]),[u,f]=_.useState([]),[d,m]=_.useState([]),[p,v]=_.useState(!0),[g,w]=_.useState(null),[x,y]=_.useState(!1),[h,N]=_.useState(null),[j,b]=_.useState(null);_.useEffect(()=>{S()},[]);const S=async()=>{v(!0),N(null);try{const[O,C,T,R,z,G]=await Promise.all([Ia.getAll(),Sr.getAll(),$n.getAll(),kt.getAll(),bn.getAll(),ki.getAll()]),X=(O==null?void 0:O.data)||O||[],F=(C==null?void 0:C.data)||C||[],Y=(T==null?void 0:T.data)||T||[],J=(R==null?void 0:R.data)||R||[],k=(z==null?void 0:z.data)||z||[],K=(G==null?void 0:G.data)||G||[];r(Array.isArray(X)?X.sort((oe,B)=>new Date(B.date||0)-new Date(oe.date||0)):[]),i(Array.isArray(F)?F:[]),o(Array.isArray(Y)?Y:[]),c(Array.isArray(J)?J:[]),f(Array.isArray(k)?k:[]),m(Array.isArray(K)?K:[])}catch(O){console.error("Erreur lors du chargement:",O),N("Erreur lors du chargement des donnes")}finally{v(!1)}},P=async O=>{try{await Ia.validate(O),await S(),alert("Rapport valid avec succs")}catch(C){console.error("Erreur lors de la validation:",C),N("Erreur lors de la validation du rapport")}},A=async O=>{if(!O.bus_id){N("Aucun bus associ  cet accident");return}try{const C=u.filter(J=>J.bus_id===O.bus_id&&J.statut==="Active"),T=l.filter(J=>C.some(k=>k.eleve_id===J.id)),R=[...new Set(T.map(J=>J.tuteur_id).filter(Boolean))],z=d.filter(J=>R.includes(J.id));if(z.length===0){N("Aucun tuteur trouv pour les lves de ce bus");return}const G=n.find(J=>J.id===O.bus_id),X=(G==null?void 0:G.numero)||"Inconnu";let F=`Un accident a t dclar concernant le bus ${X}.

`;F+=`Date: ${Oe(new Date(O.date),"dd/MM/yyyy",{locale:kr})}`,O.heure&&(F+=`  ${O.heure}`),F+=`
Lieu: ${O.lieu||"Non spcifi"}
`,F+=`Gravit: ${O.gravite}

`,F+=`Description: ${O.description}
`,O.degats&&(F+=`Dgts: ${O.degats}
`),O.nombre_eleves!==null&&O.nombre_eleves!==void 0&&(F+=`Nombre d'lves dans le bus: ${O.nombre_eleves}
`),O.nombre_blesses!==null&&O.nombre_blesses!==void 0&&O.nombre_blesses>0&&(F+=`Nombre de blesss: ${O.nombre_blesses}
`),O.eleves_concernees&&Array.isArray(O.eleves_concernees)&&O.eleves_concernees.length>0&&(F+=`
lves prsents dans le bus:
`,O.eleves_concernees.forEach((J,k)=>{const K=typeof J=="object"&&J.nom?`${J.prenom} ${J.nom}`:J;F+=`- ${K}
`})),F+=`
Veuillez contacter l'cole pour plus d'informations.`;const Y=z.map(J=>{const k=J.utilisateur_id||J.id;return ut.create({destinataire_id:k,destinataire_type:"tuteur",titre:"Accident dclar - Bus "+X,message:F,type:"alerte"})});await Promise.all(Y),alert(`Notifications envoyes  ${z.length} tuteur(s)`)}catch(C){console.error("Erreur lors de l'envoi des notifications:",C),N("Erreur lors de l'envoi des notifications aux tuteurs")}},E=O=>({Lgre:"bg-yellow-100 text-yellow-700",Moyenne:"bg-orange-100 text-orange-700",Grave:"bg-red-100 text-red-700"})[O]||"bg-gray-100 text-gray-700";return p?a.jsx(Et,{children:a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"w-12 h-12 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"})})}):a.jsxs(Et,{children:[a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-white to-yellow-50 p-4 md:p-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[a.jsxs("button",{onClick:()=>e(ke("AdminDashboard")),className:"flex items-center gap-2 text-gray-600 hover:text-amber-800 transition-colors font-medium",children:[a.jsx(Kt,{className:"w-4 h-4"}),"Retour au tableau de bord"]}),a.jsxs(ne,{onClick:S,disabled:p,className:"bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-700 hover:to-amber-800 text-white rounded-xl font-semibold shadow-lg",children:[a.jsx(qm,{className:`w-4 h-4 mr-2 ${p?"animate-spin":""}`}),"Actualiser"]})]}),h&&a.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl mb-4 flex items-center justify-between",children:[a.jsx("span",{children:h}),a.jsx("button",{onClick:()=>N(null),className:"text-red-500 hover:text-red-700",children:""})]}),a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-100 bg-gradient-to-r from-red-500 to-rose-500",children:[a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(tt,{className:"w-6 h-6"}),"Rapports d'Accidents"]}),a.jsx("p",{className:"text-red-100 mt-1",children:"Rapports reus des chauffeurs et responsables bus"})]}),a.jsx("div",{className:"divide-y divide-gray-100",children:t.length===0?a.jsxs("div",{className:"p-12 text-center text-gray-400",children:[a.jsx(tt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"Aucun accident dclar"})]}):t.map(O=>{const C=n.find(T=>T.id===O.bus_id);return a.jsx("div",{className:"p-6 hover:bg-red-50/50 transition-colors",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${E(O.gravite)}`,children:O.gravite}),O.statut==="En attente"&&a.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 text-yellow-700",children:"En attente"}),O.statut==="Valid"&&a.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700",children:"Valid"}),O.blesses&&a.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-700",children:"Blesss"})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Mr,{className:"w-4 h-4 text-gray-400"}),Oe(new Date(O.date),"dd MMMM yyyy",{locale:kr}),O.heure&&`  ${O.heure}`]}),C&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(rt,{className:"w-4 h-4 text-amber-500"}),C.numero]}),(O.chauffeur_prenom||O.chauffeur_nom)&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(xt,{className:"w-4 h-4 text-green-500"}),O.chauffeur_prenom||""," ",O.chauffeur_nom||""]}),(O.responsable_prenom||O.responsable_nom)&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(xt,{className:"w-4 h-4 text-blue-500"}),O.responsable_prenom||""," ",O.responsable_nom||""," (Responsable)"]}),O.lieu&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ot,{className:"w-4 h-4 text-red-500"}),O.lieu]}),O.nombre_eleves!==null&&O.nombre_eleves!==void 0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Zt,{className:"w-4 h-4 text-blue-500"}),O.nombre_eleves," lve(s)"]}),O.nombre_blesses!==null&&O.nombre_blesses!==void 0&&O.nombre_blesses>0&&a.jsxs("div",{className:"flex items-center gap-1 text-red-600 font-semibold",children:[a.jsx(tt,{className:"w-4 h-4"}),O.nombre_blesses," bless(s)"]})]}),a.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:O.description}),O.degats&&a.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[a.jsx("strong",{children:"Dgts:"})," ",O.degats]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ne,{variant:"outline",onClick:()=>{w(O),y(!0)},className:"rounded-xl",children:[a.jsx(ia,{className:"w-4 h-4 mr-2"}),"Dtails"]}),O.statut==="En attente"&&a.jsxs(ne,{onClick:()=>P(O.id),className:"bg-green-500 hover:bg-green-600 text-white rounded-xl",children:[a.jsx(it,{className:"w-4 h-4 mr-2"}),"Valider"]}),O.bus_id&&a.jsxs(ne,{onClick:()=>A(O),className:"bg-blue-500 hover:bg-blue-600 text-white rounded-xl",children:[a.jsx(Io,{className:"w-4 h-4 mr-2"}),"Informer les tuteurs"]})]})]})},O.id)})})]})]})}),x&&g&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-100 bg-gradient-to-r from-red-500 to-rose-500",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(tt,{className:"w-6 h-6"}),"Dtails de l'Accident"]}),a.jsx("button",{onClick:()=>{y(!1),w(null)},className:"text-white hover:text-red-100 transition-colors",children:""})]})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Date"}),a.jsxs("p",{className:"text-gray-800",children:[Oe(new Date(g.date),"dd MMMM yyyy",{locale:kr}),g.heure&&`  ${g.heure}`]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Gravit"}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium inline-block ${E(g.gravite)}`,children:g.gravite})]}),g.lieu&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Lieu"}),a.jsx("p",{className:"text-gray-800",children:g.lieu})]}),(()=>{const O=n.find(C=>C.id===g.bus_id);return O?a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Bus"}),a.jsx("p",{className:"text-gray-800",children:O.numero})]}):null})(),(g.chauffeur_prenom||g.chauffeur_nom||g.chauffeur_id)&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Chauffeur"}),a.jsxs("p",{className:"text-gray-800",children:[g.chauffeur_prenom||""," ",g.chauffeur_nom||"",!g.chauffeur_prenom&&!g.chauffeur_nom&&g.chauffeur_id&&"Chauffeur ID: "+g.chauffeur_id]})]}),(g.responsable_prenom||g.responsable_nom||g.responsable_id)&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Responsable"}),a.jsxs("p",{className:"text-gray-800",children:[g.responsable_prenom||""," ",g.responsable_nom||"",!g.responsable_prenom&&!g.responsable_nom&&g.responsable_id&&"Responsable ID: "+g.responsable_id]})]}),g.nombre_eleves!==null&&g.nombre_eleves!==void 0&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nombre d'lves"}),a.jsx("p",{className:"text-gray-800",children:g.nombre_eleves})]}),g.nombre_blesses!==null&&g.nombre_blesses!==void 0&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nombre de blesss"}),a.jsx("p",{className:"text-red-600 font-semibold",children:g.nombre_blesses})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Description"}),a.jsx("p",{className:"text-gray-800",children:g.description})]}),g.degats&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Dgts"}),a.jsx("p",{className:"text-gray-800",children:g.degats})]}),g.eleves_concernees&&Array.isArray(g.eleves_concernees)&&g.eleves_concernees.length>0&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2 flex items-center gap-2",children:[a.jsx(Zt,{className:"w-4 h-4"}),"lves prsents dans le bus"]}),a.jsx("div",{className:"bg-blue-50 rounded-xl p-4",children:a.jsx("ul",{className:"space-y-2",children:g.eleves_concernees.map((O,C)=>a.jsx("li",{className:"text-gray-800",children:typeof O=="object"&&O.nom?`${O.prenom} ${O.nom}`:O},C))})})]}),g.photos&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2 flex items-center gap-2",children:[a.jsx(E4,{className:"w-4 h-4"}),"Photos"]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:(()=>{try{let O=[];if(Array.isArray(g.photos))O=g.photos;else if(typeof g.photos=="string"&&g.photos.trim()!=="")try{if(g.photos.trim().startsWith("[")||g.photos.trim().startsWith("{")){const T=JSON.parse(g.photos);Array.isArray(T)?O=T:T&&typeof T=="object"&&Array.isArray(T.photos)&&(O=T.photos)}else g.photos.startsWith("data:image")&&(O=[g.photos])}catch(T){console.error("Erreur parsing photos:",T),g.photos.startsWith("data:image")&&(O=[g.photos])}const C=O.map(T=>typeof T=="string"?T:T&&typeof T=="object"&&(T.data||T.src||T.url)||null).filter(T=>T&&typeof T=="string"&&T.trim()!==""&&T.startsWith("data:image"));return C.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"Aucune photo valide"}):C.map((T,R)=>a.jsx(te.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative group cursor-pointer",onClick:()=>b(T),children:a.jsxs("div",{className:"relative overflow-hidden rounded-xl border-2 border-gray-200 group-hover:border-red-400 transition-colors bg-white",children:[a.jsx("img",{src:T,alt:`Photo ${R+1}`,className:"w-full h-32 object-cover",onError:z=>{console.error("Erreur chargement image:",R),z.target.style.display="none"}}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:a.jsx(zc,{className:"w-5 h-5 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]})},R))}catch(O){return console.error("Erreur traitement photos:",O),a.jsx("p",{className:"text-gray-500 text-sm",children:"Erreur lors du chargement des photos"})}})()})]})]}),a.jsxs("div",{className:"p-6 border-t border-gray-100 flex justify-end gap-3",children:[a.jsx(ne,{variant:"outline",onClick:()=>{y(!1),w(null)},className:"rounded-xl",children:"Fermer"}),g.statut==="En attente"&&a.jsxs(ne,{onClick:()=>{P(g.id),y(!1),w(null)},className:"bg-green-500 hover:bg-green-600 text-white rounded-xl",children:[a.jsx(it,{className:"w-4 h-4 mr-2"}),"Valider"]}),g.bus_id&&a.jsxs(ne,{onClick:()=>A(g),className:"bg-blue-500 hover:bg-blue-600 text-white rounded-xl",children:[a.jsx(Io,{className:"w-4 h-4 mr-2"}),"Informer les tuteurs"]})]})]})}),a.jsx(en,{children:j&&a.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-[60] p-4",onClick:()=>b(null),children:a.jsxs(te.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"relative max-w-5xl max-h-[90vh] w-full",onClick:O=>O.stopPropagation(),children:[a.jsx("button",{onClick:()=>b(null),className:"absolute top-4 right-4 z-10 bg-white/90 hover:bg-white text-gray-800 rounded-full p-2 shadow-lg transition-colors",children:a.jsx(Ke,{className:"w-6 h-6"})}),a.jsx("img",{src:j,alt:"Photo accident",className:"w-full h-auto rounded-lg shadow-2xl"})]})})})]})}function Uue(){const e=nt(),[t,r]=_.useState([]),[n,i]=_.useState([]),[s,o]=_.useState([]),[l,c]=_.useState(!0),[u,f]=_.useState(null),[d,m]=_.useState(!1),[p,v]=_.useState(null),[g,w]=_.useState("all"),[x,y]=_.useState("all"),[h,N]=_.useState(null);_.useEffect(()=>{j()},[]);const j=async()=>{c(!0),v(null);try{const[C,T,R]=await Promise.all([Sa.getAll(),Sr.getAll(),$n.getAll()]),z=(C==null?void 0:C.data)||C||[],G=(T==null?void 0:T.data)||T||[],X=(R==null?void 0:R.data)||R||[];r(Array.isArray(z)?z.sort((F,Y)=>new Date(Y.date_creation||0)-new Date(F.date_creation||0)):[]),i(Array.isArray(G)?G:[]),o(Array.isArray(X)?X:[])}catch(C){console.error("Erreur lors du chargement:",C),v("Erreur lors du chargement des donnes")}finally{c(!1)}},b=async(C,T)=>{try{await Sa.update(C,{statut:T}),await j(),alert(`Signalement marqu comme ${T==="resolu"?"rsolu":T==="en_cours"?"en cours":"en attente"}`)}catch(R){console.error("Erreur lors de la mise  jour:",R),v("Erreur lors de la mise  jour du statut")}},S=async C=>{if(confirm("tes-vous sr de vouloir supprimer ce signalement ?"))try{await Sa.delete(C),await j()}catch(T){console.error("Erreur lors de la suppression:",T),v("Erreur lors de la suppression du signalement")}},P=C=>{switch(C){case"haute":return"bg-red-100 text-red-700 border-red-300";case"moyenne":return"bg-yellow-100 text-yellow-700 border-yellow-300";case"faible":return"bg-green-100 text-green-700 border-green-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}},A=C=>{switch(C){case"resolu":return"bg-green-100 text-green-700 border-green-300";case"en_cours":return"bg-blue-100 text-blue-700 border-blue-300";case"en_attente":return"bg-yellow-100 text-yellow-700 border-yellow-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}},E=C=>({mecanique:"Mcanique",eclairage:"clairage",portes:"Portes",climatisation:"Climatisation",pneus:"Pneus",autre:"Autre"})[C]||C,O=t.filter(C=>!(g!=="all"&&C.statut!==g||x!=="all"&&C.urgence!==x));return l?a.jsx(Et,{children:a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsx("div",{className:"w-12 h-12 border-4 border-amber-700 border-t-transparent rounded-full animate-spin"})})}):a.jsxs(Et,{title:"Gestion des Problmes de Maintenance",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("button",{onClick:()=>e(ke("AdminDashboard")),className:"flex items-center gap-2 text-gray-600 hover:text-amber-800 transition-colors font-medium",children:[a.jsx(Kt,{className:"w-4 h-4"}),"Retour au tableau de bord"]})}),p&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 text-red-700 px-6 py-4 rounded-lg mb-6 shadow-sm",children:a.jsx("p",{className:"font-medium",children:p})}),a.jsxs("div",{className:"mb-6 flex gap-4 items-center",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filtrer par statut"}),a.jsxs(Te,{value:g,onValueChange:w,children:[a.jsx(Ee,{className:"w-full rounded-xl border-2 border-amber-200",children:a.jsx(Ce,{})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"all",children:"Tous les statuts"}),a.jsx(U,{value:"en_attente",children:"En attente"}),a.jsx(U,{value:"en_cours",children:"En cours"}),a.jsx(U,{value:"resolu",children:"Rsolu"})]})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filtrer par urgence"}),a.jsxs(Te,{value:x,onValueChange:y,children:[a.jsx(Ee,{className:"w-full rounded-xl border-2 border-amber-200",children:a.jsx(Ce,{})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"all",children:"Toutes les urgences"}),a.jsx(U,{value:"haute",children:"Haute"}),a.jsx(U,{value:"moyenne",children:"Moyenne"}),a.jsx(U,{value:"faible",children:"Faible"})]})]})]}),a.jsx("div",{className:"pt-6",children:a.jsx(ne,{onClick:j,className:"bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-700 hover:to-amber-800 text-white rounded-xl font-semibold shadow-lg",children:"Actualiser"})})]}),a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-2xl overflow-hidden border border-amber-100",children:[a.jsx("div",{className:"p-8 bg-gradient-to-r from-orange-600 via-orange-700 to-orange-600 flex justify-between items-center",children:a.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:a.jsx(Hn,{className:"w-7 h-7 text-white"})}),"Gestion des Problmes de Maintenance"]})}),a.jsxs("div",{className:"divide-y divide-orange-100",children:[O.map(C=>{const T=n.find(z=>z.id===C.bus_id),R=s.find(z=>z.id===C.chauffeur_id);return a.jsx(te.div,{className:"p-8 hover:bg-gradient-to-r hover:from-orange-50 hover:to-white transition-all duration-300",whileHover:{x:4},children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex items-start gap-6 flex-1",children:[a.jsx("div",{className:`w-20 h-20 rounded-2xl flex items-center justify-center shadow-lg ${C.urgence==="haute"?"bg-gradient-to-br from-red-600 to-red-700":C.urgence==="moyenne"?"bg-gradient-to-br from-yellow-600 to-yellow-700":"bg-gradient-to-br from-green-600 to-green-700"}`,children:a.jsx(Hn,{className:"w-10 h-10 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:E(C.type_probleme)}),a.jsx("span",{className:`px-4 py-2 rounded-xl font-semibold border-2 ${P(C.urgence)}`,children:C.urgence==="haute"?"URGENT":C.urgence==="moyenne"?"Moyenne":"Faible"}),a.jsx("span",{className:`px-4 py-2 rounded-xl font-semibold border-2 ${A(C.statut)}`,children:C.statut==="resolu"?"Rsolu":C.statut==="en_cours"?"En cours":"En attente"})]}),a.jsx("p",{className:"text-gray-700 mb-4",children:C.description}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[T&&a.jsxs("span",{className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl font-semibold shadow-md flex items-center gap-2",children:[a.jsx(rt,{className:"w-4 h-4"}),T.numero]}),R&&a.jsxs("span",{className:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-xl font-semibold shadow-md flex items-center gap-2",children:[a.jsx(xt,{className:"w-4 h-4"}),R.prenom," ",R.nom]}),a.jsxs("span",{className:"px-4 py-2 bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-xl font-semibold shadow-md flex items-center gap-2",children:[a.jsx(Mr,{className:"w-4 h-4"}),Oe(new Date(C.date_creation),"dd/MM/yyyy HH:mm",{locale:kr})]})]})]})]}),a.jsxs("div",{className:"flex gap-3 ml-6",children:[a.jsx(ne,{variant:"outline",size:"icon",onClick:()=>{f(C),m(!0)},className:"rounded-xl border-2 border-orange-300 text-orange-700 hover:bg-orange-50 hover:border-orange-400 w-11 h-11 shadow-md",children:a.jsx(ia,{className:"w-5 h-5"})}),C.statut!=="resolu"&&a.jsx(ne,{variant:"outline",size:"icon",onClick:()=>b(C.id,"resolu"),className:"rounded-xl border-2 border-green-300 text-green-700 hover:bg-green-50 hover:border-green-400 w-11 h-11 shadow-md",children:a.jsx(it,{className:"w-5 h-5"})}),a.jsx(ne,{variant:"outline",size:"icon",onClick:()=>S(C.id),className:"rounded-xl border-2 border-red-300 text-red-600 hover:bg-red-50 hover:border-red-400 w-11 h-11 shadow-md",children:a.jsx(Ke,{className:"w-5 h-5"})})]})]})},C.id)}),O.length===0&&a.jsxs("div",{className:"p-16 text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Hn,{className:"w-10 h-10 text-orange-600 opacity-60"})}),a.jsx("p",{className:"text-orange-700 font-semibold text-lg",children:"Aucun problme signal"}),a.jsx("p",{className:"text-orange-600 text-sm mt-2",children:"Les signalements de maintenance apparatront ici"})]})]})]}),d&&u&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsx(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-8",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[a.jsx(Hn,{className:"w-8 h-8 text-orange-600"}),"Dtails du Signalement"]}),a.jsx(ne,{variant:"outline",size:"icon",onClick:()=>{m(!1),f(null)},className:"rounded-xl",children:a.jsx(Ke,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Type de problme"}),a.jsx("p",{className:"text-gray-800 font-semibold",children:E(u.type_probleme)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Urgence"}),a.jsx("span",{className:`inline-block px-3 py-1 rounded-lg font-semibold ${P(u.urgence)}`,children:u.urgence==="haute"?"URGENT":u.urgence==="moyenne"?"Moyenne":"Faible"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Statut"}),a.jsx("span",{className:`inline-block px-3 py-1 rounded-lg font-semibold ${A(u.statut)}`,children:u.statut==="resolu"?"Rsolu":u.statut==="en_cours"?"En cours":"En attente"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Date de signalement"}),a.jsx("p",{className:"text-gray-800",children:Oe(new Date(u.date_creation),"dd/MM/yyyy  HH:mm",{locale:kr})})]})]}),u.bus_id&&(()=>{const C=n.find(T=>T.id===u.bus_id);return C?a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-1 flex items-center gap-2",children:[a.jsx(rt,{className:"w-4 h-4"}),"Bus concern"]}),a.jsx("p",{className:"text-gray-800 font-semibold",children:C.numero})]}):null})(),u.chauffeur_id&&(()=>{const C=s.find(T=>T.id===u.chauffeur_id);return C?a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-1 flex items-center gap-2",children:[a.jsx(xt,{className:"w-4 h-4"}),"Chauffeur"]}),a.jsxs("p",{className:"text-gray-800",children:[C.prenom," ",C.nom]})]}):null})(),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Description"}),a.jsx("p",{className:"text-gray-800 bg-gray-50 p-4 rounded-xl",children:u.description})]}),u.photos&&(()=>{try{let C=[];if(Array.isArray(u.photos)?C=u.photos:typeof u.photos=="string"&&(C=JSON.parse(u.photos)),Array.isArray(C)&&C.length>0)return a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-2 flex items-center gap-2",children:[a.jsx(ts,{className:"w-4 h-4"}),"Photos (",C.length,")"]}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:C.map((T,R)=>{const z=typeof T=="string"?T:(T==null?void 0:T.data)||(T==null?void 0:T.src)||T;return z?a.jsx("div",{className:"relative group cursor-pointer",onClick:()=>N(z),children:a.jsxs("div",{className:"relative overflow-hidden rounded-lg border-2 border-gray-200 group-hover:border-orange-400 transition-colors",children:[a.jsx("img",{src:z,alt:`Photo problme ${R+1}`,className:"w-full h-32 object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:a.jsx(zc,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]})},R):null})})]})}catch(C){console.error("Erreur parsing photos:",C)}return null})(),u.date_resolution&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Date de rsolution"}),a.jsx("p",{className:"text-gray-800",children:Oe(new Date(u.date_resolution),"dd/MM/yyyy  HH:mm",{locale:kr})})]})]}),a.jsxs("div",{className:"p-6 border-t border-gray-100 flex justify-end gap-3 mt-6",children:[a.jsx(ne,{variant:"outline",onClick:()=>{m(!1),f(null)},className:"rounded-xl",children:"Fermer"}),u.statut!=="resolu"&&a.jsxs(ne,{onClick:()=>{b(u.id,"resolu"),m(!1),f(null)},className:"bg-green-500 hover:bg-green-600 text-white rounded-xl",children:[a.jsx(it,{className:"w-4 h-4 mr-2"}),"Marquer comme rsolu"]})]})]})})}),h&&a.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>N(null),children:a.jsxs(te.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"relative max-w-5xl max-h-[90vh] w-full",onClick:C=>C.stopPropagation(),children:[a.jsx("button",{onClick:()=>N(null),className:"absolute top-4 right-4 z-10 bg-white/90 hover:bg-white text-gray-800 rounded-full p-2 shadow-lg transition-colors",children:a.jsx(Ke,{className:"w-6 h-6"})}),a.jsx("img",{src:h,alt:"Photo problme",className:"w-full h-auto rounded-lg shadow-2xl"})]})})]})}function Wue(){const e=nt(),[t,r]=_.useState([]),[n,i]=_.useState([]),[s,o]=_.useState([]),[l,c]=_.useState(!0),[u,f]=_.useState("all"),[d,m]=_.useState(""),[p,v]=_.useState("mois");_.useEffect(()=>{g();const h=setInterval(g,3e4);return()=>clearInterval(h)},[]);const g=async()=>{c(!0);try{const[h,N,j]=await Promise.all([vo.getAll(),Sr.getAll(),$n.getAll()]),b=(h==null?void 0:h.data)||h||[],S=(N==null?void 0:N.data)||N||[],P=(j==null?void 0:j.data)||j||[];r(Array.isArray(b)?b:[]),i(Array.isArray(S)?S:[]),o(Array.isArray(P)?P:[])}catch(h){console.error("Erreur lors du chargement:",h)}finally{c(!1)}},w=_.useMemo(()=>{let h=t;u!=="all"&&(h=h.filter(j=>j.bus_id===parseInt(u))),d&&(h=h.filter(j=>j.date===d));const N=new Date;if(p==="jour"){const j=Oe(N,"yyyy-MM-dd");h=h.filter(b=>b.date===j)}else if(p==="semaine"){const j=new Date(N);j.setDate(j.getDate()-7),h=h.filter(b=>new Date(b.date)>=j)}else if(p==="mois"){const j=new Date(N.getFullYear(),N.getMonth(),1);h=h.filter(b=>new Date(b.date)>=j)}return h},[t,u,d,p]),x=_.useMemo(()=>{const h={};return w.forEach(N=>{const j=N.bus_id;h[j]||(h[j]={bus_numero:N.bus_numero,bus_marque:N.bus_marque,bus_modele:N.bus_modele,totalLitres:0,totalCout:0,nombrePrises:0,prixMoyenLitre:0}),h[j].totalLitres+=parseFloat(N.quantite_litres||0),h[j].totalCout+=parseFloat(N.prix_total||0),h[j].nombrePrises+=1}),Object.keys(h).forEach(N=>{const j=h[N];j.totalLitres>0&&(j.prixMoyenLitre=j.totalCout/j.totalLitres)}),Object.values(h).sort((N,j)=>j.totalLitres-N.totalLitres)},[w]),y=_.useMemo(()=>{const h=w.reduce((S,P)=>S+parseFloat(P.quantite_litres||0),0),N=w.reduce((S,P)=>S+parseFloat(P.prix_total||0),0),j=w.length,b=h>0?N/h:0;return{totalLitres:h,totalCout:N,nombrePrises:j,prixMoyenLitre:b}},[w]);return l?a.jsx(Et,{children:a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsx("div",{className:"w-12 h-12 border-4 border-amber-700 border-t-transparent rounded-full animate-spin"})})}):a.jsxs(Et,{title:"Gestion de la Consommation d'Essence",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("button",{onClick:()=>e(ke("AdminDashboard")),className:"flex items-center gap-2 text-gray-600 hover:text-amber-800 transition-colors font-medium",children:[a.jsx(Kt,{className:"w-4 h-4"}),"Retour au tableau de bord"]})}),a.jsxs("div",{className:"mb-6 flex gap-4 items-end",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filtrer par bus"}),a.jsxs(Te,{value:u,onValueChange:f,children:[a.jsx(Ee,{className:"w-full rounded-xl border-2 border-amber-200",children:a.jsx(Ce,{})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"all",children:"Tous les bus"}),n.map(h=>a.jsxs(U,{value:h.id.toString(),children:[h.numero," - ",h.marque," ",h.modele]},h.id))]})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priode"}),a.jsxs(Te,{value:p,onValueChange:v,children:[a.jsx(Ee,{className:"w-full rounded-xl border-2 border-amber-200",children:a.jsx(Ce,{})}),a.jsxs(Pe,{children:[a.jsx(U,{value:"tous",children:"Toutes les priodes"}),a.jsx(U,{value:"jour",children:"Aujourd'hui"}),a.jsx(U,{value:"semaine",children:"7 derniers jours"}),a.jsx(U,{value:"mois",children:"Ce mois"})]})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date spcifique"}),a.jsx(ue,{type:"date",value:d,onChange:h=>m(h.target.value),className:"rounded-xl border-2 border-amber-200"})]}),a.jsx("div",{children:a.jsxs(ne,{onClick:g,disabled:l,className:"bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-700 hover:to-amber-800 text-white rounded-xl font-semibold shadow-lg",children:[a.jsx(qm,{className:`w-4 h-4 mr-2 ${l?"animate-spin":""}`}),"Actualiser"]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-6 text-white shadow-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsx(Yr,{className:"w-8 h-8 opacity-80"})}),a.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Total litres"}),a.jsxs("p",{className:"text-3xl font-bold",children:[y.totalLitres.toFixed(1)," L"]})]}),a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-6 text-white shadow-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsx(Fc,{className:"w-8 h-8 opacity-80"})}),a.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Cot total"}),a.jsxs("p",{className:"text-3xl font-bold",children:[y.totalCout.toFixed(2)," DH"]})]}),a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-6 text-white shadow-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsx(Mr,{className:"w-8 h-8 opacity-80"})}),a.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Nombre de prises"}),a.jsx("p",{className:"text-3xl font-bold",children:y.nombrePrises})]}),a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl p-6 text-white shadow-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsx($4,{className:"w-8 h-8 opacity-80"})}),a.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Prix moyen /L"}),a.jsxs("p",{className:"text-3xl font-bold",children:[y.prixMoyenLitre.toFixed(2)," DH"]})]})]}),a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-2xl overflow-hidden border border-amber-100 mb-6",children:[a.jsx("div",{className:"p-8 bg-gradient-to-r from-amber-600 via-amber-700 to-amber-600",children:a.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:a.jsx(rt,{className:"w-7 h-7 text-white"})}),"Consommation par Bus"]})}),a.jsx("div",{className:"divide-y divide-gray-100",children:x.length===0?a.jsxs("div",{className:"p-16 text-center",children:[a.jsx(Yr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 font-semibold",children:"Aucune consommation enregistre"})]}):x.map((h,N)=>a.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:N*.1},className:"p-8 hover:bg-gradient-to-r hover:from-amber-50 hover:to-white transition-all duration-300",children:a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{className:"flex items-start gap-6",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-amber-600 to-amber-700 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(rt,{className:"w-10 h-10 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-amber-900 mb-3",children:h.bus_numero}),a.jsxs("p",{className:"text-gray-600 mb-4",children:[h.bus_marque," ",h.bus_modele]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 rounded-xl p-4",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total litres"}),a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[h.totalLitres.toFixed(1)," L"]})]}),a.jsxs("div",{className:"bg-green-50 rounded-xl p-4",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Cot total"}),a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[h.totalCout.toFixed(2)," DH"]})]}),a.jsxs("div",{className:"bg-purple-50 rounded-xl p-4",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Nombre de prises"}),a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:h.nombrePrises})]}),a.jsxs("div",{className:"bg-orange-50 rounded-xl p-4",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Prix moyen /L"}),a.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[h.prixMoyenLitre.toFixed(2)," DH"]})]})]})]})]})})},h.bus_numero))})]}),a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-2xl overflow-hidden border border-gray-200",children:[a.jsx("div",{className:"p-8 bg-gradient-to-r from-gray-700 via-gray-800 to-gray-700",children:a.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:a.jsx(Mr,{className:"w-7 h-7 text-white"})}),"Historique des Prises d'Essence"]})}),a.jsx("div",{className:"divide-y divide-gray-100",children:w.length===0?a.jsxs("div",{className:"p-16 text-center",children:[a.jsx(Yr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 font-semibold",children:"Aucune prise d'essence enregistre"}),a.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Les remplissages d'essence effectus par les chauffeurs apparatront ici"})]}):w.map(h=>a.jsx(te.div,{className:"p-8 hover:bg-gradient-to-r hover:from-gray-50 hover:to-white transition-all duration-300",whileHover:{x:4},children:a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{className:"flex items-start gap-6",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Yr,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:[Oe(new Date(h.date),"dd MMMM yyyy",{locale:kr}),"  ",h.heure]}),h.bus_numero&&a.jsx("span",{className:"px-4 py-2 bg-gradient-to-r from-amber-500 to-amber-600 text-white rounded-xl font-semibold shadow-md",children:h.bus_numero})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Quantit"}),a.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:[h.quantite_litres," L"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Prix total"}),a.jsxs("p",{className:"text-lg font-semibold text-green-600",children:[parseFloat(h.prix_total).toFixed(2)," DH"]})]}),h.kilometrage_actuel&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Kilomtrage"}),a.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:[h.kilometrage_actuel," km"]})]}),h.station_service&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Station"}),a.jsx("p",{className:"text-lg font-semibold text-gray-800",children:h.station_service})]}),h.chauffeur_prenom&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Chauffeur"}),a.jsxs("p",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[a.jsx(xt,{className:"w-4 h-4"}),h.chauffeur_prenom," ",h.chauffeur_nom]})]})]})]})]})})},h.id))})]})]})}function Hue(){return a.jsx(y4,{children:a.jsxs(d4,{children:[a.jsx(ot,{path:"/",element:a.jsx(a1,{})}),a.jsx(ot,{path:"/Home",element:a.jsx(a1,{})}),a.jsx(ot,{path:"/ChauffeurLogin",element:a.jsx(ZI,{})}),a.jsx(ot,{path:"/ChauffeurDashboard",element:a.jsx(VR,{})}),a.jsx(ot,{path:"/ResponsableLogin",element:a.jsx(UR,{})}),a.jsx(ot,{path:"/ResponsableDashboard",element:a.jsx(HR,{})}),a.jsx(ot,{path:"/TuteurLogin",element:a.jsx(qR,{})}),a.jsx(ot,{path:"/TuteurRegister",element:a.jsx(ZR,{})}),a.jsx(ot,{path:"/TuteurDashboard",element:a.jsx(JR,{})}),a.jsx(ot,{path:"/TuteurProfile",element:a.jsx(QR,{})}),a.jsx(ot,{path:"/TuteurInscription",element:a.jsx(rB,{})}),a.jsx(ot,{path:"/TuteurPaiement",element:a.jsx(nB,{})}),a.jsx(ot,{path:"/TuteurEleveDetails",element:a.jsx(oB,{})}),a.jsx(ot,{path:"/TuteurDemandes",element:a.jsx(lB,{})}),a.jsx(ot,{path:"/TuteurNotifications",element:a.jsx(cB,{})}),a.jsx(ot,{path:"/AdminLogin",element:a.jsx(uB,{})}),a.jsx(ot,{path:"/AdminDashboard",element:a.jsx(fB,{})}),a.jsx(ot,{path:"/AdminEleves",element:a.jsx(pB,{})}),a.jsx(ot,{path:"/AdminBus",element:a.jsx(mB,{})}),a.jsx(ot,{path:"/AdminChauffeurs",element:a.jsx(hB,{})}),a.jsx(ot,{path:"/AdminInscriptions",element:a.jsx(gB,{})}),a.jsx(ot,{path:"/AdminStats",element:a.jsx(Lue,{})}),a.jsx(ot,{path:"/AdminPaiements",element:a.jsx(Rue,{})}),a.jsx(ot,{path:"/AdminZones",element:a.jsx(Fue,{})}),a.jsx(ot,{path:"/AdminProfile",element:a.jsx(Bue,{})}),a.jsx(ot,{path:"/AdminNotifications",element:a.jsx(zue,{})}),a.jsx(ot,{path:"/AdminAccidents",element:a.jsx(Vue,{})}),a.jsx(ot,{path:"/AdminProblemes",element:a.jsx(Uue,{})}),a.jsx(ot,{path:"/AdminEssence",element:a.jsx(Wue,{})}),a.jsx(ot,{path:"*",element:a.jsx(c4,{to:"/",replace:!0})})]})})}gg.createRoot(document.getElementById("root")).render(a.jsx(I.StrictMode,{children:a.jsx(Hue,{})}));
